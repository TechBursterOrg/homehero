function Dh(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},_l={},qm={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),Oh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),qh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Gh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),ed=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=ed&&t[ed]||t["@@iterator"],typeof t=="function"?t:null)}var Jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gm=Object.assign,Ym={};function un(t,s,r){this.props=t,this.context=s,this.refs=Ym,this.updater=r||Jm}un.prototype.isReactComponent={};un.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};un.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Km(){}Km.prototype=un.prototype;function Ki(t,s,r){this.props=t,this.context=s,this.refs=Ym,this.updater=r||Jm}var Qi=Ki.prototype=new Km;Qi.constructor=Ki;Gm(Qi,un.prototype);Qi.isPureReactComponent=!0;var td=Array.isArray,Qm=Object.prototype.hasOwnProperty,Zi={current:null},Zm={key:!0,ref:!0,__self:!0,__source:!0};function Xm(t,s,r){var n,a={},l=null,o=null;if(s!=null)for(n in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(l=""+s.key),s)Qm.call(s,n)&&!Zm.hasOwnProperty(n)&&(a[n]=s[n]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var d=Array(i),h=0;h<i;h++)d[h]=arguments[h+2];a.children=d}if(t&&t.defaultProps)for(n in i=t.defaultProps,i)a[n]===void 0&&(a[n]=i[n]);return{$$typeof:pa,type:t,key:l,ref:o,props:a,_owner:Zi.current}}function Qh(t,s){return{$$typeof:pa,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Xi(t){return typeof t=="object"&&t!==null&&t.$$typeof===pa}function Zh(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var sd=/\/+/g;function co(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Zh(""+t.key):s.toString(36)}function Ja(t,s,r,n,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pa:case zh:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+co(o,0):n,td(a)?(r="",t!=null&&(r=t.replace(sd,"$&/")+"/"),Ja(a,s,r,"",function(h){return h})):a!=null&&(Xi(a)&&(a=Qh(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(sd,"$&/")+"/")+t)),s.push(a)),1;if(o=0,n=n===""?".":n+":",td(t))for(var i=0;i<t.length;i++){l=t[i];var d=n+co(l,i);o+=Ja(l,s,r,d,a)}else if(d=Kh(t),typeof d=="function")for(t=d.call(t),i=0;!(l=t.next()).done;)l=l.value,d=n+co(l,i++),o+=Ja(l,s,r,d,a);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function Ca(t,s,r){if(t==null)return t;var n=[],a=0;return Ja(t,n,"","",function(l){return s.call(r,l,a++)}),n}function Xh(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},Ga={transition:null},eg={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Zi};function eu(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Ca,forEach:function(t,s,r){Ca(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Ca(t,function(){s++}),s},toArray:function(t){return Ca(t,function(s){return s})||[]},only:function(t){if(!Xi(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=un;Ee.Fragment=Uh;Ee.Profiler=Vh;Ee.PureComponent=Ki;Ee.StrictMode=Oh;Ee.Suspense=Jh;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;Ee.act=eu;Ee.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Gm({},t.props),a=t.key,l=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,o=Zi.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var i=t.type.defaultProps;for(d in s)Qm.call(s,d)&&!Zm.hasOwnProperty(d)&&(n[d]=s[d]===void 0&&i!==void 0?i[d]:s[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){i=Array(d);for(var h=0;h<d;h++)i[h]=arguments[h+2];n.children=i}return{$$typeof:pa,type:t.type,key:a,ref:l,props:n,_owner:o}};Ee.createContext=function(t){return t={$$typeof:Wh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hh,_context:t},t.Consumer=t};Ee.createElement=Xm;Ee.createFactory=function(t){var s=Xm.bind(null,t);return s.type=t,s};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:qh,render:t}};Ee.isValidElement=Xi;Ee.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:Xh}};Ee.memo=function(t,s){return{$$typeof:Gh,type:t,compare:s===void 0?null:s}};Ee.startTransition=function(t){var s=Ga.transition;Ga.transition={};try{t()}finally{Ga.transition=s}};Ee.unstable_act=eu;Ee.useCallback=function(t,s){return Tt.current.useCallback(t,s)};Ee.useContext=function(t){return Tt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};Ee.useEffect=function(t,s){return Tt.current.useEffect(t,s)};Ee.useId=function(){return Tt.current.useId()};Ee.useImperativeHandle=function(t,s,r){return Tt.current.useImperativeHandle(t,s,r)};Ee.useInsertionEffect=function(t,s){return Tt.current.useInsertionEffect(t,s)};Ee.useLayoutEffect=function(t,s){return Tt.current.useLayoutEffect(t,s)};Ee.useMemo=function(t,s){return Tt.current.useMemo(t,s)};Ee.useReducer=function(t,s,r){return Tt.current.useReducer(t,s,r)};Ee.useRef=function(t){return Tt.current.useRef(t)};Ee.useState=function(t){return Tt.current.useState(t)};Ee.useSyncExternalStore=function(t,s,r){return Tt.current.useSyncExternalStore(t,s,r)};Ee.useTransition=function(){return Tt.current.useTransition()};Ee.version="18.3.1";qm.exports=Ee;var c=qm.exports;const Fe=Hm(c),tg=Dh({__proto__:null,default:Fe},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=c,rg=Symbol.for("react.element"),ng=Symbol.for("react.fragment"),ag=Object.prototype.hasOwnProperty,lg=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,og={key:!0,ref:!0,__self:!0,__source:!0};function tu(t,s,r){var n,a={},l=null,o=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(o=s.ref);for(n in s)ag.call(s,n)&&!og.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:rg,type:t,key:l,ref:o,props:a,_owner:lg.current}}_l.Fragment=ng;_l.jsx=tu;_l.jsxs=tu;Wm.exports=_l;var e=Wm.exports,su={exports:{}},Yt={},ru={exports:{}},nu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(A,N){var m=A.length;A.push(N);e:for(;0<m;){var P=m-1>>>1,B=A[P];if(0<a(B,N))A[P]=N,A[m]=B,m=P;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var N=A[0],m=A.pop();if(m!==N){A[0]=m;e:for(var P=0,B=A.length,U=B>>>1;P<U;){var D=2*(P+1)-1,M=A[D],J=D+1,z=A[J];if(0>a(M,m))J<B&&0>a(z,M)?(A[P]=z,A[J]=m,P=J):(A[P]=M,A[D]=m,P=D);else if(J<B&&0>a(z,m))A[P]=z,A[J]=m,P=J;else break e}}return N}function a(A,N){var m=A.sortIndex-N.sortIndex;return m!==0?m:A.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var d=[],h=[],g=1,u=null,x=3,E=!1,k=!1,F=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(A){for(var N=r(h);N!==null;){if(N.callback===null)n(h);else if(N.startTime<=A)n(h),N.sortIndex=N.expirationTime,s(d,N);else break;N=r(h)}}function T(A){if(F=!1,f(A),!k)if(r(d)!==null)k=!0,$(S);else{var N=r(h);N!==null&&w(T,N.startTime-A)}}function S(A,N){k=!1,F&&(F=!1,j(R),R=-1),E=!0;var m=x;try{for(f(N),u=r(d);u!==null&&(!(u.expirationTime>N)||A&&!X());){var P=u.callback;if(typeof P=="function"){u.callback=null,x=u.priorityLevel;var B=P(u.expirationTime<=N);N=t.unstable_now(),typeof B=="function"?u.callback=B:u===r(d)&&n(d),f(N)}else n(d);u=r(d)}if(u!==null)var U=!0;else{var D=r(h);D!==null&&w(T,D.startTime-N),U=!1}return U}finally{u=null,x=m,E=!1}}var p=!1,C=null,R=-1,G=5,K=-1;function X(){return!(t.unstable_now()-K<G)}function _(){if(C!==null){var A=t.unstable_now();K=A;var N=!0;try{N=C(!0,A)}finally{N?Z():(p=!1,C=null)}}else p=!1}var Z;if(typeof y=="function")Z=function(){y(_)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,v=q.port2;q.port1.onmessage=_,Z=function(){v.postMessage(null)}}else Z=function(){b(_,0)};function $(A){C=A,p||(p=!0,Z())}function w(A,N){R=b(function(){A(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,$(S))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(A){switch(x){case 1:case 2:case 3:var N=3;break;default:N=x}var m=x;x=N;try{return A()}finally{x=m}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,N){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var m=x;x=A;try{return N()}finally{x=m}},t.unstable_scheduleCallback=function(A,N,m){var P=t.unstable_now();switch(typeof m=="object"&&m!==null?(m=m.delay,m=typeof m=="number"&&0<m?P+m:P):m=P,A){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=m+B,A={id:g++,callback:N,priorityLevel:A,startTime:m,expirationTime:B,sortIndex:-1},m>P?(A.sortIndex=m,s(h,A),r(d)===null&&A===r(h)&&(F?(j(R),R=-1):F=!0,w(T,m-P))):(A.sortIndex=B,s(d,A),k||E||(k=!0,$(S))),A},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(A){var N=x;return function(){var m=x;x=N;try{return A.apply(this,arguments)}finally{x=m}}}})(nu);ru.exports=nu;var ig=ru.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=c,Gt=ig;function me(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var au=new Set,Gn={};function Ir(t,s){rn(t,s),rn(t+"Capture",s)}function rn(t,s){for(Gn[t]=s,t=0;t<s.length;t++)au.add(s[t])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=Object.prototype.hasOwnProperty,dg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rd={},nd={};function mg(t){return qo.call(nd,t)?!0:qo.call(rd,t)?!1:dg.test(t)?nd[t]=!0:(rd[t]=!0,!1)}function ug(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xg(t,s,r,n){if(s===null||typeof s>"u"||ug(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function At(t,s,r,n,a,l,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];pt[s]=new At(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var ec=/[\-:]([a-z])/g;function tc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(ec,tc);pt[s]=new At(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(ec,tc);pt[s]=new At(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(ec,tc);pt[s]=new At(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function sc(t,s,r,n){var a=pt.hasOwnProperty(s)?pt[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(xg(s,r,a,n)&&(r=null),n||a===null?mg(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var Us=cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),rc=Symbol.for("react.strict_mode"),Jo=Symbol.for("react.profiler"),lu=Symbol.for("react.provider"),ou=Symbol.for("react.context"),nc=Symbol.for("react.forward_ref"),Go=Symbol.for("react.suspense"),Yo=Symbol.for("react.suspense_list"),ac=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),iu=Symbol.for("react.offscreen"),ad=Symbol.iterator;function vn(t){return t===null||typeof t!="object"?null:(t=ad&&t[ad]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,mo;function $n(t){if(mo===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);mo=s&&s[1]||""}return`
`+mo+t}var uo=!1;function xo(t,s){if(!t||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){var n=h}Reflect.construct(t,[],s)}else{try{s.call()}catch(h){n=h}t.call(s.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var a=h.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,i=l.length-1;1<=o&&0<=i&&a[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||a[o]!==l[i]){var d=`
`+a[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=i);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$n(t):""}function hg(t){switch(t.tag){case 5:return $n(t.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return t=xo(t.type,!1),t;case 11:return t=xo(t.type.render,!1),t;case 1:return t=xo(t.type,!0),t;default:return""}}function Ko(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fr:return"Fragment";case Br:return"Portal";case Jo:return"Profiler";case rc:return"StrictMode";case Go:return"Suspense";case Yo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ou:return(t.displayName||"Context")+".Consumer";case lu:return(t._context.displayName||"Context")+".Provider";case nc:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ac:return s=t.displayName||null,s!==null?s:Ko(t.type)||"Memo";case qs:s=t._payload,t=t._init;try{return Ko(t(s))}catch{}}return null}function gg(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(s);case 8:return s===rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pg(t){var s=cu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ea(t){t._valueTracker||(t._valueTracker=pg(t))}function du(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=cu(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qo(t,s){var r=s.checked;return Ke({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ld(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=ir(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function mu(t,s){s=s.checked,s!=null&&sc(t,"checked",s,!1)}function Zo(t,s){mu(t,s);var r=ir(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Xo(t,s.type,r):s.hasOwnProperty("defaultValue")&&Xo(t,s.type,ir(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function od(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xo(t,s,r){(s!=="number"||ll(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Mn=Array.isArray;function Qr(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ir(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function ei(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(me(91));return Ke({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function id(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(me(92));if(Mn(r)){if(1<r.length)throw Error(me(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:ir(r)}}function uu(t,s){var r=ir(s.value),n=ir(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cd(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function xu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ti(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?xu(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ta,hu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ta.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Yn(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fg=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(t){fg.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Fn[s]=Fn[t]})});function gu(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Fn.hasOwnProperty(t)&&Fn[t]?(""+s).trim():s+"px"}function pu(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=gu(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var yg=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function si(t,s){if(s){if(yg[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(me(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(me(61))}if(s.style!=null&&typeof s.style!="object")throw Error(me(62))}}function ri(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,Zr=null,Xr=null;function dd(t){if(t=ba(t)){if(typeof ai!="function")throw Error(me(280));var s=t.stateNode;s&&(s=Vl(s),ai(t.stateNode,t.type,s))}}function fu(t){Zr?Xr?Xr.push(t):Xr=[t]:Zr=t}function yu(){if(Zr){var t=Zr,s=Xr;if(Xr=Zr=null,dd(t),s)for(t=0;t<s.length;t++)dd(s[t])}}function bu(t,s){return t(s)}function vu(){}var ho=!1;function wu(t,s,r){if(ho)return t(s,r);ho=!0;try{return bu(t,s,r)}finally{ho=!1,(Zr!==null||Xr!==null)&&(vu(),yu())}}function Kn(t,s){var r=t.stateNode;if(r===null)return null;var n=Vl(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,s,typeof r));return r}var li=!1;if(Ms)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){li=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{li=!1}function bg(t,s,r,n,a,l,o,i,d){var h=Array.prototype.slice.call(arguments,3);try{s.apply(r,h)}catch(g){this.onError(g)}}var _n=!1,ol=null,il=!1,oi=null,vg={onError:function(t){_n=!0,ol=t}};function wg(t,s,r,n,a,l,o,i,d){_n=!1,ol=null,bg.apply(vg,arguments)}function jg(t,s,r,n,a,l,o,i,d){if(wg.apply(this,arguments),_n){if(_n){var h=ol;_n=!1,ol=null}else throw Error(me(198));il||(il=!0,oi=h)}}function Rr(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function ju(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function md(t){if(Rr(t)!==t)throw Error(me(188))}function Ng(t){var s=t.alternate;if(!s){if(s=Rr(t),s===null)throw Error(me(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return md(a),t;if(l===n)return md(a),s;l=l.sibling}throw Error(me(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,i=a.child;i;){if(i===r){o=!0,r=a,n=l;break}if(i===n){o=!0,n=a,r=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===r){o=!0,r=l,n=a;break}if(i===n){o=!0,n=l,r=a;break}i=i.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:s}function Nu(t){return t=Ng(t),t!==null?ku(t):null}function ku(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=ku(t);if(s!==null)return s;t=t.sibling}return null}var Su=Gt.unstable_scheduleCallback,ud=Gt.unstable_cancelCallback,kg=Gt.unstable_shouldYield,Sg=Gt.unstable_requestPaint,Xe=Gt.unstable_now,Cg=Gt.unstable_getCurrentPriorityLevel,oc=Gt.unstable_ImmediatePriority,Cu=Gt.unstable_UserBlockingPriority,cl=Gt.unstable_NormalPriority,Pg=Gt.unstable_LowPriority,Pu=Gt.unstable_IdlePriority,Dl=null,Ss=null;function Eg(t){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Dl,t,void 0,(t.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:Ig,Tg=Math.log,Ag=Math.LN2;function Ig(t){return t>>>=0,t===0?32:31-(Tg(t)/Ag|0)|0}var Aa=64,Ia=4194304;function Ln(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dl(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,l=t.pingedLanes,o=r&268435455;if(o!==0){var i=o&~a;i!==0?n=Ln(i):(l&=o,l!==0&&(n=Ln(l)))}else o=r&~a,o!==0?n=Ln(o):l!==0&&(n=Ln(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-xs(s),a=1<<r,n|=t[r],s&=~a;return n}function Rg(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var o=31-xs(l),i=1<<o,d=a[o];d===-1?(!(i&r)||i&n)&&(a[o]=Rg(i,s)):d<=s&&(t.expiredLanes|=i),l&=~i}}function ii(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Eu(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function go(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function fa(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-xs(s),t[s]=r}function Mg(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-xs(r),l=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~l}}function ic(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-xs(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var _e=0;function Tu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Au,cc,Iu,Ru,$u,ci=!1,Ra=[],Xs=null,er=null,tr=null,Qn=new Map,Zn=new Map,Gs=[],Lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(t,s){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Qn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(s.pointerId)}}function jn(t,s,r,n,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},s!==null&&(s=ba(s),s!==null&&cc(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function Bg(t,s,r,n,a){switch(s){case"focusin":return Xs=jn(Xs,t,s,r,n,a),!0;case"dragenter":return er=jn(er,t,s,r,n,a),!0;case"mouseover":return tr=jn(tr,t,s,r,n,a),!0;case"pointerover":var l=a.pointerId;return Qn.set(l,jn(Qn.get(l)||null,t,s,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Zn.set(l,jn(Zn.get(l)||null,t,s,r,n,a)),!0}return!1}function Mu(t){var s=yr(t.target);if(s!==null){var r=Rr(s);if(r!==null){if(s=r.tag,s===13){if(s=ju(r),s!==null){t.blockedOn=s,$u(t.priority,function(){Iu(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ya(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=di(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ni=n,r.target.dispatchEvent(n),ni=null}else return s=ba(r),s!==null&&cc(s),t.blockedOn=r,!1;s.shift()}return!0}function hd(t,s,r){Ya(t)&&r.delete(s)}function Fg(){ci=!1,Xs!==null&&Ya(Xs)&&(Xs=null),er!==null&&Ya(er)&&(er=null),tr!==null&&Ya(tr)&&(tr=null),Qn.forEach(hd),Zn.forEach(hd)}function Nn(t,s){t.blockedOn===s&&(t.blockedOn=null,ci||(ci=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,Fg)))}function Xn(t){function s(a){return Nn(a,t)}if(0<Ra.length){Nn(Ra[0],t);for(var r=1;r<Ra.length;r++){var n=Ra[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xs!==null&&Nn(Xs,t),er!==null&&Nn(er,t),tr!==null&&Nn(tr,t),Qn.forEach(s),Zn.forEach(s),r=0;r<Gs.length;r++)n=Gs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)Mu(r),r.blockedOn===null&&Gs.shift()}var en=Us.ReactCurrentBatchConfig,ml=!0;function _g(t,s,r,n){var a=_e,l=en.transition;en.transition=null;try{_e=1,dc(t,s,r,n)}finally{_e=a,en.transition=l}}function Dg(t,s,r,n){var a=_e,l=en.transition;en.transition=null;try{_e=4,dc(t,s,r,n)}finally{_e=a,en.transition=l}}function dc(t,s,r,n){if(ml){var a=di(t,s,r,n);if(a===null)So(t,s,n,ul,r),xd(t,n);else if(Bg(a,t,s,r,n))n.stopPropagation();else if(xd(t,n),s&4&&-1<Lg.indexOf(t)){for(;a!==null;){var l=ba(a);if(l!==null&&Au(l),l=di(t,s,r,n),l===null&&So(t,s,n,ul,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else So(t,s,n,null,r)}}var ul=null;function di(t,s,r,n){if(ul=null,t=lc(n),t=yr(t),t!==null)if(s=Rr(t),s===null)t=null;else if(r=s.tag,r===13){if(t=ju(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ul=t,null}function Lu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cg()){case oc:return 1;case Cu:return 4;case cl:case Pg:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var Ks=null,mc=null,Ka=null;function Bu(){if(Ka)return Ka;var t,s=mc,r=s.length,n,a="value"in Ks?Ks.value:Ks.textContent,l=a.length;for(t=0;t<r&&s[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&s[r-n]===a[l-n];n++);return Ka=a.slice(t,1<n?1-n:void 0)}function Qa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function gd(){return!1}function Kt(t){function s(r,n,a,l,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in t)t.hasOwnProperty(i)&&(r=t[i],this[i]=r?r(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?$a:gd,this.isPropagationStopped=gd,this}return Ke(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),s}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Kt(xn),ya=Ke({},xn,{view:0,detail:0}),zg=Kt(ya),po,fo,kn,zl=Ke({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(po=t.screenX-kn.screenX,fo=t.screenY-kn.screenY):fo=po=0,kn=t),po)},movementY:function(t){return"movementY"in t?t.movementY:fo}}),pd=Kt(zl),Ug=Ke({},zl,{dataTransfer:0}),Og=Kt(Ug),Vg=Ke({},ya,{relatedTarget:0}),yo=Kt(Vg),Hg=Ke({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wg=Kt(Hg),qg=Ke({},xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jg=Kt(qg),Gg=Ke({},xn,{data:0}),fd=Kt(Gg),Yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zg(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Qg[t])?!!s[t]:!1}function xc(){return Zg}var Xg=Ke({},ya,{key:function(t){if(t.key){var s=Yg[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(t){return t.type==="keypress"?Qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e0=Kt(Xg),t0=Ke({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=Kt(t0),s0=Ke({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),r0=Kt(s0),n0=Ke({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=Kt(n0),l0=Ke({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=Kt(l0),i0=[9,13,27,32],hc=Ms&&"CompositionEvent"in window,Dn=null;Ms&&"documentMode"in document&&(Dn=document.documentMode);var c0=Ms&&"TextEvent"in window&&!Dn,Fu=Ms&&(!hc||Dn&&8<Dn&&11>=Dn),bd=" ",vd=!1;function _u(t,s){switch(t){case"keyup":return i0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function d0(t,s){switch(t){case"compositionend":return Du(s);case"keypress":return s.which!==32?null:(vd=!0,bd);case"textInput":return t=s.data,t===bd&&vd?null:t;default:return null}}function m0(t,s){if(_r)return t==="compositionend"||!hc&&_u(t,s)?(t=Bu(),Ka=mc=Ks=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fu&&s.locale!=="ko"?null:s.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!u0[t.type]:s==="textarea"}function zu(t,s,r,n){fu(n),s=xl(s,"onChange"),0<s.length&&(r=new uc("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var zn=null,ea=null;function x0(t){Qu(t,0)}function Ul(t){var s=Ur(t);if(du(s))return t}function h0(t,s){if(t==="change")return s}var Uu=!1;if(Ms){var bo;if(Ms){var vo="oninput"in document;if(!vo){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),vo=typeof jd.oninput=="function"}bo=vo}else bo=!1;Uu=bo&&(!document.documentMode||9<document.documentMode)}function Nd(){zn&&(zn.detachEvent("onpropertychange",Ou),ea=zn=null)}function Ou(t){if(t.propertyName==="value"&&Ul(ea)){var s=[];zu(s,ea,t,lc(t)),wu(x0,s)}}function g0(t,s,r){t==="focusin"?(Nd(),zn=s,ea=r,zn.attachEvent("onpropertychange",Ou)):t==="focusout"&&Nd()}function p0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(ea)}function f0(t,s){if(t==="click")return Ul(s)}function y0(t,s){if(t==="input"||t==="change")return Ul(s)}function b0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ps=typeof Object.is=="function"?Object.is:b0;function ta(t,s){if(ps(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qo.call(s,a)||!ps(t[a],s[a]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,s){var r=kd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kd(r)}}function Vu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Vu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Hu(){for(var t=window,s=ll();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=ll(t.document)}return s}function gc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function v0(t){var s=Hu(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Vu(r.ownerDocument.documentElement,r)){if(n!==null&&gc(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!t.extend&&l>n&&(a=n,n=l,l=a),a=Sd(r,l);var o=Sd(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),l>n?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w0=Ms&&"documentMode"in document&&11>=document.documentMode,Dr=null,mi=null,Un=null,ui=!1;function Cd(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ui||Dr==null||Dr!==ll(n)||(n=Dr,"selectionStart"in n&&gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&ta(Un,n)||(Un=n,n=xl(mi,"onSelect"),0<n.length&&(s=new uc("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=Dr)))}function Ma(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var zr={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},wo={},Wu={};Ms&&(Wu=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ol(t){if(wo[t])return wo[t];if(!zr[t])return t;var s=zr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Wu)return wo[t]=s[r];return t}var qu=Ol("animationend"),Ju=Ol("animationiteration"),Gu=Ol("animationstart"),Yu=Ol("transitionend"),Ku=new Map,Pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,s){Ku.set(t,s),Ir(s,[t])}for(var jo=0;jo<Pd.length;jo++){var No=Pd[jo],j0=No.toLowerCase(),N0=No[0].toUpperCase()+No.slice(1);mr(j0,"on"+N0)}mr(qu,"onAnimationEnd");mr(Ju,"onAnimationIteration");mr(Gu,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(Yu,"onTransitionEnd");rn("onMouseEnter",["mouseout","mouseover"]);rn("onMouseLeave",["mouseout","mouseover"]);rn("onPointerEnter",["pointerout","pointerover"]);rn("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function Ed(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,jg(n,s,void 0,t),t.currentTarget=null}function Qu(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var o=n.length-1;0<=o;o--){var i=n[o],d=i.instance,h=i.currentTarget;if(i=i.listener,d!==l&&a.isPropagationStopped())break e;Ed(a,i,h),l=d}else for(o=0;o<n.length;o++){if(i=n[o],d=i.instance,h=i.currentTarget,i=i.listener,d!==l&&a.isPropagationStopped())break e;Ed(a,i,h),l=d}}}if(il)throw t=oi,il=!1,oi=null,t}function Oe(t,s){var r=s[fi];r===void 0&&(r=s[fi]=new Set);var n=t+"__bubble";r.has(n)||(Zu(s,t,2,!1),r.add(n))}function ko(t,s,r){var n=0;s&&(n|=4),Zu(r,t,n,s)}var La="_reactListening"+Math.random().toString(36).slice(2);function sa(t){if(!t[La]){t[La]=!0,au.forEach(function(r){r!=="selectionchange"&&(k0.has(r)||ko(r,!1,t),ko(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[La]||(s[La]=!0,ko("selectionchange",!1,s))}}function Zu(t,s,r,n){switch(Lu(s)){case 1:var a=_g;break;case 4:a=Dg;break;default:a=dc}r=a.bind(null,s,r,t),a=void 0,!li||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function So(t,s,r,n,a){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;i!==null;){if(o=yr(i),o===null)return;if(d=o.tag,d===5||d===6){n=l=o;continue e}i=i.parentNode}}n=n.return}wu(function(){var h=l,g=lc(r),u=[];e:{var x=Ku.get(t);if(x!==void 0){var E=uc,k=t;switch(t){case"keypress":if(Qa(r)===0)break e;case"keydown":case"keyup":E=e0;break;case"focusin":k="focus",E=yo;break;case"focusout":k="blur",E=yo;break;case"beforeblur":case"afterblur":E=yo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=r0;break;case qu:case Ju:case Gu:E=Wg;break;case Yu:E=a0;break;case"scroll":E=zg;break;case"wheel":E=o0;break;case"copy":case"cut":case"paste":E=Jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=yd}var F=(s&4)!==0,b=!F&&t==="scroll",j=F?x!==null?x+"Capture":null:x;F=[];for(var y=h,f;y!==null;){f=y;var T=f.stateNode;if(f.tag===5&&T!==null&&(f=T,j!==null&&(T=Kn(y,j),T!=null&&F.push(ra(y,T,f)))),b)break;y=y.return}0<F.length&&(x=new E(x,k,null,r,g),u.push({event:x,listeners:F}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",x&&r!==ni&&(k=r.relatedTarget||r.fromElement)&&(yr(k)||k[Ls]))break e;if((E||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,E?(k=r.relatedTarget||r.toElement,E=h,k=k?yr(k):null,k!==null&&(b=Rr(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=h),E!==k)){if(F=pd,T="onMouseLeave",j="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(F=yd,T="onPointerLeave",j="onPointerEnter",y="pointer"),b=E==null?x:Ur(E),f=k==null?x:Ur(k),x=new F(T,y+"leave",E,r,g),x.target=b,x.relatedTarget=f,T=null,yr(g)===h&&(F=new F(j,y+"enter",k,r,g),F.target=f,F.relatedTarget=b,T=F),b=T,E&&k)t:{for(F=E,j=k,y=0,f=F;f;f=$r(f))y++;for(f=0,T=j;T;T=$r(T))f++;for(;0<y-f;)F=$r(F),y--;for(;0<f-y;)j=$r(j),f--;for(;y--;){if(F===j||j!==null&&F===j.alternate)break t;F=$r(F),j=$r(j)}F=null}else F=null;E!==null&&Td(u,x,E,F,!1),k!==null&&b!==null&&Td(u,b,k,F,!0)}}e:{if(x=h?Ur(h):window,E=x.nodeName&&x.nodeName.toLowerCase(),E==="select"||E==="input"&&x.type==="file")var S=h0;else if(wd(x))if(Uu)S=y0;else{S=p0;var p=g0}else(E=x.nodeName)&&E.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=f0);if(S&&(S=S(t,h))){zu(u,S,r,g);break e}p&&p(t,x,h),t==="focusout"&&(p=x._wrapperState)&&p.controlled&&x.type==="number"&&Xo(x,"number",x.value)}switch(p=h?Ur(h):window,t){case"focusin":(wd(p)||p.contentEditable==="true")&&(Dr=p,mi=h,Un=null);break;case"focusout":Un=mi=Dr=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":ui=!1,Cd(u,r,g);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":Cd(u,r,g)}var C;if(hc)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else _r?_u(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Fu&&r.locale!=="ko"&&(_r||R!=="onCompositionStart"?R==="onCompositionEnd"&&_r&&(C=Bu()):(Ks=g,mc="value"in Ks?Ks.value:Ks.textContent,_r=!0)),p=xl(h,R),0<p.length&&(R=new fd(R,t,null,r,g),u.push({event:R,listeners:p}),C?R.data=C:(C=Du(r),C!==null&&(R.data=C)))),(C=c0?d0(t,r):m0(t,r))&&(h=xl(h,"onBeforeInput"),0<h.length&&(g=new fd("onBeforeInput","beforeinput",null,r,g),u.push({event:g,listeners:h}),g.data=C))}Qu(u,s)})}function ra(t,s,r){return{instance:t,listener:s,currentTarget:r}}function xl(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Kn(t,r),l!=null&&n.unshift(ra(t,l,a)),l=Kn(t,s),l!=null&&n.push(ra(t,l,a))),t=t.return}return n}function $r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Td(t,s,r,n,a){for(var l=s._reactName,o=[];r!==null&&r!==n;){var i=r,d=i.alternate,h=i.stateNode;if(d!==null&&d===n)break;i.tag===5&&h!==null&&(i=h,a?(d=Kn(r,l),d!=null&&o.unshift(ra(r,d,i))):a||(d=Kn(r,l),d!=null&&o.push(ra(r,d,i)))),r=r.return}o.length!==0&&t.push({event:s,listeners:o})}var S0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Ad(t){return(typeof t=="string"?t:""+t).replace(S0,`
`).replace(C0,"")}function Ba(t,s,r){if(s=Ad(s),Ad(t)!==s&&r)throw Error(me(425))}function hl(){}var xi=null,hi=null;function gi(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pi=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,Id=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof Id<"u"?function(t){return Id.resolve(null).then(t).catch(T0)}:pi;function T0(t){setTimeout(function(){throw t})}function Co(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Xn(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Xn(s)}function sr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Rd(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var hn=Math.random().toString(36).slice(2),Ns="__reactFiber$"+hn,na="__reactProps$"+hn,Ls="__reactContainer$"+hn,fi="__reactEvents$"+hn,A0="__reactListeners$"+hn,I0="__reactHandles$"+hn;function yr(t){var s=t[Ns];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ls]||r[Ns]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Rd(t);t!==null;){if(r=t[Ns])return r;t=Rd(t)}return s}t=r,r=t.parentNode}return null}function ba(t){return t=t[Ns]||t[Ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function Vl(t){return t[na]||null}var yi=[],Or=-1;function ur(t){return{current:t}}function Ve(t){0>Or||(t.current=yi[Or],yi[Or]=null,Or--)}function Ue(t,s){Or++,yi[Or]=t.current,t.current=s}var cr={},jt=ur(cr),Bt=ur(!1),kr=cr;function nn(t,s){var r=t.type.contextTypes;if(!r)return cr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=s[l];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Ft(t){return t=t.childContextTypes,t!=null}function gl(){Ve(Bt),Ve(jt)}function $d(t,s,r){if(jt.current!==cr)throw Error(me(168));Ue(jt,s),Ue(Bt,r)}function Xu(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(me(108,gg(t)||"Unknown",a));return Ke({},r,n)}function pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,kr=jt.current,Ue(jt,t),Ue(Bt,Bt.current),!0}function Md(t,s,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=Xu(t,s,kr),n.__reactInternalMemoizedMergedChildContext=t,Ve(Bt),Ve(jt),Ue(jt,t)):Ve(Bt),Ue(Bt,r)}var Es=null,Hl=!1,Po=!1;function ex(t){Es===null?Es=[t]:Es.push(t)}function R0(t){Hl=!0,ex(t)}function xr(){if(!Po&&Es!==null){Po=!0;var t=0,s=_e;try{var r=Es;for(_e=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Es=null,Hl=!1}catch(a){throw Es!==null&&(Es=Es.slice(t+1)),Su(oc,xr),a}finally{_e=s,Po=!1}}return null}var Vr=[],Hr=0,fl=null,yl=0,es=[],ts=0,Sr=null,Ts=1,As="";function pr(t,s){Vr[Hr++]=yl,Vr[Hr++]=fl,fl=t,yl=s}function tx(t,s,r){es[ts++]=Ts,es[ts++]=As,es[ts++]=Sr,Sr=t;var n=Ts;t=As;var a=32-xs(n)-1;n&=~(1<<a),r+=1;var l=32-xs(s)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ts=1<<32-xs(s)+a|r<<a|n,As=l+t}else Ts=1<<l|r<<a|n,As=t}function pc(t){t.return!==null&&(pr(t,1),tx(t,1,0))}function fc(t){for(;t===fl;)fl=Vr[--Hr],Vr[Hr]=null,yl=Vr[--Hr],Vr[Hr]=null;for(;t===Sr;)Sr=es[--ts],es[ts]=null,As=es[--ts],es[ts]=null,Ts=es[--ts],es[ts]=null}var Jt=null,qt=null,He=!1,ms=null;function sx(t,s){var r=ss(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function Ld(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Jt=t,qt=sr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Jt=t,qt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Sr!==null?{id:Ts,overflow:As}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=ss(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Jt=t,qt=null,!0):!1;default:return!1}}function bi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vi(t){if(He){var s=qt;if(s){var r=s;if(!Ld(t,s)){if(bi(t))throw Error(me(418));s=sr(r.nextSibling);var n=Jt;s&&Ld(t,s)?sx(n,r):(t.flags=t.flags&-4097|2,He=!1,Jt=t)}}else{if(bi(t))throw Error(me(418));t.flags=t.flags&-4097|2,He=!1,Jt=t}}}function Bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Fa(t){if(t!==Jt)return!1;if(!He)return Bd(t),He=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!gi(t.type,t.memoizedProps)),s&&(s=qt)){if(bi(t))throw rx(),Error(me(418));for(;s;)sx(t,s),s=sr(s.nextSibling)}if(Bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){qt=sr(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}qt=null}}else qt=Jt?sr(t.stateNode.nextSibling):null;return!0}function rx(){for(var t=qt;t;)t=sr(t.nextSibling)}function an(){qt=Jt=null,He=!1}function yc(t){ms===null?ms=[t]:ms.push(t)}var $0=Us.ReactCurrentBatchConfig;function Sn(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var a=n,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(o){var i=a.refs;o===null?delete i[l]:i[l]=o},s._stringRef=l,s)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function _a(t,s){throw t=Object.prototype.toString.call(s),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Fd(t){var s=t._init;return s(t._payload)}function nx(t){function s(j,y){if(t){var f=j.deletions;f===null?(j.deletions=[y],j.flags|=16):f.push(y)}}function r(j,y){if(!t)return null;for(;y!==null;)s(j,y),y=y.sibling;return null}function n(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=lr(j,y),j.index=0,j.sibling=null,j}function l(j,y,f){return j.index=f,t?(f=j.alternate,f!==null?(f=f.index,f<y?(j.flags|=2,y):f):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return t&&j.alternate===null&&(j.flags|=2),j}function i(j,y,f,T){return y===null||y.tag!==6?(y=Mo(f,j.mode,T),y.return=j,y):(y=a(y,f),y.return=j,y)}function d(j,y,f,T){var S=f.type;return S===Fr?g(j,y,f.props.children,T,f.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qs&&Fd(S)===y.type)?(T=a(y,f.props),T.ref=Sn(j,y,f),T.return=j,T):(T=nl(f.type,f.key,f.props,null,j.mode,T),T.ref=Sn(j,y,f),T.return=j,T)}function h(j,y,f,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==f.containerInfo||y.stateNode.implementation!==f.implementation?(y=Lo(f,j.mode,T),y.return=j,y):(y=a(y,f.children||[]),y.return=j,y)}function g(j,y,f,T,S){return y===null||y.tag!==7?(y=jr(f,j.mode,T,S),y.return=j,y):(y=a(y,f),y.return=j,y)}function u(j,y,f){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Mo(""+y,j.mode,f),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:return f=nl(y.type,y.key,y.props,null,j.mode,f),f.ref=Sn(j,null,y),f.return=j,f;case Br:return y=Lo(y,j.mode,f),y.return=j,y;case qs:var T=y._init;return u(j,T(y._payload),f)}if(Mn(y)||vn(y))return y=jr(y,j.mode,f,null),y.return=j,y;_a(j,y)}return null}function x(j,y,f,T){var S=y!==null?y.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:i(j,y,""+f,T);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Pa:return f.key===S?d(j,y,f,T):null;case Br:return f.key===S?h(j,y,f,T):null;case qs:return S=f._init,x(j,y,S(f._payload),T)}if(Mn(f)||vn(f))return S!==null?null:g(j,y,f,T,null);_a(j,f)}return null}function E(j,y,f,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return j=j.get(f)||null,i(y,j,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pa:return j=j.get(T.key===null?f:T.key)||null,d(y,j,T,S);case Br:return j=j.get(T.key===null?f:T.key)||null,h(y,j,T,S);case qs:var p=T._init;return E(j,y,f,p(T._payload),S)}if(Mn(T)||vn(T))return j=j.get(f)||null,g(y,j,T,S,null);_a(y,T)}return null}function k(j,y,f,T){for(var S=null,p=null,C=y,R=y=0,G=null;C!==null&&R<f.length;R++){C.index>R?(G=C,C=null):G=C.sibling;var K=x(j,C,f[R],T);if(K===null){C===null&&(C=G);break}t&&C&&K.alternate===null&&s(j,C),y=l(K,y,R),p===null?S=K:p.sibling=K,p=K,C=G}if(R===f.length)return r(j,C),He&&pr(j,R),S;if(C===null){for(;R<f.length;R++)C=u(j,f[R],T),C!==null&&(y=l(C,y,R),p===null?S=C:p.sibling=C,p=C);return He&&pr(j,R),S}for(C=n(j,C);R<f.length;R++)G=E(C,j,R,f[R],T),G!==null&&(t&&G.alternate!==null&&C.delete(G.key===null?R:G.key),y=l(G,y,R),p===null?S=G:p.sibling=G,p=G);return t&&C.forEach(function(X){return s(j,X)}),He&&pr(j,R),S}function F(j,y,f,T){var S=vn(f);if(typeof S!="function")throw Error(me(150));if(f=S.call(f),f==null)throw Error(me(151));for(var p=S=null,C=y,R=y=0,G=null,K=f.next();C!==null&&!K.done;R++,K=f.next()){C.index>R?(G=C,C=null):G=C.sibling;var X=x(j,C,K.value,T);if(X===null){C===null&&(C=G);break}t&&C&&X.alternate===null&&s(j,C),y=l(X,y,R),p===null?S=X:p.sibling=X,p=X,C=G}if(K.done)return r(j,C),He&&pr(j,R),S;if(C===null){for(;!K.done;R++,K=f.next())K=u(j,K.value,T),K!==null&&(y=l(K,y,R),p===null?S=K:p.sibling=K,p=K);return He&&pr(j,R),S}for(C=n(j,C);!K.done;R++,K=f.next())K=E(C,j,R,K.value,T),K!==null&&(t&&K.alternate!==null&&C.delete(K.key===null?R:K.key),y=l(K,y,R),p===null?S=K:p.sibling=K,p=K);return t&&C.forEach(function(_){return s(j,_)}),He&&pr(j,R),S}function b(j,y,f,T){if(typeof f=="object"&&f!==null&&f.type===Fr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Pa:e:{for(var S=f.key,p=y;p!==null;){if(p.key===S){if(S=f.type,S===Fr){if(p.tag===7){r(j,p.sibling),y=a(p,f.props.children),y.return=j,j=y;break e}}else if(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qs&&Fd(S)===p.type){r(j,p.sibling),y=a(p,f.props),y.ref=Sn(j,p,f),y.return=j,j=y;break e}r(j,p);break}else s(j,p);p=p.sibling}f.type===Fr?(y=jr(f.props.children,j.mode,T,f.key),y.return=j,j=y):(T=nl(f.type,f.key,f.props,null,j.mode,T),T.ref=Sn(j,y,f),T.return=j,j=T)}return o(j);case Br:e:{for(p=f.key;y!==null;){if(y.key===p)if(y.tag===4&&y.stateNode.containerInfo===f.containerInfo&&y.stateNode.implementation===f.implementation){r(j,y.sibling),y=a(y,f.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else s(j,y);y=y.sibling}y=Lo(f,j.mode,T),y.return=j,j=y}return o(j);case qs:return p=f._init,b(j,y,p(f._payload),T)}if(Mn(f))return k(j,y,f,T);if(vn(f))return F(j,y,f,T);_a(j,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,f),y.return=j,j=y):(r(j,y),y=Mo(f,j.mode,T),y.return=j,j=y),o(j)):r(j,y)}return b}var ln=nx(!0),ax=nx(!1),bl=ur(null),vl=null,Wr=null,bc=null;function vc(){bc=Wr=vl=null}function wc(t){var s=bl.current;Ve(bl),t._currentValue=s}function wi(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function tn(t,s){vl=t,bc=Wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Lt=!0),t.firstContext=null)}function as(t){var s=t._currentValue;if(bc!==t)if(t={context:t,memoizedValue:s,next:null},Wr===null){if(vl===null)throw Error(me(308));Wr=t,vl.dependencies={lanes:0,firstContext:t}}else Wr=Wr.next=t;return s}var br=null;function jc(t){br===null?br=[t]:br.push(t)}function lx(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,jc(s)):(r.next=a.next,a.next=r),s.interleaved=r,Bs(t,n)}function Bs(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Js=!1;function Nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ox(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function rr(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,Bs(t,r)}return a=n.interleaved,a===null?(s.next=s,jc(n)):(s.next=a.next,a.next=s),n.interleaved=s,Bs(t,r)}function Za(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,ic(t,r)}}function _d(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=s:l=l.next=s}else a=l=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function wl(t,s,r,n){var a=t.updateQueue;Js=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var d=i,h=d.next;d.next=null,o===null?l=h:o.next=h,o=d;var g=t.alternate;g!==null&&(g=g.updateQueue,i=g.lastBaseUpdate,i!==o&&(i===null?g.firstBaseUpdate=h:i.next=h,g.lastBaseUpdate=d))}if(l!==null){var u=a.baseState;o=0,g=h=d=null,i=l;do{var x=i.lane,E=i.eventTime;if((n&x)===x){g!==null&&(g=g.next={eventTime:E,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=t,F=i;switch(x=s,E=r,F.tag){case 1:if(k=F.payload,typeof k=="function"){u=k.call(E,u,x);break e}u=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=F.payload,x=typeof k=="function"?k.call(E,u,x):k,x==null)break e;u=Ke({},u,x);break e;case 2:Js=!0}}i.callback!==null&&i.lane!==0&&(t.flags|=64,x=a.effects,x===null?a.effects=[i]:x.push(i))}else E={eventTime:E,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},g===null?(h=g=E,d=u):g=g.next=E,o|=x;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;x=i,i=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(g===null&&(d=u),a.baseState=d,a.firstBaseUpdate=h,a.lastBaseUpdate=g,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);Pr|=o,t.lanes=o,t.memoizedState=u}}function Dd(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(me(191,a));a.call(n)}}}var va={},Cs=ur(va),aa=ur(va),la=ur(va);function vr(t){if(t===va)throw Error(me(174));return t}function kc(t,s){switch(Ue(la,s),Ue(aa,t),Ue(Cs,va),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ti(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=ti(s,t)}Ve(Cs),Ue(Cs,s)}function on(){Ve(Cs),Ve(aa),Ve(la)}function ix(t){vr(la.current);var s=vr(Cs.current),r=ti(s,t.type);s!==r&&(Ue(aa,t),Ue(Cs,r))}function Sc(t){aa.current===t&&(Ve(Cs),Ve(aa))}var Ge=ur(0);function jl(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eo=[];function Cc(){for(var t=0;t<Eo.length;t++)Eo[t]._workInProgressVersionPrimary=null;Eo.length=0}var Xa=Us.ReactCurrentDispatcher,To=Us.ReactCurrentBatchConfig,Cr=0,Ye=null,at=null,ct=null,Nl=!1,On=!1,oa=0,M0=0;function ft(){throw Error(me(321))}function Pc(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!ps(t[r],s[r]))return!1;return!0}function Ec(t,s,r,n,a,l){if(Cr=l,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Xa.current=t===null||t.memoizedState===null?_0:D0,t=r(n,a),On){l=0;do{if(On=!1,oa=0,25<=l)throw Error(me(301));l+=1,ct=at=null,s.updateQueue=null,Xa.current=z0,t=r(n,a)}while(On)}if(Xa.current=kl,s=at!==null&&at.next!==null,Cr=0,ct=at=Ye=null,Nl=!1,s)throw Error(me(300));return t}function Tc(){var t=oa!==0;return oa=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ye.memoizedState=ct=t:ct=ct.next=t,ct}function ls(){if(at===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var s=ct===null?Ye.memoizedState:ct.next;if(s!==null)ct=s,at=t;else{if(t===null)throw Error(me(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ye.memoizedState=ct=t:ct=ct.next=t}return ct}function ia(t,s){return typeof s=="function"?s(t):s}function Ao(t){var s=ls(),r=s.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=at,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var i=o=null,d=null,h=l;do{var g=h.lane;if((Cr&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var u={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(i=d=u,o=n):d=d.next=u,Ye.lanes|=g,Pr|=g}h=h.next}while(h!==null&&h!==l);d===null?o=n:d.next=i,ps(n,s.memoizedState)||(Lt=!0),s.memoizedState=n,s.baseState=o,s.baseQueue=d,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do l=a.lane,Ye.lanes|=l,Pr|=l,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Io(t){var s=ls(),r=s.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,l=s.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=t(l,o.action),o=o.next;while(o!==a);ps(l,s.memoizedState)||(Lt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function cx(){}function dx(t,s){var r=Ye,n=ls(),a=s(),l=!ps(n.memoizedState,a);if(l&&(n.memoizedState=a,Lt=!0),n=n.queue,Ac(xx.bind(null,r,n,t),[t]),n.getSnapshot!==s||l||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,ca(9,ux.bind(null,r,n,a,s),void 0,null),mt===null)throw Error(me(349));Cr&30||mx(r,s,a)}return a}function mx(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function ux(t,s,r,n){s.value=r,s.getSnapshot=n,hx(s)&&gx(t)}function xx(t,s,r){return r(function(){hx(s)&&gx(t)})}function hx(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!ps(t,r)}catch{return!0}}function gx(t){var s=Bs(t,1);s!==null&&hs(s,t,1,-1)}function zd(t){var s=vs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:t},s.queue=t,t=t.dispatch=F0.bind(null,Ye,t),[s.memoizedState,t]}function ca(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function px(){return ls().memoizedState}function el(t,s,r,n){var a=vs();Ye.flags|=t,a.memoizedState=ca(1|s,r,void 0,n===void 0?null:n)}function Wl(t,s,r,n){var a=ls();n=n===void 0?null:n;var l=void 0;if(at!==null){var o=at.memoizedState;if(l=o.destroy,n!==null&&Pc(n,o.deps)){a.memoizedState=ca(s,r,l,n);return}}Ye.flags|=t,a.memoizedState=ca(1|s,r,l,n)}function Ud(t,s){return el(8390656,8,t,s)}function Ac(t,s){return Wl(2048,8,t,s)}function fx(t,s){return Wl(4,2,t,s)}function yx(t,s){return Wl(4,4,t,s)}function bx(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function vx(t,s,r){return r=r!=null?r.concat([t]):null,Wl(4,4,bx.bind(null,s,t),r)}function Ic(){}function wx(t,s){var r=ls();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Pc(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function jx(t,s){var r=ls();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Pc(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function Nx(t,s,r){return Cr&21?(ps(r,s)||(r=Eu(),Ye.lanes|=r,Pr|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=r)}function L0(t,s){var r=_e;_e=r!==0&&4>r?r:4,t(!0);var n=To.transition;To.transition={};try{t(!1),s()}finally{_e=r,To.transition=n}}function kx(){return ls().memoizedState}function B0(t,s,r){var n=ar(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sx(t))Cx(s,r);else if(r=lx(t,s,r,n),r!==null){var a=Pt();hs(r,t,n,a),Px(r,s,n)}}function F0(t,s,r){var n=ar(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sx(t))Cx(s,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var o=s.lastRenderedState,i=l(o,r);if(a.hasEagerState=!0,a.eagerState=i,ps(i,o)){var d=s.interleaved;d===null?(a.next=a,jc(s)):(a.next=d.next,d.next=a),s.interleaved=a;return}}catch{}finally{}r=lx(t,s,a,n),r!==null&&(a=Pt(),hs(r,t,n,a),Px(r,s,n))}}function Sx(t){var s=t.alternate;return t===Ye||s!==null&&s===Ye}function Cx(t,s){On=Nl=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Px(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,ic(t,r)}}var kl={readContext:as,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},_0={readContext:as,useCallback:function(t,s){return vs().memoizedState=[t,s===void 0?null:s],t},useContext:as,useEffect:Ud,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,el(4194308,4,bx.bind(null,s,t),r)},useLayoutEffect:function(t,s){return el(4194308,4,t,s)},useInsertionEffect:function(t,s){return el(4,2,t,s)},useMemo:function(t,s){var r=vs();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=vs();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=B0.bind(null,Ye,t),[n.memoizedState,t]},useRef:function(t){var s=vs();return t={current:t},s.memoizedState=t},useState:zd,useDebugValue:Ic,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=zd(!1),s=t[0];return t=L0.bind(null,t[1]),vs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Ye,a=vs();if(He){if(r===void 0)throw Error(me(407));r=r()}else{if(r=s(),mt===null)throw Error(me(349));Cr&30||mx(n,s,r)}a.memoizedState=r;var l={value:r,getSnapshot:s};return a.queue=l,Ud(xx.bind(null,n,l,t),[t]),n.flags|=2048,ca(9,ux.bind(null,n,l,r,s),void 0,null),r},useId:function(){var t=vs(),s=mt.identifierPrefix;if(He){var r=As,n=Ts;r=(n&~(1<<32-xs(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=oa++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=M0++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},D0={readContext:as,useCallback:wx,useContext:as,useEffect:Ac,useImperativeHandle:vx,useInsertionEffect:fx,useLayoutEffect:yx,useMemo:jx,useReducer:Ao,useRef:px,useState:function(){return Ao(ia)},useDebugValue:Ic,useDeferredValue:function(t){var s=ls();return Nx(s,at.memoizedState,t)},useTransition:function(){var t=Ao(ia)[0],s=ls().memoizedState;return[t,s]},useMutableSource:cx,useSyncExternalStore:dx,useId:kx,unstable_isNewReconciler:!1},z0={readContext:as,useCallback:wx,useContext:as,useEffect:Ac,useImperativeHandle:vx,useInsertionEffect:fx,useLayoutEffect:yx,useMemo:jx,useReducer:Io,useRef:px,useState:function(){return Io(ia)},useDebugValue:Ic,useDeferredValue:function(t){var s=ls();return at===null?s.memoizedState=t:Nx(s,at.memoizedState,t)},useTransition:function(){var t=Io(ia)[0],s=ls().memoizedState;return[t,s]},useMutableSource:cx,useSyncExternalStore:dx,useId:kx,unstable_isNewReconciler:!1};function cs(t,s){if(t&&t.defaultProps){s=Ke({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function ji(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Ke({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ql={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Pt(),a=ar(t),l=Is(n,a);l.payload=s,r!=null&&(l.callback=r),s=rr(t,l,a),s!==null&&(hs(s,t,a,n),Za(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Pt(),a=ar(t),l=Is(n,a);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=rr(t,l,a),s!==null&&(hs(s,t,a,n),Za(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Pt(),n=ar(t),a=Is(r,n);a.tag=2,s!=null&&(a.callback=s),s=rr(t,a,n),s!==null&&(hs(s,t,n,r),Za(s,t,n))}};function Od(t,s,r,n,a,l,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,o):s.prototype&&s.prototype.isPureReactComponent?!ta(r,n)||!ta(a,l):!0}function Ex(t,s,r){var n=!1,a=cr,l=s.contextType;return typeof l=="object"&&l!==null?l=as(l):(a=Ft(s)?kr:jt.current,n=s.contextTypes,l=(n=n!=null)?nn(t,a):cr),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ql,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),s}function Vd(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&ql.enqueueReplaceState(s,s.state,null)}function Ni(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Nc(t);var l=s.contextType;typeof l=="object"&&l!==null?a.context=as(l):(l=Ft(s)?kr:jt.current,a.context=nn(t,l)),a.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(ji(t,s,l,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&ql.enqueueReplaceState(a,a.state,null),wl(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function cn(t,s){try{var r="",n=s;do r+=hg(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:a,digest:null}}function Ro(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function ki(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function Tx(t,s,r){r=Is(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Cl||(Cl=!0,Mi=n),ki(t,s)},r}function Ax(t,s,r){r=Is(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){ki(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){ki(t,s),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function Hd(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new U0;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=tp.bind(null,t,s,r),s.then(t,t))}function Wd(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function qd(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Is(-1,1),s.tag=2,rr(r,s,1))),r.lanes|=1),t)}var O0=Us.ReactCurrentOwner,Lt=!1;function St(t,s,r,n){s.child=t===null?ax(s,null,r,n):ln(s,t.child,r,n)}function Jd(t,s,r,n,a){r=r.render;var l=s.ref;return tn(s,a),n=Ec(t,s,r,n,l,a),r=Tc(),t!==null&&!Lt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Fs(t,s,a)):(He&&r&&pc(s),s.flags|=1,St(t,s,n,a),s.child)}function Gd(t,s,r,n,a){if(t===null){var l=r.type;return typeof l=="function"&&!Dc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Ix(t,s,l,n,a)):(t=nl(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:ta,r(o,n)&&t.ref===s.ref)return Fs(t,s,a)}return s.flags|=1,t=lr(l,n),t.ref=s.ref,t.return=s,s.child=t}function Ix(t,s,r,n,a){if(t!==null){var l=t.memoizedProps;if(ta(l,n)&&t.ref===s.ref)if(Lt=!1,s.pendingProps=n=l,(t.lanes&a)!==0)t.flags&131072&&(Lt=!0);else return s.lanes=t.lanes,Fs(t,s,a)}return Si(t,s,r,n,a)}function Rx(t,s,r){var n=s.pendingProps,a=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Jr,Ht),Ht|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ue(Jr,Ht),Ht|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Ue(Jr,Ht),Ht|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,Ue(Jr,Ht),Ht|=n;return St(t,s,a,r),s.child}function $x(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Si(t,s,r,n,a){var l=Ft(r)?kr:jt.current;return l=nn(s,l),tn(s,a),r=Ec(t,s,r,n,l,a),n=Tc(),t!==null&&!Lt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Fs(t,s,a)):(He&&n&&pc(s),s.flags|=1,St(t,s,r,a),s.child)}function Yd(t,s,r,n,a){if(Ft(r)){var l=!0;pl(s)}else l=!1;if(tn(s,a),s.stateNode===null)tl(t,s),Ex(s,r,n),Ni(s,r,n,a),n=!0;else if(t===null){var o=s.stateNode,i=s.memoizedProps;o.props=i;var d=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=as(h):(h=Ft(r)?kr:jt.current,h=nn(s,h));var g=r.getDerivedStateFromProps,u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||d!==h)&&Vd(s,o,n,h),Js=!1;var x=s.memoizedState;o.state=x,wl(s,n,o,a),d=s.memoizedState,i!==n||x!==d||Bt.current||Js?(typeof g=="function"&&(ji(s,r,g,n),d=s.memoizedState),(i=Js||Od(s,r,i,n,x,d,h))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=d),o.props=n,o.state=d,o.context=h,n=i):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{o=s.stateNode,ox(t,s),i=s.memoizedProps,h=s.type===s.elementType?i:cs(s.type,i),o.props=h,u=s.pendingProps,x=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=as(d):(d=Ft(r)?kr:jt.current,d=nn(s,d));var E=r.getDerivedStateFromProps;(g=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==u||x!==d)&&Vd(s,o,n,d),Js=!1,x=s.memoizedState,o.state=x,wl(s,n,o,a);var k=s.memoizedState;i!==u||x!==k||Bt.current||Js?(typeof E=="function"&&(ji(s,r,E,n),k=s.memoizedState),(h=Js||Od(s,r,h,n,x,k,d)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,d)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=k),o.props=n,o.state=k,o.context=d,n=h):(typeof o.componentDidUpdate!="function"||i===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),n=!1)}return Ci(t,s,r,n,l,a)}function Ci(t,s,r,n,a,l){$x(t,s);var o=(s.flags&128)!==0;if(!n&&!o)return a&&Md(s,r,!1),Fs(t,s,l);n=s.stateNode,O0.current=s;var i=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&o?(s.child=ln(s,t.child,null,l),s.child=ln(s,null,i,l)):St(t,s,i,l),s.memoizedState=n.state,a&&Md(s,r,!0),s.child}function Mx(t){var s=t.stateNode;s.pendingContext?$d(t,s.pendingContext,s.pendingContext!==s.context):s.context&&$d(t,s.context,!1),kc(t,s.containerInfo)}function Kd(t,s,r,n,a){return an(),yc(a),s.flags|=256,St(t,s,r,n),s.child}var Pi={dehydrated:null,treeContext:null,retryLane:0};function Ei(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lx(t,s,r){var n=s.pendingProps,a=Ge.current,l=!1,o=(s.flags&128)!==0,i;if((i=o)||(i=t!==null&&t.memoizedState===null?!1:(a&2)!==0),i?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ue(Ge,a&1),t===null)return vi(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=n.children,t=n.fallback,l?(n=s.mode,l=s.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Yl(o,n,0,null),t=jr(t,n,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=Ei(r),s.memoizedState=Pi,t):Rc(s,o));if(a=t.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return V0(t,s,o,n,i,a,r);if(l){l=n.fallback,o=s.mode,a=t.child,i=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=d,s.deletions=null):(n=lr(a,d),n.subtreeFlags=a.subtreeFlags&14680064),i!==null?l=lr(i,l):(l=jr(l,o,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,o=t.child.memoizedState,o=o===null?Ei(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=t.childLanes&~r,s.memoizedState=Pi,n}return l=t.child,t=l.sibling,n=lr(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function Rc(t,s){return s=Yl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Da(t,s,r,n){return n!==null&&yc(n),ln(s,t.child,null,r),t=Rc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function V0(t,s,r,n,a,l,o){if(r)return s.flags&256?(s.flags&=-257,n=Ro(Error(me(422))),Da(t,s,o,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=n.fallback,a=s.mode,n=Yl({mode:"visible",children:n.children},a,0,null),l=jr(l,a,o,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&ln(s,t.child,null,o),s.child.memoizedState=Ei(o),s.memoizedState=Pi,l);if(!(s.mode&1))return Da(t,s,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var i=n.dgst;return n=i,l=Error(me(419)),n=Ro(l,n,void 0),Da(t,s,o,n)}if(i=(o&t.childLanes)!==0,Lt||i){if(n=mt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Bs(t,a),hs(n,t,a,-1))}return _c(),n=Ro(Error(me(421))),Da(t,s,o,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=sp.bind(null,t),a._reactRetry=s,null):(t=l.treeContext,qt=sr(a.nextSibling),Jt=s,He=!0,ms=null,t!==null&&(es[ts++]=Ts,es[ts++]=As,es[ts++]=Sr,Ts=t.id,As=t.overflow,Sr=s),s=Rc(s,n.children),s.flags|=4096,s)}function Qd(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),wi(t.return,s,r)}function $o(t,s,r,n,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function Bx(t,s,r){var n=s.pendingProps,a=n.revealOrder,l=n.tail;if(St(t,s,n.children,r),n=Ge.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qd(t,r,s);else if(t.tag===19)Qd(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ue(Ge,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&jl(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),$o(s,!1,a,r,l);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&jl(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}$o(s,!0,r,null,l);break;case"together":$o(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tl(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Fs(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Pr|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(me(153));if(s.child!==null){for(t=s.child,r=lr(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=lr(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function H0(t,s,r){switch(s.tag){case 3:Mx(s),an();break;case 5:ix(s);break;case 1:Ft(s.type)&&pl(s);break;case 4:kc(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Ue(bl,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Ge,Ge.current&1),s.flags|=128,null):r&s.child.childLanes?Lx(t,s,r):(Ue(Ge,Ge.current&1),t=Fs(t,s,r),t!==null?t.sibling:null);Ue(Ge,Ge.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return Bx(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ue(Ge,Ge.current),n)break;return null;case 22:case 23:return s.lanes=0,Rx(t,s,r)}return Fs(t,s,r)}var Fx,Ti,_x,Dx;Fx=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ti=function(){};_x=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,vr(Cs.current);var l=null;switch(r){case"input":a=Qo(t,a),n=Qo(t,n),l=[];break;case"select":a=Ke({},a,{value:void 0}),n=Ke({},n,{value:void 0}),l=[];break;case"textarea":a=ei(t,a),n=ei(t,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hl)}si(r,n);var o;r=null;for(h in a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var i=a[h];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Gn.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in n){var d=n[h];if(i=a!=null?a[h]:void 0,n.hasOwnProperty(h)&&d!==i&&(d!=null||i!=null))if(h==="style")if(i){for(o in i)!i.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&i[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(l||(l=[]),l.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,i=i?i.__html:void 0,d!=null&&i!==d&&(l=l||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Oe("scroll",t),l||i===d||(l=[])):(l=l||[]).push(h,d))}r&&(l=l||[]).push("style",r);var h=l;(s.updateQueue=h)&&(s.flags|=4)}};Dx=function(t,s,r,n){r!==n&&(s.flags|=4)};function Cn(t,s){if(!He)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function W0(t,s,r){var n=s.pendingProps;switch(fc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return Ft(s.type)&&gl(),yt(s),null;case 3:return n=s.stateNode,on(),Ve(Bt),Ve(jt),Cc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Fa(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ms!==null&&(Fi(ms),ms=null))),Ti(t,s),yt(s),null;case 5:Sc(s);var a=vr(la.current);if(r=s.type,t!==null&&s.stateNode!=null)_x(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(me(166));return yt(s),null}if(t=vr(Cs.current),Fa(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[Ns]=s,n[na]=l,t=(s.mode&1)!==0,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(a=0;a<Bn.length;a++)Oe(Bn[a],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":ld(n,l),Oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Oe("invalid",n);break;case"textarea":id(n,l),Oe("invalid",n)}si(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?n.textContent!==i&&(l.suppressHydrationWarning!==!0&&Ba(n.textContent,i,t),a=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&Ba(n.textContent,i,t),a=["children",""+i]):Gn.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Oe("scroll",n)}switch(r){case"input":Ea(n),od(n,l,!0);break;case"textarea":Ea(n),cd(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=hl)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xu(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ns]=s,t[na]=n,Fx(t,s,!1,!1),s.stateNode=t;e:{switch(o=ri(r,n),r){case"dialog":Oe("cancel",t),Oe("close",t),a=n;break;case"iframe":case"object":case"embed":Oe("load",t),a=n;break;case"video":case"audio":for(a=0;a<Bn.length;a++)Oe(Bn[a],t);a=n;break;case"source":Oe("error",t),a=n;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),a=n;break;case"details":Oe("toggle",t),a=n;break;case"input":ld(t,n),a=Qo(t,n),Oe("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ke({},n,{value:void 0}),Oe("invalid",t);break;case"textarea":id(t,n),a=ei(t,n),Oe("invalid",t);break;default:a=n}si(r,a),i=a;for(l in i)if(i.hasOwnProperty(l)){var d=i[l];l==="style"?pu(t,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&hu(t,d)):l==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Yn(t,d):typeof d=="number"&&Yn(t,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Gn.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Oe("scroll",t):d!=null&&sc(t,l,d,o))}switch(r){case"input":Ea(t),od(t,n,!1);break;case"textarea":Ea(t),cd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ir(n.value));break;case"select":t.multiple=!!n.multiple,l=n.value,l!=null?Qr(t,!!n.multiple,l,!1):n.defaultValue!=null&&Qr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=hl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return yt(s),null;case 6:if(t&&s.stateNode!=null)Dx(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(me(166));if(r=vr(la.current),vr(Cs.current),Fa(s)){if(n=s.stateNode,r=s.memoizedProps,n[Ns]=s,(l=n.nodeValue!==r)&&(t=Jt,t!==null))switch(t.tag){case 3:Ba(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ba(n.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ns]=s,s.stateNode=n}return yt(s),null;case 13:if(Ve(Ge),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&qt!==null&&s.mode&1&&!(s.flags&128))rx(),an(),s.flags|=98560,l=!1;else if(l=Fa(s),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(me(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(me(317));l[Ns]=s}else an(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;yt(s),l=!1}else ms!==null&&(Fi(ms),ms=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||Ge.current&1?lt===0&&(lt=3):_c())),s.updateQueue!==null&&(s.flags|=4),yt(s),null);case 4:return on(),Ti(t,s),t===null&&sa(s.stateNode.containerInfo),yt(s),null;case 10:return wc(s.type._context),yt(s),null;case 17:return Ft(s.type)&&gl(),yt(s),null;case 19:if(Ve(Ge),l=s.memoizedState,l===null)return yt(s),null;if(n=(s.flags&128)!==0,o=l.rendering,o===null)if(n)Cn(l,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=jl(t),o!==null){for(s.flags|=128,Cn(l,!1),n=o.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,t=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,t=o.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ue(Ge,Ge.current&1|2),s.child}t=t.sibling}l.tail!==null&&Xe()>dn&&(s.flags|=128,n=!0,Cn(l,!1),s.lanes=4194304)}else{if(!n)if(t=jl(o),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Cn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!He)return yt(s),null}else 2*Xe()-l.renderingStartTime>dn&&r!==1073741824&&(s.flags|=128,n=!0,Cn(l,!1),s.lanes=4194304);l.isBackwards?(o.sibling=s.child,s.child=o):(r=l.last,r!==null?r.sibling=o:s.child=o,l.last=o)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Xe(),s.sibling=null,r=Ge.current,Ue(Ge,n?r&1|2:r&1),s):(yt(s),null);case 22:case 23:return Fc(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Ht&1073741824&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),null;case 24:return null;case 25:return null}throw Error(me(156,s.tag))}function q0(t,s){switch(fc(s),s.tag){case 1:return Ft(s.type)&&gl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return on(),Ve(Bt),Ve(jt),Cc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Sc(s),null;case 13:if(Ve(Ge),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(me(340));an()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ve(Ge),null;case 4:return on(),null;case 10:return wc(s.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var za=!1,vt=!1,J0=typeof WeakSet=="function"?WeakSet:Set,ye=null;function qr(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(t,s,n)}else r.current=null}function Ai(t,s,r){try{r()}catch(n){Qe(t,s,n)}}var Zd=!1;function G0(t,s){if(xi=ml,t=Hu(),gc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,i=-1,d=-1,h=0,g=0,u=t,x=null;t:for(;;){for(var E;u!==r||a!==0&&u.nodeType!==3||(i=o+a),u!==l||n!==0&&u.nodeType!==3||(d=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(E=u.firstChild)!==null;)x=u,u=E;for(;;){if(u===t)break t;if(x===r&&++h===a&&(i=o),x===l&&++g===n&&(d=o),(E=u.nextSibling)!==null)break;u=x,x=u.parentNode}u=E}r=i===-1||d===-1?null:{start:i,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(hi={focusedElem:t,selectionRange:r},ml=!1,ye=s;ye!==null;)if(s=ye,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ye=t;else for(;ye!==null;){s=ye;try{var k=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var F=k.memoizedProps,b=k.memoizedState,j=s.stateNode,y=j.getSnapshotBeforeUpdate(s.elementType===s.type?F:cs(s.type,F),b);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var f=s.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(T){Qe(s,s.return,T)}if(t=s.sibling,t!==null){t.return=s.return,ye=t;break}ye=s.return}return k=Zd,Zd=!1,k}function Vn(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&Ai(s,r,l)}a=a.next}while(a!==n)}}function Jl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Ii(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function zx(t){var s=t.alternate;s!==null&&(t.alternate=null,zx(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Ns],delete s[na],delete s[fi],delete s[A0],delete s[I0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ux(t){return t.tag===5||t.tag===3||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ux(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ri(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=hl));else if(n!==4&&(t=t.child,t!==null))for(Ri(t,s,r),t=t.sibling;t!==null;)Ri(t,s,r),t=t.sibling}function $i(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for($i(t,s,r),t=t.sibling;t!==null;)$i(t,s,r),t=t.sibling}var ht=null,ds=!1;function Hs(t,s,r){for(r=r.child;r!==null;)Ox(t,s,r),r=r.sibling}function Ox(t,s,r){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Dl,r)}catch{}switch(r.tag){case 5:vt||qr(r,s);case 6:var n=ht,a=ds;ht=null,Hs(t,s,r),ht=n,ds=a,ht!==null&&(ds?(t=ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(ds?(t=ht,r=r.stateNode,t.nodeType===8?Co(t.parentNode,r):t.nodeType===1&&Co(t,r),Xn(t)):Co(ht,r.stateNode));break;case 4:n=ht,a=ds,ht=r.stateNode.containerInfo,ds=!0,Hs(t,s,r),ht=n,ds=a;break;case 0:case 11:case 14:case 15:if(!vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Ai(r,s,o),a=a.next}while(a!==n)}Hs(t,s,r);break;case 1:if(!vt&&(qr(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Qe(r,s,i)}Hs(t,s,r);break;case 21:Hs(t,s,r);break;case 22:r.mode&1?(vt=(n=vt)||r.memoizedState!==null,Hs(t,s,r),vt=n):Hs(t,s,r);break;default:Hs(t,s,r)}}function em(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new J0),s.forEach(function(n){var a=rp.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function is(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=t,o=s,i=o;e:for(;i!==null;){switch(i.tag){case 5:ht=i.stateNode,ds=!1;break e;case 3:ht=i.stateNode.containerInfo,ds=!0;break e;case 4:ht=i.stateNode.containerInfo,ds=!0;break e}i=i.return}if(ht===null)throw Error(me(160));Ox(l,o,a),ht=null,ds=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(h){Qe(a,s,h)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Vx(s,t),s=s.sibling}function Vx(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(is(s,t),fs(t),n&4){try{Vn(3,t,t.return),Jl(3,t)}catch(F){Qe(t,t.return,F)}try{Vn(5,t,t.return)}catch(F){Qe(t,t.return,F)}}break;case 1:is(s,t),fs(t),n&512&&r!==null&&qr(r,r.return);break;case 5:if(is(s,t),fs(t),n&512&&r!==null&&qr(r,r.return),t.flags&32){var a=t.stateNode;try{Yn(a,"")}catch(F){Qe(t,t.return,F)}}if(n&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,o=r!==null?r.memoizedProps:l,i=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&mu(a,l),ri(i,o);var h=ri(i,l);for(o=0;o<d.length;o+=2){var g=d[o],u=d[o+1];g==="style"?pu(a,u):g==="dangerouslySetInnerHTML"?hu(a,u):g==="children"?Yn(a,u):sc(a,g,u,h)}switch(i){case"input":Zo(a,l);break;case"textarea":uu(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?Qr(a,!!l.multiple,E,!1):x!==!!l.multiple&&(l.defaultValue!=null?Qr(a,!!l.multiple,l.defaultValue,!0):Qr(a,!!l.multiple,l.multiple?[]:"",!1))}a[na]=l}catch(F){Qe(t,t.return,F)}}break;case 6:if(is(s,t),fs(t),n&4){if(t.stateNode===null)throw Error(me(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(F){Qe(t,t.return,F)}}break;case 3:if(is(s,t),fs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xn(s.containerInfo)}catch(F){Qe(t,t.return,F)}break;case 4:is(s,t),fs(t);break;case 13:is(s,t),fs(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Lc=Xe())),n&4&&em(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(vt=(h=vt)||g,is(s,t),vt=h):is(s,t),fs(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&t.mode&1)for(ye=t,g=t.child;g!==null;){for(u=ye=g;ye!==null;){switch(x=ye,E=x.child,x.tag){case 0:case 11:case 14:case 15:Vn(4,x,x.return);break;case 1:qr(x,x.return);var k=x.stateNode;if(typeof k.componentWillUnmount=="function"){n=x,r=x.return;try{s=n,k.props=s.memoizedProps,k.state=s.memoizedState,k.componentWillUnmount()}catch(F){Qe(n,r,F)}}break;case 5:qr(x,x.return);break;case 22:if(x.memoizedState!==null){sm(u);continue}}E!==null?(E.return=x,ye=E):sm(u)}g=g.sibling}e:for(g=null,u=t;;){if(u.tag===5){if(g===null){g=u;try{a=u.stateNode,h?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=u.stateNode,d=u.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,i.style.display=gu("display",o))}catch(F){Qe(t,t.return,F)}}}else if(u.tag===6){if(g===null)try{u.stateNode.nodeValue=h?"":u.memoizedProps}catch(F){Qe(t,t.return,F)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:is(s,t),fs(t),n&4&&em(t);break;case 21:break;default:is(s,t),fs(t)}}function fs(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(Ux(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yn(a,""),n.flags&=-33);var l=Xd(t);$i(t,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,i=Xd(t);Ri(t,i,o);break;default:throw Error(me(161))}}catch(d){Qe(t,t.return,d)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Y0(t,s,r){ye=t,Hx(t)}function Hx(t,s,r){for(var n=(t.mode&1)!==0;ye!==null;){var a=ye,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||za;if(!o){var i=a.alternate,d=i!==null&&i.memoizedState!==null||vt;i=za;var h=vt;if(za=o,(vt=d)&&!h)for(ye=a;ye!==null;)o=ye,d=o.child,o.tag===22&&o.memoizedState!==null?rm(a):d!==null?(d.return=o,ye=d):rm(a);for(;l!==null;)ye=l,Hx(l),l=l.sibling;ye=a,za=i,vt=h}tm(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ye=l):tm(t)}}function tm(t){for(;ye!==null;){var s=ye;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:vt||Jl(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!vt)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:cs(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Dd(s,l,n);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Dd(s,o,r)}break;case 5:var i=s.stateNode;if(r===null&&s.flags&4){r=i;var d=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var h=s.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var u=g.dehydrated;u!==null&&Xn(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}vt||s.flags&512&&Ii(s)}catch(x){Qe(s,s.return,x)}}if(s===t){ye=null;break}if(r=s.sibling,r!==null){r.return=s.return,ye=r;break}ye=s.return}}function sm(t){for(;ye!==null;){var s=ye;if(s===t){ye=null;break}var r=s.sibling;if(r!==null){r.return=s.return,ye=r;break}ye=s.return}}function rm(t){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Jl(4,s)}catch(d){Qe(s,r,d)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(d){Qe(s,a,d)}}var l=s.return;try{Ii(s)}catch(d){Qe(s,l,d)}break;case 5:var o=s.return;try{Ii(s)}catch(d){Qe(s,o,d)}}}catch(d){Qe(s,s.return,d)}if(s===t){ye=null;break}var i=s.sibling;if(i!==null){i.return=s.return,ye=i;break}ye=s.return}}var K0=Math.ceil,Sl=Us.ReactCurrentDispatcher,$c=Us.ReactCurrentOwner,rs=Us.ReactCurrentBatchConfig,$e=0,mt=null,tt=null,gt=0,Ht=0,Jr=ur(0),lt=0,da=null,Pr=0,Gl=0,Mc=0,Hn=null,$t=null,Lc=0,dn=1/0,Ps=null,Cl=!1,Mi=null,nr=null,Ua=!1,Qs=null,Pl=0,Wn=0,Li=null,sl=-1,rl=0;function Pt(){return $e&6?Xe():sl!==-1?sl:sl=Xe()}function ar(t){return t.mode&1?$e&2&&gt!==0?gt&-gt:$0.transition!==null?(rl===0&&(rl=Eu()),rl):(t=_e,t!==0||(t=window.event,t=t===void 0?16:Lu(t.type)),t):1}function hs(t,s,r,n){if(50<Wn)throw Wn=0,Li=null,Error(me(185));fa(t,r,n),(!($e&2)||t!==mt)&&(t===mt&&(!($e&2)&&(Gl|=r),lt===4&&Ys(t,gt)),_t(t,n),r===1&&$e===0&&!(s.mode&1)&&(dn=Xe()+500,Hl&&xr()))}function _t(t,s){var r=t.callbackNode;$g(t,s);var n=dl(t,t===mt?gt:0);if(n===0)r!==null&&ud(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&ud(r),s===1)t.tag===0?R0(nm.bind(null,t)):ex(nm.bind(null,t)),E0(function(){!($e&6)&&xr()}),r=null;else{switch(Tu(n)){case 1:r=oc;break;case 4:r=Cu;break;case 16:r=cl;break;case 536870912:r=Pu;break;default:r=cl}r=Zx(r,Wx.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function Wx(t,s){if(sl=-1,rl=0,$e&6)throw Error(me(327));var r=t.callbackNode;if(sn()&&t.callbackNode!==r)return null;var n=dl(t,t===mt?gt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=El(t,n);else{s=n;var a=$e;$e|=2;var l=Jx();(mt!==t||gt!==s)&&(Ps=null,dn=Xe()+500,wr(t,s));do try{X0();break}catch(i){qx(t,i)}while(!0);vc(),Sl.current=l,$e=a,tt!==null?s=0:(mt=null,gt=0,s=lt)}if(s!==0){if(s===2&&(a=ii(t),a!==0&&(n=a,s=Bi(t,a))),s===1)throw r=da,wr(t,0),Ys(t,n),_t(t,Xe()),r;if(s===6)Ys(t,n);else{if(a=t.current.alternate,!(n&30)&&!Q0(a)&&(s=El(t,n),s===2&&(l=ii(t),l!==0&&(n=l,s=Bi(t,l))),s===1))throw r=da,wr(t,0),Ys(t,n),_t(t,Xe()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(me(345));case 2:fr(t,$t,Ps);break;case 3:if(Ys(t,n),(n&130023424)===n&&(s=Lc+500-Xe(),10<s)){if(dl(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Pt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=pi(fr.bind(null,t,$t,Ps),s);break}fr(t,$t,Ps);break;case 4:if(Ys(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var o=31-xs(n);l=1<<o,o=s[o],o>a&&(a=o),n&=~l}if(n=a,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K0(n/1960))-n,10<n){t.timeoutHandle=pi(fr.bind(null,t,$t,Ps),n);break}fr(t,$t,Ps);break;case 5:fr(t,$t,Ps);break;default:throw Error(me(329))}}}return _t(t,Xe()),t.callbackNode===r?Wx.bind(null,t):null}function Bi(t,s){var r=Hn;return t.current.memoizedState.isDehydrated&&(wr(t,s).flags|=256),t=El(t,s),t!==2&&(s=$t,$t=r,s!==null&&Fi(s)),t}function Fi(t){$t===null?$t=t:$t.push.apply($t,t)}function Q0(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!ps(l(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(t,s){for(s&=~Mc,s&=~Gl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-xs(s),n=1<<r;t[r]=-1,s&=~n}}function nm(t){if($e&6)throw Error(me(327));sn();var s=dl(t,0);if(!(s&1))return _t(t,Xe()),null;var r=El(t,s);if(t.tag!==0&&r===2){var n=ii(t);n!==0&&(s=n,r=Bi(t,n))}if(r===1)throw r=da,wr(t,0),Ys(t,s),_t(t,Xe()),r;if(r===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,fr(t,$t,Ps),_t(t,Xe()),null}function Bc(t,s){var r=$e;$e|=1;try{return t(s)}finally{$e=r,$e===0&&(dn=Xe()+500,Hl&&xr())}}function Er(t){Qs!==null&&Qs.tag===0&&!($e&6)&&sn();var s=$e;$e|=1;var r=rs.transition,n=_e;try{if(rs.transition=null,_e=1,t)return t()}finally{_e=n,rs.transition=r,$e=s,!($e&6)&&xr()}}function Fc(){Ht=Jr.current,Ve(Jr)}function wr(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,P0(r)),tt!==null)for(r=tt.return;r!==null;){var n=r;switch(fc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gl();break;case 3:on(),Ve(Bt),Ve(jt),Cc();break;case 5:Sc(n);break;case 4:on();break;case 13:Ve(Ge);break;case 19:Ve(Ge);break;case 10:wc(n.type._context);break;case 22:case 23:Fc()}r=r.return}if(mt=t,tt=t=lr(t.current,null),gt=Ht=s,lt=0,da=null,Mc=Gl=Pr=0,$t=Hn=null,br!==null){for(s=0;s<br.length;s++)if(r=br[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}r.pending=n}br=null}return t}function qx(t,s){do{var r=tt;try{if(vc(),Xa.current=kl,Nl){for(var n=Ye.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Nl=!1}if(Cr=0,ct=at=Ye=null,On=!1,oa=0,$c.current=null,r===null||r.return===null){lt=1,da=s,tt=null;break}e:{var l=t,o=r.return,i=r,d=s;if(s=gt,i.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=i,u=g.tag;if(!(g.mode&1)&&(u===0||u===11||u===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=Wd(o);if(E!==null){E.flags&=-257,qd(E,o,i,l,s),E.mode&1&&Hd(l,h,s),s=E,d=h;var k=s.updateQueue;if(k===null){var F=new Set;F.add(d),s.updateQueue=F}else k.add(d);break e}else{if(!(s&1)){Hd(l,h,s),_c();break e}d=Error(me(426))}}else if(He&&i.mode&1){var b=Wd(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qd(b,o,i,l,s),yc(cn(d,i));break e}}l=d=cn(d,i),lt!==4&&(lt=2),Hn===null?Hn=[l]:Hn.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var j=Tx(l,d,s);_d(l,j);break e;case 1:i=d;var y=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f)))){l.flags|=65536,s&=-s,l.lanes|=s;var T=Ax(l,i,s);_d(l,T);break e}}l=l.return}while(l!==null)}Yx(r)}catch(S){s=S,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(!0)}function Jx(){var t=Sl.current;return Sl.current=kl,t===null?kl:t}function _c(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(Pr&268435455)&&!(Gl&268435455)||Ys(mt,gt)}function El(t,s){var r=$e;$e|=2;var n=Jx();(mt!==t||gt!==s)&&(Ps=null,wr(t,s));do try{Z0();break}catch(a){qx(t,a)}while(!0);if(vc(),$e=r,Sl.current=n,tt!==null)throw Error(me(261));return mt=null,gt=0,lt}function Z0(){for(;tt!==null;)Gx(tt)}function X0(){for(;tt!==null&&!kg();)Gx(tt)}function Gx(t){var s=Qx(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,s===null?Yx(t):tt=s,$c.current=null}function Yx(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=q0(r,s),r!==null){r.flags&=32767,tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,tt=null;return}}else if(r=W0(r,s,Ht),r!==null){tt=r;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=t}while(s!==null);lt===0&&(lt=5)}function fr(t,s,r){var n=_e,a=rs.transition;try{rs.transition=null,_e=1,ep(t,s,r,n)}finally{rs.transition=a,_e=n}return null}function ep(t,s,r,n){do sn();while(Qs!==null);if($e&6)throw Error(me(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(Mg(t,l),t===mt&&(tt=mt=null,gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ua||(Ua=!0,Zx(cl,function(){return sn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=rs.transition,rs.transition=null;var o=_e;_e=1;var i=$e;$e|=4,$c.current=null,G0(t,r),Vx(r,t),v0(hi),ml=!!xi,hi=xi=null,t.current=r,Y0(r),Sg(),$e=i,_e=o,rs.transition=l}else t.current=r;if(Ua&&(Ua=!1,Qs=t,Pl=a),l=t.pendingLanes,l===0&&(nr=null),Eg(r.stateNode),_t(t,Xe()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Cl)throw Cl=!1,t=Mi,Mi=null,t;return Pl&1&&t.tag!==0&&sn(),l=t.pendingLanes,l&1?t===Li?Wn++:(Wn=0,Li=t):Wn=0,xr(),null}function sn(){if(Qs!==null){var t=Tu(Pl),s=rs.transition,r=_e;try{if(rs.transition=null,_e=16>t?16:t,Qs===null)var n=!1;else{if(t=Qs,Qs=null,Pl=0,$e&6)throw Error(me(331));var a=$e;for($e|=4,ye=t.current;ye!==null;){var l=ye,o=l.child;if(ye.flags&16){var i=l.deletions;if(i!==null){for(var d=0;d<i.length;d++){var h=i[d];for(ye=h;ye!==null;){var g=ye;switch(g.tag){case 0:case 11:case 15:Vn(8,g,l)}var u=g.child;if(u!==null)u.return=g,ye=u;else for(;ye!==null;){g=ye;var x=g.sibling,E=g.return;if(zx(g),g===h){ye=null;break}if(x!==null){x.return=E,ye=x;break}ye=E}}}var k=l.alternate;if(k!==null){var F=k.child;if(F!==null){k.child=null;do{var b=F.sibling;F.sibling=null,F=b}while(F!==null)}}ye=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,ye=o;else e:for(;ye!==null;){if(l=ye,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Vn(9,l,l.return)}var j=l.sibling;if(j!==null){j.return=l.return,ye=j;break e}ye=l.return}}var y=t.current;for(ye=y;ye!==null;){o=ye;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,ye=f;else e:for(o=y;ye!==null;){if(i=ye,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Jl(9,i)}}catch(S){Qe(i,i.return,S)}if(i===o){ye=null;break e}var T=i.sibling;if(T!==null){T.return=i.return,ye=T;break e}ye=i.return}}if($e=a,xr(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Dl,t)}catch{}n=!0}return n}finally{_e=r,rs.transition=s}}return!1}function am(t,s,r){s=cn(r,s),s=Tx(t,s,1),t=rr(t,s,1),s=Pt(),t!==null&&(fa(t,1,s),_t(t,s))}function Qe(t,s,r){if(t.tag===3)am(t,t,r);else for(;s!==null;){if(s.tag===3){am(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){t=cn(r,t),t=Ax(s,t,1),s=rr(s,t,1),t=Pt(),s!==null&&(fa(s,1,t),_t(s,t));break}}s=s.return}}function tp(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Pt(),t.pingedLanes|=t.suspendedLanes&r,mt===t&&(gt&r)===r&&(lt===4||lt===3&&(gt&130023424)===gt&&500>Xe()-Lc?wr(t,0):Mc|=r),_t(t,s)}function Kx(t,s){s===0&&(t.mode&1?(s=Ia,Ia<<=1,!(Ia&130023424)&&(Ia=4194304)):s=1);var r=Pt();t=Bs(t,s),t!==null&&(fa(t,s,r),_t(t,r))}function sp(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Kx(t,r)}function rp(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(s),Kx(t,r)}var Qx;Qx=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Bt.current)Lt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Lt=!1,H0(t,s,r);Lt=!!(t.flags&131072)}else Lt=!1,He&&s.flags&1048576&&tx(s,yl,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;tl(t,s),t=s.pendingProps;var a=nn(s,jt.current);tn(s,r),a=Ec(null,s,n,t,a,r);var l=Tc();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ft(n)?(l=!0,pl(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Nc(s),a.updater=ql,s.stateNode=a,a._reactInternals=s,Ni(s,n,t,r),s=Ci(null,s,n,!0,l,r)):(s.tag=0,He&&l&&pc(s),St(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(tl(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=ap(n),t=cs(n,t),a){case 0:s=Si(null,s,n,t,r);break e;case 1:s=Yd(null,s,n,t,r);break e;case 11:s=Jd(null,s,n,t,r);break e;case 14:s=Gd(null,s,n,cs(n.type,t),r);break e}throw Error(me(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:cs(n,a),Si(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:cs(n,a),Yd(t,s,n,a,r);case 3:e:{if(Mx(s),t===null)throw Error(me(387));n=s.pendingProps,l=s.memoizedState,a=l.element,ox(t,s),wl(s,n,null,r);var o=s.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=cn(Error(me(423)),s),s=Kd(t,s,n,r,a);break e}else if(n!==a){a=cn(Error(me(424)),s),s=Kd(t,s,n,r,a);break e}else for(qt=sr(s.stateNode.containerInfo.firstChild),Jt=s,He=!0,ms=null,r=ax(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(an(),n===a){s=Fs(t,s,r);break e}St(t,s,n,r)}s=s.child}return s;case 5:return ix(s),t===null&&vi(s),n=s.type,a=s.pendingProps,l=t!==null?t.memoizedProps:null,o=a.children,gi(n,a)?o=null:l!==null&&gi(n,l)&&(s.flags|=32),$x(t,s),St(t,s,o,r),s.child;case 6:return t===null&&vi(s),null;case 13:return Lx(t,s,r);case 4:return kc(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=ln(s,null,n,r):St(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:cs(n,a),Jd(t,s,n,a,r);case 7:return St(t,s,s.pendingProps,r),s.child;case 8:return St(t,s,s.pendingProps.children,r),s.child;case 12:return St(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,l=s.memoizedProps,o=a.value,Ue(bl,n._currentValue),n._currentValue=o,l!==null)if(ps(l.value,o)){if(l.children===a.children&&!Bt.current){s=Fs(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var d=i.firstContext;d!==null;){if(d.context===n){if(l.tag===1){d=Is(-1,r&-r),d.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),wi(l.return,r,s),i.lanes|=r;break}d=d.next}}else if(l.tag===10)o=l.type===s.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(me(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),wi(o,r,s),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===s){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}St(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,tn(s,r),a=as(a),n=n(a),s.flags|=1,St(t,s,n,r),s.child;case 14:return n=s.type,a=cs(n,s.pendingProps),a=cs(n.type,a),Gd(t,s,n,a,r);case 15:return Ix(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:cs(n,a),tl(t,s),s.tag=1,Ft(n)?(t=!0,pl(s)):t=!1,tn(s,r),Ex(s,n,a),Ni(s,n,a,r),Ci(null,s,n,!0,t,r);case 19:return Bx(t,s,r);case 22:return Rx(t,s,r)}throw Error(me(156,s.tag))};function Zx(t,s){return Su(t,s)}function np(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,s,r,n){return new np(t,s,r,n)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ap(t){if(typeof t=="function")return Dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nc)return 11;if(t===ac)return 14}return 2}function lr(t,s){var r=t.alternate;return r===null?(r=ss(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function nl(t,s,r,n,a,l){var o=2;if(n=t,typeof t=="function")Dc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fr:return jr(r.children,a,l,s);case rc:o=8,a|=8;break;case Jo:return t=ss(12,r,s,a|2),t.elementType=Jo,t.lanes=l,t;case Go:return t=ss(13,r,s,a),t.elementType=Go,t.lanes=l,t;case Yo:return t=ss(19,r,s,a),t.elementType=Yo,t.lanes=l,t;case iu:return Yl(r,a,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lu:o=10;break e;case ou:o=9;break e;case nc:o=11;break e;case ac:o=14;break e;case qs:o=16,n=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return s=ss(o,r,s,a),s.elementType=t,s.type=n,s.lanes=l,s}function jr(t,s,r,n){return t=ss(7,t,n,s),t.lanes=r,t}function Yl(t,s,r,n){return t=ss(22,t,n,s),t.elementType=iu,t.lanes=r,t.stateNode={isHidden:!1},t}function Mo(t,s,r){return t=ss(6,t,null,s),t.lanes=r,t}function Lo(t,s,r){return s=ss(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function lp(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=go(0),this.expirationTimes=go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(t,s,r,n,a,l,o,i,d){return t=new lp(t,s,r,i,d),s===1?(s=1,l===!0&&(s|=8)):s=0,l=ss(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(l),t}function op(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function Xx(t){if(!t)return cr;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(me(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ft(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(me(171))}if(t.tag===1){var r=t.type;if(Ft(r))return Xu(t,r,s)}return s}function eh(t,s,r,n,a,l,o,i,d){return t=zc(r,n,!0,t,a,l,o,i,d),t.context=Xx(null),r=t.current,n=Pt(),a=ar(r),l=Is(n,a),l.callback=s??null,rr(r,l,a),t.current.lanes=a,fa(t,a,n),_t(t,n),t}function Kl(t,s,r,n){var a=s.current,l=Pt(),o=ar(a);return r=Xx(r),s.context===null?s.context=r:s.pendingContext=r,s=Is(l,o),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=rr(a,s,o),t!==null&&(hs(t,a,o,l),Za(t,a,o)),o}function Tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Uc(t,s){lm(t,s),(t=t.alternate)&&lm(t,s)}function ip(){return null}var th=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oc(t){this._internalRoot=t}Ql.prototype.render=Oc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(me(409));Kl(t,s,null,null)};Ql.prototype.unmount=Oc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Er(function(){Kl(null,t,null,null)}),s[Ls]=null}};function Ql(t){this._internalRoot=t}Ql.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ru();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Gs.length&&s!==0&&s<Gs[r].priority;r++);Gs.splice(r,0,t),r===0&&Mu(t)}};function Vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function om(){}function cp(t,s,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var h=Tl(o);l.call(h)}}var o=eh(s,n,t,0,null,!1,!1,"",om);return t._reactRootContainer=o,t[Ls]=o.current,sa(t.nodeType===8?t.parentNode:t),Er(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var i=n;n=function(){var h=Tl(d);i.call(h)}}var d=zc(t,0,!1,null,null,!1,!1,"",om);return t._reactRootContainer=d,t[Ls]=d.current,sa(t.nodeType===8?t.parentNode:t),Er(function(){Kl(s,d,r,n)}),d}function Xl(t,s,r,n,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var i=a;a=function(){var d=Tl(o);i.call(d)}}Kl(s,o,t,a)}else o=cp(r,s,t,a,n);return Tl(o)}Au=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Ln(s.pendingLanes);r!==0&&(ic(s,r|1),_t(s,Xe()),!($e&6)&&(dn=Xe()+500,xr()))}break;case 13:Er(function(){var n=Bs(t,1);if(n!==null){var a=Pt();hs(n,t,1,a)}}),Uc(t,1)}};cc=function(t){if(t.tag===13){var s=Bs(t,134217728);if(s!==null){var r=Pt();hs(s,t,134217728,r)}Uc(t,134217728)}};Iu=function(t){if(t.tag===13){var s=ar(t),r=Bs(t,s);if(r!==null){var n=Pt();hs(r,t,s,n)}Uc(t,s)}};Ru=function(){return _e};$u=function(t,s){var r=_e;try{return _e=t,s()}finally{_e=r}};ai=function(t,s,r){switch(s){case"input":if(Zo(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=Vl(n);if(!a)throw Error(me(90));du(n),Zo(n,a)}}}break;case"textarea":uu(t,r);break;case"select":s=r.value,s!=null&&Qr(t,!!r.multiple,s,!1)}};bu=Bc;vu=Er;var dp={usingClientEntryPoint:!1,Events:[ba,Ur,Vl,fu,yu,Bc]},Pn={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mp={bundleType:Pn.bundleType,version:Pn.version,rendererPackageName:Pn.rendererPackageName,rendererConfig:Pn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nu(t),t===null?null:t.stateNode},findFiberByHostInstance:Pn.findFiberByHostInstance||ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{Dl=Oa.inject(mp),Ss=Oa}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;Yt.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(s))throw Error(me(200));return op(t,s,null,r)};Yt.createRoot=function(t,s){if(!Vc(t))throw Error(me(299));var r=!1,n="",a=th;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=zc(t,1,!1,null,null,r,!1,n,a),t[Ls]=s.current,sa(t.nodeType===8?t.parentNode:t),new Oc(s)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=Nu(s),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Er(t)};Yt.hydrate=function(t,s,r){if(!Zl(s))throw Error(me(200));return Xl(null,t,s,!0,r)};Yt.hydrateRoot=function(t,s,r){if(!Vc(t))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",o=th;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=eh(s,null,t,1,r??null,a,!1,l,o),t[Ls]=s.current,sa(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Ql(s)};Yt.render=function(t,s,r){if(!Zl(s))throw Error(me(200));return Xl(null,t,s,!1,r)};Yt.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(me(40));return t._reactRootContainer?(Er(function(){Xl(null,null,t,!1,function(){t._reactRootContainer=null,t[Ls]=null})}),!0):!1};Yt.unstable_batchedUpdates=Bc;Yt.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Zl(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Xl(t,s,r,!1,n)};Yt.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(t){console.error(t)}}sh(),su.exports=Yt;var up=su.exports,rh,im=up;rh=im.createRoot,im.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ma.apply(this,arguments)}var Zs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zs||(Zs={}));const cm="popstate";function xp(t){t===void 0&&(t={});function s(n,a){let{pathname:l,search:o,hash:i}=n.location;return _i("",{pathname:l,search:o,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Al(a)}return gp(s,r,null,t)}function et(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function nh(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function hp(){return Math.random().toString(36).substr(2,8)}function dm(t,s){return{usr:t.state,key:t.key,idx:s}}function _i(t,s,r,n){return r===void 0&&(r=null),ma({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?gn(s):s,{state:r,key:s&&s.key||n||hp()})}function Al(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function gn(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function gp(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,i=Zs.Pop,d=null,h=g();h==null&&(h=0,o.replaceState(ma({},o.state,{idx:h}),""));function g(){return(o.state||{idx:null}).idx}function u(){i=Zs.Pop;let b=g(),j=b==null?null:b-h;h=b,d&&d({action:i,location:F.location,delta:j})}function x(b,j){i=Zs.Push;let y=_i(F.location,b,j);h=g()+1;let f=dm(y,h),T=F.createHref(y);try{o.pushState(f,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(T)}l&&d&&d({action:i,location:F.location,delta:1})}function E(b,j){i=Zs.Replace;let y=_i(F.location,b,j);h=g();let f=dm(y,h),T=F.createHref(y);o.replaceState(f,"",T),l&&d&&d({action:i,location:F.location,delta:0})}function k(b){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof b=="string"?b:Al(b);return y=y.replace(/ $/,"%20"),et(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let F={get action(){return i},get location(){return t(a,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(cm,u),d=b,()=>{a.removeEventListener(cm,u),d=null}},createHref(b){return s(a,b)},createURL:k,encodeLocation(b){let j=k(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:E,go(b){return o.go(b)}};return F}var mm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mm||(mm={}));function pp(t,s,r){return r===void 0&&(r="/"),fp(t,s,r,!1)}function fp(t,s,r,n){let a=typeof s=="string"?gn(s):s,l=Hc(a.pathname||"/",r);if(l==null)return null;let o=ah(t);yp(o);let i=null;for(let d=0;i==null&&d<o.length;++d){let h=Tp(l);i=Pp(o[d],h,n)}return i}function ah(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,o,i)=>{let d={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=or([n,d.relativePath]),g=r.concat(d);l.children&&l.children.length>0&&(et(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ah(l.children,s,g,h)),!(l.path==null&&!l.index)&&s.push({path:h,score:Sp(h,l.index),routesMeta:g})};return t.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))a(l,o);else for(let d of lh(l.path))a(l,o,d)}),s}function lh(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=lh(n.join("/")),i=[];return i.push(...o.map(d=>d===""?l:[l,d].join("/"))),a&&i.push(...o),i.map(d=>t.startsWith("/")&&d===""?"/":d)}function yp(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Cp(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const bp=/^:[\w-]+$/,vp=3,wp=2,jp=1,Np=10,kp=-2,um=t=>t==="*";function Sp(t,s){let r=t.split("/"),n=r.length;return r.some(um)&&(n+=kp),s&&(n+=wp),r.filter(a=>!um(a)).reduce((a,l)=>a+(bp.test(l)?vp:l===""?jp:Np),n)}function Cp(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function Pp(t,s,r){let{routesMeta:n}=t,a={},l="/",o=[];for(let i=0;i<n.length;++i){let d=n[i],h=i===n.length-1,g=l==="/"?s:s.slice(l.length)||"/",u=xm({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),x=d.route;if(!u&&h&&r&&!n[n.length-1].route.index&&(u=xm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:or([l,u.pathname]),pathnameBase:$p(or([l,u.pathnameBase])),route:x}),u.pathnameBase!=="/"&&(l=or([l,u.pathnameBase]))}return o}function xm(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ep(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((h,g,u)=>{let{paramName:x,isOptional:E}=g;if(x==="*"){let F=i[u]||"";o=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const k=i[u];return E&&!k?h[x]=void 0:h[x]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:o,pattern:t}}function Ep(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),nh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,d)=>(n.push({paramName:i,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function Tp(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return nh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Hc(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ap(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?gn(t):t;return{pathname:r?r.startsWith("/")?r:Ip(r,s):s,search:Mp(n),hash:Lp(a)}}function Ip(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Bo(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rp(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Wc(t,s){let r=Rp(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qc(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=gn(t):(a=ma({},t),et(!a.pathname||!a.pathname.includes("?"),Bo("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Bo("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Bo("#","search","hash",a)));let l=t===""||a.pathname==="",o=l?"/":a.pathname,i;if(o==null)i=r;else{let u=s.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),u-=1;a.pathname=x.join("/")}i=u>=0?s[u]:"/"}let d=Ap(a,i),h=o&&o!=="/"&&o.endsWith("/"),g=(l||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}const or=t=>t.join("/").replace(/\/\/+/g,"/"),$p=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mp=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lp=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Bp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oh=["post","put","patch","delete"];new Set(oh);const Fp=["get",...oh];new Set(Fp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ua.apply(this,arguments)}const Jc=c.createContext(null),_p=c.createContext(null),hr=c.createContext(null),eo=c.createContext(null),Os=c.createContext({outlet:null,matches:[],isDataRoute:!1}),ih=c.createContext(null);function Dp(t,s){let{relative:r}=s===void 0?{}:s;pn()||et(!1);let{basename:n,navigator:a}=c.useContext(hr),{hash:l,pathname:o,search:i}=dh(t,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:or([n,o])),a.createHref({pathname:d,search:i,hash:l})}function pn(){return c.useContext(eo)!=null}function zt(){return pn()||et(!1),c.useContext(eo).location}function ch(t){c.useContext(hr).static||c.useLayoutEffect(t)}function Ut(){let{isDataRoute:t}=c.useContext(Os);return t?Xp():zp()}function zp(){pn()||et(!1);let t=c.useContext(Jc),{basename:s,future:r,navigator:n}=c.useContext(hr),{matches:a}=c.useContext(Os),{pathname:l}=zt(),o=JSON.stringify(Wc(a,r.v7_relativeSplatPath)),i=c.useRef(!1);return ch(()=>{i.current=!0}),c.useCallback(function(h,g){if(g===void 0&&(g={}),!i.current)return;if(typeof h=="number"){n.go(h);return}let u=qc(h,JSON.parse(o),l,g.relative==="path");t==null&&s!=="/"&&(u.pathname=u.pathname==="/"?s:or([s,u.pathname])),(g.replace?n.replace:n.push)(u,g.state,g)},[s,n,o,l,t])}function Up(){let{matches:t}=c.useContext(Os),s=t[t.length-1];return s?s.params:{}}function dh(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=c.useContext(hr),{matches:a}=c.useContext(Os),{pathname:l}=zt(),o=JSON.stringify(Wc(a,n.v7_relativeSplatPath));return c.useMemo(()=>qc(t,JSON.parse(o),l,r==="path"),[t,o,l,r])}function Op(t,s){return Vp(t,s)}function Vp(t,s,r,n){pn()||et(!1);let{navigator:a}=c.useContext(hr),{matches:l}=c.useContext(Os),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let h=zt(),g;if(s){var u;let b=typeof s=="string"?gn(s):s;d==="/"||(u=b.pathname)!=null&&u.startsWith(d)||et(!1),g=b}else g=h;let x=g.pathname||"/",E=x;if(d!=="/"){let b=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=pp(t,{pathname:E}),F=Gp(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},i,b.params),pathname:or([d,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:or([d,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,r,n);return s&&F?c.createElement(eo.Provider,{value:{location:ua({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Zs.Pop}},F):F}function Hp(){let t=Zp(),s=Bp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},s),r?c.createElement("pre",{style:a},r):null,null)}const Wp=c.createElement(Hp,null);class qp extends c.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?c.createElement(Os.Provider,{value:this.props.routeContext},c.createElement(ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jp(t){let{routeContext:s,match:r,children:n}=t,a=c.useContext(Jc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),c.createElement(Os.Provider,{value:s},n)}function Gp(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,i=(a=r)==null?void 0:a.errors;if(i!=null){let g=o.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);g>=0||et(!1),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let u=o[g];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(h=g),u.route.id){let{loaderData:x,errors:E}=r,k=u.route.loader&&x[u.route.id]===void 0&&(!E||E[u.route.id]===void 0);if(u.route.lazy||k){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,u,x)=>{let E,k=!1,F=null,b=null;r&&(E=i&&u.route.id?i[u.route.id]:void 0,F=u.route.errorElement||Wp,d&&(h<0&&x===0?(k=!0,b=null):h===x&&(k=!0,b=u.route.hydrateFallbackElement||null)));let j=s.concat(o.slice(0,x+1)),y=()=>{let f;return E?f=F:k?f=b:u.route.Component?f=c.createElement(u.route.Component,null):u.route.element?f=u.route.element:f=g,c.createElement(Jp,{match:u,routeContext:{outlet:g,matches:j,isDataRoute:r!=null},children:f})};return r&&(u.route.ErrorBoundary||u.route.errorElement||x===0)?c.createElement(qp,{location:r.location,revalidation:r.revalidation,component:F,error:E,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var mh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mh||{}),Il=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Il||{});function Yp(t){let s=c.useContext(Jc);return s||et(!1),s}function Kp(t){let s=c.useContext(_p);return s||et(!1),s}function Qp(t){let s=c.useContext(Os);return s||et(!1),s}function uh(t){let s=Qp(),r=s.matches[s.matches.length-1];return r.route.id||et(!1),r.route.id}function Zp(){var t;let s=c.useContext(ih),r=Kp(Il.UseRouteError),n=uh(Il.UseRouteError);return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function Xp(){let{router:t}=Yp(mh.UseNavigateStable),s=uh(Il.UseNavigateStable),r=c.useRef(!1);return ch(()=>{r.current=!0}),c.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ua({fromRouteId:s},l)))},[t,s])}function ef(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gs(t){let{to:s,replace:r,state:n,relative:a}=t;pn()||et(!1);let{future:l,static:o}=c.useContext(hr),{matches:i}=c.useContext(Os),{pathname:d}=zt(),h=Ut(),g=qc(s,Wc(i,l.v7_relativeSplatPath),d,a==="path"),u=JSON.stringify(g);return c.useEffect(()=>h(JSON.parse(u),{replace:r,state:n,relative:a}),[h,u,a,r,n]),null}function Be(t){et(!1)}function tf(t){let{basename:s="/",children:r=null,location:n,navigationType:a=Zs.Pop,navigator:l,static:o=!1,future:i}=t;pn()&&et(!1);let d=s.replace(/^\/*/,"/"),h=c.useMemo(()=>({basename:d,navigator:l,static:o,future:ua({v7_relativeSplatPath:!1},i)}),[d,i,l,o]);typeof n=="string"&&(n=gn(n));let{pathname:g="/",search:u="",hash:x="",state:E=null,key:k="default"}=n,F=c.useMemo(()=>{let b=Hc(g,d);return b==null?null:{location:{pathname:b,search:u,hash:x,state:E,key:k},navigationType:a}},[d,g,u,x,E,k,a]);return F==null?null:c.createElement(hr.Provider,{value:h},c.createElement(eo.Provider,{children:r,value:F}))}function Gc(t){let{children:s,location:r}=t;return Op(Di(s),r)}new Promise(()=>{});function Di(t,s){s===void 0&&(s=[]);let r=[];return c.Children.forEach(t,(n,a)=>{if(!c.isValidElement(n))return;let l=[...s,a];if(n.type===c.Fragment){r.push.apply(r,Di(n.props.children,l));return}n.type!==Be&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Di(n.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zi.apply(this,arguments)}function sf(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function rf(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nf(t,s){return t.button===0&&(!s||s==="_self")&&!rf(t)}function Ui(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function af(t,s){let r=Ui(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(l=>{r.append(a,l)})}),r}const lf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],of="6";try{window.__reactRouterVersion=of}catch{}const cf="startTransition",hm=tg[cf];function df(t){let{basename:s,children:r,future:n,window:a}=t,l=c.useRef();l.current==null&&(l.current=xp({window:a,v5Compat:!0}));let o=l.current,[i,d]=c.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},g=c.useCallback(u=>{h&&hm?hm(()=>d(u)):d(u)},[d,h]);return c.useLayoutEffect(()=>o.listen(g),[o,g]),c.useEffect(()=>ef(n),[n]),c.createElement(tf,{basename:s,children:r,location:i.location,navigationType:i.action,navigator:o,future:n})}const mf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=c.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:l,replace:o,state:i,target:d,to:h,preventScrollReset:g,viewTransition:u}=s,x=sf(s,lf),{basename:E}=c.useContext(hr),k,F=!1;if(typeof h=="string"&&uf.test(h)&&(k=h,mf))try{let f=new URL(window.location.href),T=h.startsWith("//")?new URL(f.protocol+h):new URL(h),S=Hc(T.pathname,E);T.origin===f.origin&&S!=null?h=S+T.search+T.hash:F=!0}catch{}let b=Dp(h,{relative:a}),j=xf(h,{replace:o,state:i,target:d,preventScrollReset:g,relative:a,viewTransition:u});function y(f){n&&n(f),f.defaultPrevented||j(f)}return c.createElement("a",zi({},x,{href:k||b,onClick:F||l?n:y,ref:r,target:d}))});var gm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var pm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pm||(pm={}));function xf(t,s){let{target:r,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:i}=s===void 0?{}:s,d=Ut(),h=zt(),g=dh(t,{relative:o});return c.useCallback(u=>{if(nf(u,r)){u.preventDefault();let x=n!==void 0?n:Al(h)===Al(g);d(t,{replace:x,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[h,d,g,n,a,r,t,l,o,i])}function Yc(t){let s=c.useRef(Ui(t)),r=c.useRef(!1),n=zt(),a=c.useMemo(()=>af(n.search,r.current?null:s.current),[n.search]),l=Ut(),o=c.useCallback((i,d)=>{const h=Ui(typeof i=="function"?i(a):i);r.current=!0,l("?"+h,d)},[l,a]);return[a,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(t,s)=>{const r=c.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:i="",children:d,...h},g)=>c.createElement("svg",{ref:g,...hf,width:a,height:a,stroke:n,strokeWidth:o?Number(l)*24/Number(a):l,className:["lucide",`lucide-${gf(t)}`,i].join(" "),...h},[...s.map(([u,x])=>c.createElement(u,x)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=oe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=oe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=oe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=oe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=oe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=oe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=oe("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=oe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=oe("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=oe("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=oe("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=oe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=oe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=oe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=oe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=oe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=oe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=oe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=oe("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=oe("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=oe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=oe("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=oe("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=oe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=oe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=oe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=oe("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=oe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=oe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=oe("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=oe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Bl="/assets/HH-Ts5kogq8.png",ao=({scrollY:t})=>{const[s,r]=c.useState(!1),n=zt(),a=l=>n.pathname===l;return e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(Je,{to:"/",className:"flex items-center space-x-1 outline-none focus:outline-none",children:e.jsx("img",{src:Bl,alt:"HomeHeroes Logo",className:"w-14 h-14 object-contain rounded-lg"})}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8 absolute left-1/2 transform -translate-x-1/2",children:[e.jsx(Je,{to:"/",className:`${a("/")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors font-medium outline-none focus:outline-none`,children:"Home"}),e.jsx(Je,{to:"/services",className:`${a("/services")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors font-medium outline-none focus:outline-none`,children:"Services"}),e.jsx(Je,{to:"/how-it-works",className:`${a("/how-it-works")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors font-medium outline-none focus:outline-none`,children:"How It Works"}),e.jsx(Je,{to:"/contact-us",className:`${a("/contact-us")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors font-medium outline-none focus:outline-none`,onClick:()=>r(!1),children:"Contact Us"})]}),e.jsx("div",{className:"hidden md:flex items-center",children:e.jsx(Je,{to:"/login",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors font-medium outline-none focus:outline-none",children:"Find Services"})}),e.jsx("button",{className:"md:hidden outline-none focus:outline-none",onClick:()=>r(!s),children:s?e.jsx(Ae,{className:"w-6 h-6"}):e.jsx(ro,{className:"w-6 h-6"})})]}),s&&e.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.jsx(Je,{to:"/",className:`block px-3 py-2 ${a("/")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors outline-none focus:outline-none`,onClick:()=>r(!1),children:"Home"}),e.jsx(Je,{to:"/services",className:`block px-3 py-2 ${a("/services")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors outline-none focus:outline-none`,onClick:()=>r(!1),children:"Services"}),e.jsx(Je,{to:"/how-it-works",className:`block px-3 py-2 ${a("/how-it-works")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors outline-none focus:outline-none`,onClick:()=>r(!1),children:"How It Works"}),e.jsx(Je,{to:"/contact-us",className:`block px-3 py-2 ${a("/contact-us")?"text-green-600":"text-gray-700 hover:text-green-600"} transition-colors outline-none focus:outline-none`,onClick:()=>r(!1),children:"Contact Us"}),e.jsx(Je,{to:"/login",className:"block w-full text-left bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors outline-none focus:outline-none",onClick:()=>r(!1),children:"Find Services"})]})})]})})},Df="/assets/heroImgg-BN8gHWJ1.jpg",zf="/assets/hairStylist-BhpgumGJ.jpg",Uf="/assets/electrician-BAAHcQAV.jpg",Of=()=>{const[t,s]=c.useState(0),r=[{url:Df,title:"Cleaner",rating:"4.9"},{url:zf,title:"Hair Stylist",rating:"4.8"},{url:Uf,title:"Electrician",rating:"5.0"}];return c.useEffect(()=>{const n=setInterval(()=>{s(a=>(a+1)%r.length)},4e3);return()=>clearInterval(n)},[]),e.jsxs("section",{className:"relative min-h-screen bg-gradient-to-br from-green-900 via-emerald-800 to-green-900 flex items-center justify-center overflow-hidden mt-[70px]",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(34,197,94,0.1),transparent_50%)] animate-pulse"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-20",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsxs("div",{className:"text-left space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-green-500/10 backdrop-blur-sm px-3 sm:px-4 py-2 rounded-full border border-green-500/20",children:[e.jsx(Te,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-400 fill-current animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-green-300",children:"Trusted by 1,000+ homeowners"})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",children:["Your Home,",e.jsx("span",{className:"block bg-gradient-to-r from-green-300 to-emerald-400 bg-clip-text text-transparent",children:"Our Heroes"})]}),e.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-300 mb-6 sm:mb-8 leading-relaxed",children:"Connect with trusted service providers for all your home needs, or join our platform to earn flexible income with your skills."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs(Je,{to:"/login",className:"group bg-gradient-to-r from-green-500 to-green-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 font-semibold text-base sm:text-lg flex items-center justify-center shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:["Find Services",e.jsx(_s,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]}),e.jsxs(Je,{to:"/provider-login",className:"group bg-white/10 backdrop-blur-sm text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl hover:bg-white/20 transition-all duration-300 font-semibold text-base sm:text-lg border-2 border-white/20 hover:border-white/40 flex items-center justify-center shadow-xl transform hover:-translate-y-1",children:["Become a Provider",e.jsx(_s,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 pt-6 sm:pt-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:"1000+"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Happy Clients"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:"500+"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Providers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:"4.9"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Avg Rating"})]})]})]}),e.jsxs("div",{className:"relative h-[350px] sm:h-[450px] md:h-[500px] lg:h-[600px] mt-8 lg:mt-0",children:[e.jsx("div",{className:"relative h-full",children:r.map((n,a)=>e.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${t===a?"opacity-100 scale-100 z-10":"opacity-0 scale-95 z-0"}`,children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl h-full",children:[e.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-green-900/80 via-transparent to-transparent"}),e.jsx("div",{className:"absolute bottom-3 sm:bottom-6 left-3 sm:left-6 right-3 sm:right-6",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-2 sm:p-3 shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Le,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:n.title}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[e.jsx(Te,{className:"w-3 h-3 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"font-medium",children:n.rating}),e.jsx("span",{className:"ml-1 hidden sm:inline",children:"(127+ reviews)"})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"From"}),e.jsx("div",{className:"text-sm sm:text-base font-bold text-green-600",children:"N4k"})]})]})})})]})},a))}),e.jsx("div",{className:"hidden sm:block absolute -top-4 sm:-top-6 -right-4 sm:-right-6 bg-white rounded-xl p-3 sm:p-4 shadow-xl z-20 animate-bounce",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2 sm:p-3 rounded-lg",children:e.jsx(Le,{className:"w-4 h-4 sm:w-6 sm:h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-base",children:"Verified"}),e.jsx("div",{className:"text-xs text-gray-600",children:"100% Safe"})]})]})}),e.jsx("div",{className:"hidden sm:block absolute -bottom-4 sm:-bottom-6 -left-4 sm:-left-6 bg-white rounded-xl p-3 sm:p-4 shadow-xl z-20 animate-bounce",style:{animationDelay:"0.5s"},children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2 sm:p-3 rounded-lg",children:e.jsx(Ie,{className:"w-4 h-4 sm:w-6 sm:h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-base",children:"Fast Service"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Same Day"})]})]})}),e.jsx("div",{className:"absolute -bottom-8 sm:-bottom-12 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20",children:r.map((n,a)=>e.jsx("button",{onClick:()=>s(a),className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${t===a?"w-6 sm:w-8 bg-green-400":"w-1.5 sm:w-2 bg-white/50 hover:bg-white/80"}`},a))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mt-12 sm:mt-16 lg:mt-24",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 bg-white/5 backdrop-blur-sm p-4 sm:p-6 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"bg-green-500/20 p-2 sm:p-3 rounded-lg flex-shrink-0",children:e.jsx(Le,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white text-sm sm:text-base",children:"Verified Providers"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Background checked"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 bg-white/5 backdrop-blur-sm p-4 sm:p-6 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"bg-green-500/20 p-2 sm:p-3 rounded-lg flex-shrink-0",children:e.jsx(Ie,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white text-sm sm:text-base",children:"Same-Day Service"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Quick response time"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 bg-white/5 backdrop-blur-sm p-4 sm:p-6 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"bg-yellow-500/20 p-2 sm:p-3 rounded-lg flex-shrink-0",children:e.jsx(os,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white text-sm sm:text-base",children:"5-Star Reviews"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Top-rated service"})]})]})]})]}),e.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-green-400/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-32 h-32 bg-emerald-400/30 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]})},Vf="/assets/verified-apuCVa1b.jpg",Hf=()=>{const[t,s]=c.useState(!1),r=c.useRef(null);c.useEffect(()=>{const o=new IntersectionObserver(([i])=>{i.isIntersecting&&s(!0)},{threshold:.1});return r.current&&o.observe(r.current),()=>o.disconnect()},[]);const n=[{icon:Le,image:Vf,title:"Verified Providers",description:"All service providers are background-checked and verified for your peace of mind.",color:"green"},{icon:Ie,image:"https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Quick Booking",description:"Book services in minutes and get same-day or next-day availability.",color:"blue"},{icon:Ne,image:"https://images.pexels.com/photos/5668858/pexels-photo-5668858.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Quality Guaranteed",description:"Satisfaction guaranteed with our 5-star rating system and reviews.",color:"emerald"}],a=[{icon:Ar,image:"https://images.pexels.com/photos/259027/pexels-photo-259027.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Flexible Income",description:"Set your own rates and work when you want to maximize your earnings.",color:"green"},{icon:zs,image:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Steady Customers",description:"Access to a growing customer base looking for reliable service providers.",color:"blue"},{icon:dt,image:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Easy Setup",description:"Get started in minutes with our simple onboarding process.",color:"emerald"}],l=o=>{const i={green:"bg-green-500 text-green-600 border-green-200",blue:"bg-blue-500 text-blue-600 border-blue-200",emerald:"bg-emerald-500 text-emerald-600 border-emerald-200"};return i[o]||i.green};return e.jsx("section",{ref:r,className:"py-12 sm:py-16 md:py-20 bg-gray-50 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:`text-center mb-12 sm:mb-16 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Why Choose Us"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4 px-2",children:"Why Choose Home Heroes?"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"We're building a trusted community where homeowners find reliable help and skilled workers find meaningful opportunities."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16",children:[e.jsxs("div",{className:`transition-all duration-1000 delay-200 ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-10"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"bg-green-500 text-white px-6 py-3 rounded-full font-bold text-lg shadow-lg",children:"For Homeowners"})}),e.jsx("div",{className:"space-y-6",children:n.map((o,i)=>{const d=o.icon;return e.jsx("div",{className:`group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,style:{transitionDelay:`${400+i*150}ms`},children:e.jsxs("div",{className:"grid sm:grid-cols-5 gap-0",children:[e.jsxs("div",{className:"sm:col-span-2 h-48 sm:h-full relative overflow-hidden",children:[e.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/20"})]}),e.jsxs("div",{className:"sm:col-span-3 p-6 flex flex-col justify-center",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${l(o.color).split(" ")[0]}/10 mb-4`,children:e.jsx(d,{className:`w-6 h-6 ${l(o.color).split(" ")[1]}`})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:o.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]})]})},i)})})]}),e.jsxs("div",{className:`transition-all duration-1000 delay-300 ${t?"opacity-100 translate-x-0":"opacity-0 translate-x-10"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"bg-green-500 text-white px-6 py-3 rounded-full font-bold text-lg shadow-lg",children:"For Service Providers"})}),e.jsx("div",{className:"space-y-6",children:a.map((o,i)=>{const d=o.icon;return e.jsx("div",{className:`group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,style:{transitionDelay:`${700+i*150}ms`},children:e.jsxs("div",{className:"grid sm:grid-cols-5 gap-0",children:[e.jsxs("div",{className:"sm:col-span-2 h-48 sm:h-full relative overflow-hidden",children:[e.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/20"})]}),e.jsxs("div",{className:"sm:col-span-3 p-6 flex flex-col justify-center",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${l(o.color).split(" ")[0]}/10 mb-4`,children:e.jsx(d,{className:`w-6 h-6 ${l(o.color).split(" ")[1]}`})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:o.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]})]})},i)})})]})]})]})})},Wf=()=>{const[t,s]=c.useState(!1),r=c.useRef(null);c.useEffect(()=>{const l=new IntersectionObserver(([o])=>{o.isIntersecting&&s(!0)},{threshold:.1});return r.current&&l.observe(r.current),()=>l.disconnect()},[]);const n=[{icon:Dt,image:"https://images.pexels.com/photos/4386321/pexels-photo-4386321.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",number:"01",title:"Find Services",description:"Browse our vetted service providers and read reviews from other customers."},{icon:Me,image:"https://images.pexels.com/photos/6694543/pexels-photo-6694543.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",number:"02",title:"Book & Schedule",description:"Choose your preferred time and book instantly with transparent pricing."},{icon:Ne,image:"https://images.pexels.com/photos/5668858/pexels-photo-5668858.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",number:"03",title:"Get It Done",description:"Relax while our trusted providers complete your task to perfection."}],a=[{icon:wh,image:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",number:"01",title:"Sign Up",description:"Create your profile and showcase your skills and experience to customers."},{icon:Tr,image:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",number:"02",title:"Get Matched",description:"Receive job requests that match your skills and availability preferences."},{icon:wt,image:"https://images.pexels.com/photos/259027/pexels-photo-259027.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",number:"03",title:"Get Paid",description:"Complete jobs and receive payment directly through our secure platform."}];return e.jsx("section",{ref:r,id:"how-it-works",className:"py-12 sm:py-16 md:py-20 bg-white overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:`text-center mb-12 sm:mb-16 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Simple Process"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4 px-2",children:"How It Works"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Getting started is simple. Whether you need help or want to help others, we've made the process seamless."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:`transition-all duration-1000 delay-200 ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-10"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"bg-blue-500 text-white px-6 py-3 rounded-full font-bold text-lg shadow-lg",children:"For Customers"})}),e.jsx("div",{className:"space-y-8",children:n.map((l,o)=>{const i=l.icon;return e.jsxs("div",{className:`group relative transition-all duration-700 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,style:{transitionDelay:`${400+o*150}ms`},children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-100 rounded-2xl p-6 hover:shadow-xl transition-all duration-500 hover:-translate-y-1",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-white font-bold text-xl",children:l.number})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(i,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:l.title})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:l.description}),e.jsx("div",{className:"rounded-xl overflow-hidden shadow-md",children:e.jsx("img",{src:l.image,alt:l.title,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform duration-500"})})]})]})}),o<n.length-1&&e.jsx("div",{className:"absolute left-8 top-full h-8 w-0.5 bg-gradient-to-b from-blue-200 to-transparent -mt-2"})]},o)})})]}),e.jsxs("div",{className:`transition-all duration-1000 delay-300 ${t?"opacity-100 translate-x-0":"opacity-0 translate-x-10"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"bg-green-500 text-white px-6 py-3 rounded-full font-bold text-lg shadow-lg",children:"For Providers"})}),e.jsx("div",{className:"space-y-8",children:a.map((l,o)=>{const i=l.icon;return e.jsxs("div",{className:`group relative transition-all duration-700 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,style:{transitionDelay:`${700+o*150}ms`},children:[e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-xl transition-all duration-500 hover:-translate-y-1",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-white font-bold text-xl",children:l.number})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:e.jsx(i,{className:"w-5 h-5 text-green-600"})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:l.title})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:l.description}),e.jsx("div",{className:"rounded-xl overflow-hidden shadow-md",children:e.jsx("img",{src:l.image,alt:l.title,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform duration-500"})})]})]})}),o<a.length-1&&e.jsx("div",{className:"absolute left-8 top-full h-8 w-0.5 bg-gradient-to-b from-green-200 to-transparent -mt-2"})]},o)})})]})]})]})})},qf=()=>{const[t,s]=c.useState(!1),[r,n]=c.useState(null),a=c.useRef(null);c.useEffect(()=>{const i=new IntersectionObserver(([d])=>{d.isIntersecting&&s(!0)},{threshold:.1});return a.current&&i.observe(a.current),()=>i.disconnect()},[]);const l=[{icon:Ct,image:"https://images.pexels.com/photos/4239146/pexels-photo-4239146.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"House Cleaning",description:"Professional cleaning services for your home",color:"blue"},{icon:hh,image:"https://images.pexels.com/photos/4490201/pexels-photo-4490201.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Plumbing",description:"Expert plumbers for repairs and installations",color:"cyan"},{icon:qi,image:"https://images.pexels.com/photos/1669799/pexels-photo-1669799.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Painting",description:"Interior and exterior painting specialists",color:"purple"},{icon:Oi,image:"https://images.pexels.com/photos/3354648/pexels-photo-3354648.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Car Washing",description:"Mobile car detailing at your location",color:"red"},{icon:Lr,image:"https://images.pexels.com/photos/5691659/pexels-photo-5691659.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Handyman",description:"General repairs and maintenance tasks",color:"orange"},{icon:wf,image:"https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Landscaping",description:"Garden maintenance and lawn care",color:"green"},{icon:dt,image:"https://images.pexels.com/photos/257736/pexels-photo-257736.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Electrical",description:"Licensed electricians for all electrical needs",color:"yellow"},{icon:Ff,image:"https://images.pexels.com/photos/261679/pexels-photo-261679.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Pool Service",description:"Pool cleaning and maintenance experts",color:"teal"}],o=i=>{const d={blue:{bg:"bg-blue-500",text:"text-blue-600",hover:"group-hover:bg-blue-500"},cyan:{bg:"bg-cyan-500",text:"text-cyan-600",hover:"group-hover:bg-cyan-500"},purple:{bg:"bg-purple-500",text:"text-purple-600",hover:"group-hover:bg-purple-500"},red:{bg:"bg-red-500",text:"text-red-600",hover:"group-hover:bg-red-500"},orange:{bg:"bg-orange-500",text:"text-orange-600",hover:"group-hover:bg-orange-500"},green:{bg:"bg-green-500",text:"text-green-600",hover:"group-hover:bg-green-500"},yellow:{bg:"bg-yellow-500",text:"text-yellow-600",hover:"group-hover:bg-yellow-500"},teal:{bg:"bg-teal-500",text:"text-teal-600",hover:"group-hover:bg-teal-500"}};return d[i]||d.green};return e.jsx("section",{ref:a,id:"services",className:"py-20 bg-gray-50 overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:`text-center mb-16 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Our Services"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Services We Offer"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"From routine maintenance to emergency repairs, our network of trusted professionals has you covered."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((i,d)=>{const h=i.icon,g=o(i.color);return e.jsxs("div",{onMouseEnter:()=>n(d),onMouseLeave:()=>n(null),className:`group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 cursor-pointer ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${200+d*100}ms`},children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent transition-opacity duration-300 ${r===d?"opacity-100":"opacity-60"}`}),e.jsx("div",{className:`absolute top-4 right-4 w-12 h-12 ${g.bg} rounded-xl flex items-center justify-center shadow-lg transform transition-all duration-300 ${r===d?"scale-110 rotate-12":"scale-100"}`,children:e.jsx(h,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:i.title}),e.jsx("p",{className:"text-white/90 text-sm",children:i.description})]})]}),e.jsx("div",{className:`absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/90 to-transparent transform transition-all duration-300 ${r===d?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:e.jsxs(Je,{to:"/login",className:`w-full ${g.bg} text-white py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:brightness-110 transition-all`,children:["Book Now",e.jsx(_s,{className:"w-4 h-4"})]})})]},d)})}),e.jsx("div",{className:`text-center mt-12 transition-all duration-1000 delay-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs(Je,{to:"/services",className:"group bg-gradient-to-r from-green-500 to-green-600 text-white px-10 py-4 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:-translate-y-1 flex items-center gap-3 mx-auto",children:["View All Services",e.jsx(_s,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})},Jf=()=>{const[t,s]=c.useState(!1),r=c.useRef(null);c.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&s(!0)},{threshold:.1});return r.current&&a.observe(r.current),()=>a.disconnect()},[]);const n=[{icon:Ar,title:"Earn 5k-30k/daily",description:"Set competitive rates and maximize your earning potential"},{icon:Ie,title:"Flexible Schedule",description:"Work when you want, as much or as little as you prefer"},{icon:Le,title:"Insurance Coverage",description:"Protected by our comprehensive insurance policy"}];return e.jsxs("section",{ref:r,id:"providers",className:"py-12 sm:py-16 md:py-20 bg-gradient-to-r from-green-600 to-green-700 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:`text-center text-white mb-10 sm:mb-12 md:mb-16 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4 px-2",children:"Turn Your Skills Into Income"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl opacity-90 max-w-3xl mx-auto px-4",children:"Join thousands of skilled professionals earning flexible income through Home Heroes. Start your journey today."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8 mb-10 sm:mb-12",children:n.map((a,l)=>e.jsxs("div",{className:`text-center text-white transition-all duration-700 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${200+l*150}ms`},children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 hover:bg-white/30 transition-colors duration-300",children:e.jsx(a.icon,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:a.title}),e.jsx("p",{className:"text-sm sm:text-base opacity-90 leading-relaxed px-2",children:a.description})]},l))}),e.jsx("div",{className:`bg-white/10 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 transition-all duration-1000 delay-700 hover:bg-white/15 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-base sm:text-lg opacity-90 mb-5 sm:mb-6 leading-relaxed",children:"Join our community of trusted service providers and start earning money doing what you love. Our simple onboarding process gets you up and running in no time."}),e.jsxs("ul",{className:"space-y-2.5 sm:space-y-3 mb-6 sm:mb-8",children:[e.jsxs("li",{className:`flex items-center space-x-3 transition-all duration-500 ${t?"opacity-100":"opacity-0"}`,style:{transitionDelay:"1000ms"},children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Create your professional profile"})]}),e.jsxs("li",{className:`flex items-center space-x-3 transition-all duration-500 ${t?"opacity-100":"opacity-0"}`,style:{transitionDelay:"1100ms"},children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Get verified and background checked"})]}),e.jsxs("li",{className:`flex items-center space-x-3 transition-all duration-500 ${t?"opacity-100":"opacity-0"}`,style:{transitionDelay:"1200ms"},children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Start booking job requests"})]})]})]}),e.jsx("div",{className:`text-center transition-all duration-1000 delay-1000 ${t?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-2xl transition-shadow duration-300 hover:shadow-3xl",children:[e.jsx("h4",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Join Today"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-5 sm:mb-6",children:"Start earning flexible income with your skills"}),e.jsxs(Je,{to:"/provider-login",className:"w-full bg-green-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl hover:bg-green-700 transition-all duration-300 font-semibold text-base sm:text-lg flex items-center justify-center group shadow-lg hover:shadow-xl",children:["Become a Provider",e.jsx(_s,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]})})]})]})},lo=()=>{const[t,s]=c.useState(!1),r=c.useRef(null);c.useEffect(()=>{const o=new IntersectionObserver(([i])=>{i.isIntersecting&&s(!0)},{threshold:.1});return r.current&&o.observe(r.current),()=>o.disconnect()},[]);const n=["House Cleaning","Plumbing","Painting","Car Washing","Handyman","Landscaping","Electrical","Pool Service"],a=["About Us","How It Works","Safety","Careers","Press","Blog"],l=["Help Center","Contact Us","Trust & Safety","Terms of Service","Privacy Policy","Accessibility"];return e.jsx("footer",{ref:r,className:"bg-green-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:`py-12 border-b border-gray-800 transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Stay Updated"}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Get the latest updates on new services, special offers, and tips for maintaining your home."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 rounded-lg bg-green-800 border border-green-700 text-white placeholder-green-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-600"}),e.jsxs("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-all duration-300 font-medium flex items-center justify-center group transform hover:scale-105",children:["Subscribe",e.jsx(_s,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})}),e.jsxs("div",{className:"py-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[e.jsxs("div",{className:`lg:col-span-2 transition-all duration-1000 delay-200 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:e.jsx(Je,{to:"/",className:"flex items-center space-x-2",children:e.jsx("img",{src:Bl,alt:"HomeHeroes Logo",className:"w-14 h-14 object-contain rounded-lg"})})}),e.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Connecting homeowners with trusted service providers for all your home needs. Creating opportunities for skilled professionals to earn flexible income."}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-3 hover:text-white transition-colors duration-300",children:[e.jsx(We,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{children:"Serving nationwide across Nigeria"})]}),e.jsxs("div",{className:"flex items-center space-x-3 hover:text-white transition-colors duration-300",children:[e.jsx(ot,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"+2348069980777"})]}),e.jsxs("div",{className:"flex items-center space-x-3 hover:text-white transition-colors duration-300",children:[e.jsx(ut,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{children:"support@homeheroes.help"})]})]})]}),e.jsxs("div",{className:`transition-all duration-1000 delay-300 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),e.jsx("ul",{className:"space-y-2",children:n.map((o,i)=>e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm hover:translate-x-1 transform duration-300 inline-block",children:o})},i))})]}),e.jsxs("div",{className:`transition-all duration-1000 delay-400 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),e.jsx("ul",{className:"space-y-2",children:a.map((o,i)=>e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm hover:translate-x-1 transform duration-300 inline-block",children:o})},i))})]}),e.jsxs("div",{className:`transition-all duration-1000 delay-500 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),e.jsx("ul",{className:"space-y-2",children:l.map((o,i)=>e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm hover:translate-x-1 transform duration-300 inline-block",children:o})},i))})]})]}),e.jsx("div",{className:`py-8 border-t border-gray-800 transition-all duration-1000 delay-600 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-6 text-sm text-gray-400",children:[e.jsx("span",{children:" 2025 HomeHero. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookies"})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-600 transition-all duration-300 group transform hover:scale-110 hover:-translate-y-1",children:e.jsx(vf,{className:"w-4 h-4 text-gray-400 group-hover:text-white"})}),e.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-400 transition-all duration-300 group transform hover:scale-110 hover:-translate-y-1",children:e.jsx(Rf,{className:"w-4 h-4 text-gray-400 group-hover:text-white"})}),e.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-pink-600 transition-all duration-300 group transform hover:scale-110 hover:-translate-y-1",children:e.jsx(Nf,{className:"w-4 h-4 text-gray-400 group-hover:text-white"})}),e.jsx("a",{href:"#",className:"w-9 h-9 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-700 transition-all duration-300 group transform hover:scale-110 hover:-translate-y-1",children:e.jsx(Sf,{className:"w-4 h-4 text-gray-400 group-hover:text-white"})})]})]})})]})})},oo=()=>{const[t,s]=c.useState(!1),[r,n]=c.useState([{type:"bot",text:" Hello! I'm your Home Heroes assistant. How can I help you today?",options:["How does booking work?","Explain payment system","How to become a provider?","What is job posting?","Customer journey","Provider journey"]}]),[a,l]=c.useState(""),o=c.useRef(null),i=()=>{var u;(u=o.current)==null||u.scrollIntoView({behavior:"smooth"})};c.useEffect(()=>{i()},[r]);const d={hi:{text:` Hello there! Great to see you!

I'm your Home Heroes assistant, here to help you with anything you need to know about our platform.

What would you like to learn about today?`,options:["How does booking work?","Explain payment system","How to become a provider?","Customer journey","Provider journey","Contact support"]},hello:{text:` Hello there! Great to see you!

I'm your Home Heroes assistant, here to help you with anything you need to know about our platform.

What would you like to learn about today?`,options:["How does booking work?","Explain payment system","How to become a provider?","Customer journey","Provider journey","Contact support"]},hey:{text:` Hey! How's it going?

I'm your Home Heroes assistant, ready to help you with any questions about our platform.

What can I help you with?`,options:["How does booking work?","Explain payment system","How to become a provider?","Customer journey","Provider journey","Contact support"]},"how does booking work?":{text:`** Booking Process:**

**For Customers:**
1. Browse available services or providers
2. Select your preferred provider
3. Choose date and time
4. Make payment (held in escrow)
5. Provider receives email notification
6. Provider accepts booking
7. Provider arrives within 4 hours
8. Confirm arrival to release payment

**For Providers:**
1. Receive email notification of booking
2. Review booking details
3. Accept or decline within timeframe
4. Head to customer location
5. Complete the job
6. Receive 85% of payment (15% platform fee)`,options:["What if provider doesn't show?","Explain payment system","How to cancel booking?"]},"explain payment system":{text:` **Payment System:**

Our secure payment process protects everyone:

**Step 1:** Customer pays immediately after booking
**Step 2:** Money is held securely in escrow
**Step 3:** Provider confirms and accepts booking
**Step 4:** Payment held for 4 hours while provider travels
**Step 5:** Customer confirms provider arrival
**Step 6:** Payment released:
    85% to provider
    15% platform service fee

** Safety Features:**
 Auto-refund if provider doesn't arrive in 4 hours
 No scams or underpayment
 Fast and transparent
 Customer only pays for completed work`,options:["What if provider doesn't show?","How refunds work?","Provider earnings"]},"what if provider doesn't show?":{text:`** No-Show Protection:**

If provider doesn't arrive within 4 hours:
 Payment is **automatically reversed**
 Full refund to customer
 No questions asked
 Instant processing

You're completely protected! `,options:["How does booking work?","Customer journey","Contact support"]},"how to become a provider?":{text:`** Become a Provider:**

**Sign Up Process:**
1. Click "Become a Provider"
2. Create your profile
3. Add your skills & experience
4. Upload ID and documents
5. Background verification (24-48 hours)
6. Get approved
7. Start receiving job requests!

**Earnings:**
 Earn 5k-30k daily
 Set your own rates
 Flexible schedule
 85% of each payment
 Insurance coverage included

Ready to start earning? `,options:["Provider journey","How to get bookings?","View provider benefits"]},"what is job posting?":{text:`** Job Posting System:**

**For Customers:**
Instead of browsing providers, you can:
1. Post a job with details
2. Set your budget
3. Wait for provider applications
4. Review applications
5. Choose your preferred provider
6. Book directly

**For Providers:**
1. Browse available job postings
2. Apply to jobs matching your skills
3. Submit your proposal and rate
4. Wait for customer selection
5. Get hired and start working

Perfect for custom or urgent jobs! `,options:["How does booking work?","Customer journey","Provider journey"]},"customer journey":{text:`** Complete Customer Journey:**

**Option A: Direct Booking**
1. Browse services/providers
2. Check reviews & ratings
3. Select provider
4. Choose date/time
5. Make payment (escrow)
6. Provider gets email notification
7. Provider accepts booking
8. Provider arrives (4hr window)
9. Confirm arrival
10. Job completed
11. Payment released to provider
12. Leave review 

**Option B: Post a Job**
1. Click "Post a Job"
2. Describe your needs
3. Set your budget
4. Receive provider applications
5. Review proposals
6. Select best provider
7. Continue with booking process

**Protection:**
 Verified providers only
 Auto-refund if no-show
 Insurance coverage
 24/7 support`,options:["Explain payment system","What if provider doesn't show?","Provider journey"]},"provider journey":{text:`** Complete Provider Journey:**

**Getting Started:**
1. Sign up as provider
2. Complete profile
3. Background verification
4. Get approved

**Receiving Jobs:**

**Method 1: Direct Bookings**
 Customer books you directly
 Email notification sent
 Review booking details
 Accept or decline
 Head to location
 Complete job
 Get paid (85%)

**Method 2: Job Applications**
 Browse job postings
 View applications page
 Apply to matching jobs
 Submit proposal
 Wait for customer selection
 If hired, proceed with job

**Earnings:**
 Same-day payment
 85% of booking amount
 Track all applications
 Build your reputation
 Flexible schedule

**Dashboard Features:**
 View pending bookings
 See job applications status
 Track earnings
 Manage schedule
 Customer reviews`,options:["How to get bookings?","Explain payment system","View provider benefits"]},"provider earnings":{text:`** Provider Earnings Breakdown:**

**Payment Split:**
 You receive: 85%
 Platform fee: 15%

**Example:**
Customer pays 10,000
 You get 8,500
 Platform gets 1,500

**When You Get Paid:**
 After customer confirms arrival
 Instant transfer to your account
 Track all earnings in dashboard

**Earning Potential:**
 5,000 - 30,000 daily
 Set your own rates
 More jobs = more earnings
 Build reputation for higher rates`,options:["How to become a provider?","Provider journey","View provider benefits"]},"how refunds work?":{text:`** Refund Policy:**

**Automatic Refunds:**
 Provider doesn't arrive in 4 hours  Full refund
 Instant processing
 No forms to fill

**Customer-Initiated:**
 Cancel before provider accepts  Full refund
 Cancel after acceptance  Check cancellation policy
 Contact support for special cases

**Provider No-Show:**
 Money never leaves escrow
 Automatic reversal
 Back in your account instantly

All refunds are fast and hassle-free! `,options:["Explain payment system","How does booking work?","Contact support"]},"how to cancel booking?":{text:`** Cancellation Process:**

**Before Provider Accepts:**
 Go to "My Bookings"
 Click booking
 Select "Cancel"
 Instant full refund

**After Provider Accepts:**
 Contact provider first
 Mutual cancellation possible
 May incur cancellation fee
 Or contact support

**Provider Cancellation:**
 Provider can decline before accepting
 Can cancel with valid reason
 May affect their rating

**Emergency:**
 Contact support 24/7
 We'll help resolve
 Fair resolution for both parties`,options:["How refunds work?","Contact support","Customer journey"]},"view provider benefits":{text:`** Provider Benefits:**

**Financial:**
 Earn 5k-30k daily
 Flexible pricing
 Fast payments
 85% of booking amount

**Protection:**
 Insurance coverage
 Secure payment system
 Platform support

**Flexibility:**
 Set your schedule
 Choose your jobs
 Work area preferences
 Accept/decline bookings

**Growth:**
 Build reputation
 Get more bookings
 Increase rates
 Customer reviews

**Support:**
 24/7 assistance
 Training resources
 Community access
 Marketing tools`,options:["How to become a provider?","Provider journey","How to get bookings?"]},"how to get bookings?":{text:`** Getting More Bookings:**

**Build Your Profile:**
 Complete all information
 Add quality photos
 Highlight experience
 List all skills

**Get Good Reviews:**
 Excellent service = 5 stars
 Reviews attract customers
 Build your reputation

**Be Responsive:**
 Accept bookings quickly
 Reply to messages fast
 Professional communication

**Apply to Jobs:**
 Check job postings daily
 Submit competitive proposals
 Showcase your expertise

**Set Competitive Rates:**
 Research market prices
 Balance quality & affordability
 Offer fair pricing

**Stay Active:**
 Update availability
 Keep profile current
 Consistent service quality`,options:["Provider journey","View provider benefits","Customer journey"]},"contact support":{text:`** Contact Support:**

Need help? We're here 24/7!

**Ways to Reach Us:**
 Email: support@homeheroes.help
 Phone: +234-806-8890-777
 Live Chat: Available in app
 Help Center: Browse FAQs

**Support Hours:**
 24/7 availability
 Email response: Within 2 hours
 Phone support: Immediate

**Common Issues:**
 Booking problems
 Payment issues
 Account verification
 Technical support
 Disputes resolution

We're committed to helping you! `,options:["How does booking work?","Customer journey","Provider journey"]}},h=()=>{if(!a.trim())return;const u={type:"user",text:a};n(k=>[...k,u]);const x=a.toLowerCase().trim();let E=null;for(const[k,F]of Object.entries(d))if(x===k||x.includes(k.split(" ")[0])||k.includes(x)){E=F;break}E||(E={text:`I understand you're asking about "${a}". Let me help you with that!

Here are some topics I can help with:`,options:["How does booking work?","Explain payment system","Customer journey","Provider journey","Contact support"]}),setTimeout(()=>{n(k=>[...k,{type:"bot",...E}])},500),l("")},g=u=>{const x={type:"user",text:u};n(k=>[...k,x]);const E=d[u.toLowerCase()]||{text:"Let me help you with that!",options:["How does booking work?","Explain payment system","Customer journey"]};setTimeout(()=>{n(k=>[...k,{type:"bot",...E}])},500)};return e.jsxs(e.Fragment,{children:[!t&&e.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 bg-green-600 text-white p-3 sm:p-4 rounded-full shadow-2xl hover:bg-green-700 transition-all duration-300 z-50 hover:scale-110 animate-bounce",style:{animationDuration:"2s"},children:e.jsx(Ds,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t&&e.jsxs("div",{className:"fixed bottom-4 right-4 w-[calc(100vw-2rem)] max-w-96 h-[500px] sm:h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-3 sm:p-4 rounded-t-2xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ym,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:"Home Heroes Assistant"}),e.jsx("p",{className:"text-xs text-green-100",children:"Online  Always here to help"})]})]}),e.jsx("button",{onClick:()=>s(!1),className:"hover:bg-white/20 p-1.5 sm:p-2 rounded-full transition-colors",children:e.jsx(Ae,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4 bg-gray-50",children:[r.map((u,x)=>e.jsxs("div",{children:[e.jsx("div",{className:`flex ${u.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex items-start space-x-2 max-w-[85%] sm:max-w-[80%] ${u.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${u.type==="user"?"bg-green-600":"bg-gray-200"}`,children:u.type==="user"?e.jsx(st,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"}):e.jsx(ym,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700"})}),e.jsx("div",{className:`p-2.5 sm:p-3 rounded-2xl ${u.type==="user"?"bg-green-600 text-white":"bg-white text-gray-800 border border-gray-200"}`,children:e.jsx("div",{className:"whitespace-pre-line text-sm",dangerouslySetInnerHTML:{__html:u.text.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(//g,"")}})})]})}),u.options&&e.jsx("div",{className:"mt-2 sm:mt-3 flex flex-wrap gap-1.5 sm:gap-2 ml-9 sm:ml-10",children:u.options.map((E,k)=>e.jsx("button",{onClick:()=>g(E),className:"bg-white border-2 border-green-600 text-green-600 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-medium hover:bg-green-600 hover:text-white transition-all duration-200 hover:scale-105 active:scale-95",children:E},k))})]},x)),e.jsx("div",{ref:o})]}),e.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-white rounded-b-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:a,onChange:u=>l(u.target.value),onKeyPress:u=>u.key==="Enter"&&h(),placeholder:"Ask me anything...",className:"flex-1 border border-gray-300 rounded-full px-3 sm:px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent text-base",style:{fontSize:"16px"}}),e.jsx("button",{onClick:h,className:"bg-green-600 text-white p-2 rounded-full hover:bg-green-700 transition-colors active:scale-95",children:e.jsx(Na,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Powered by Home Heroes AI"})]})]})]})};function Gf(){const[t,s]=c.useState(0);return c.useEffect(()=>{const r=()=>s(window.scrollY);return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),e.jsxs("div",{children:[e.jsx(ao,{scrollY:t}),e.jsx(Of,{}),e.jsx(Hf,{}),e.jsx("div",{id:"how-it-works",children:e.jsx(Wf,{})}),e.jsx("div",{id:"services",children:e.jsx(qf,{})}),e.jsx("div",{id:"providers",children:e.jsx(Jf,{})}),e.jsx(lo,{}),e.jsx(oo,{})," "]})}const ga="/assets/HHH-D2JMKzjr.png",Yf=()=>{var Z,q;const t=Ut(),[s]=Yc(),[r,n]=c.useState(!0),[a,l]=c.useState(!1),[o,i]=c.useState(""),[d,h]=c.useState(!1),[g,u]=c.useState(""),[x,E]=c.useState("signup"),[k,F]=c.useState(!1),[b,j]=c.useState({name:"",email:"",password:"",confirmPassword:"",userType:"provider",country:"NIGERIA",phoneNumber:""});c.useState({token:"",phoneNumber:"",country:""});const y="https://backendhomeheroes.onrender.com";c.useEffect(()=>{const v=s.get("verified"),$=s.get("email"),w=s.get("message"),A=s.get("error");if(v==="true"&&$){F(!0),j(m=>({...m,email:decodeURIComponent($)})),n(!0),w&&u(decodeURIComponent(w));const N=window.location.pathname;window.history.replaceState({},"",N)}w&&!v&&u(decodeURIComponent(w)),A&&i(decodeURIComponent(A))},[s]);const f={NIGERIA:{code:"+234",length:10,pattern:/^[0-9]{10}$/},UK:{code:"+44",length:10,pattern:/^[0-9]{10}$/},USA:{code:"+1",length:10,pattern:/^[0-9]{10}$/},CANADA:{code:"+1",length:10,pattern:/^[0-9]{10}$/}},T=v=>{const{name:$,value:w}=v.target;if($==="phoneNumber"){const A=w.replace(/\D/g,"");j({...b,[$]:A})}else j({...b,[$]:w});o&&i(""),g&&u("")},S=(v,$)=>{const w=f[$];return w?v.length!==w.length?`Phone number must be ${w.length} digits for ${$}`:w.pattern.test(v)?null:`Invalid phone number format for ${$}`:"Invalid country selected"},p=async(v,$)=>{console.log(` Making API call to: ${y}/api/auth/${v}`);try{const w=await fetch(`${y}/api/auth/${v}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),A=await w.json();if(!w.ok){if(console.error(" API Error Response:",A),A.errors&&Array.isArray(A.errors)){const m=A.errors.map(P=>typeof P=="string"?P:`${P.field||""}: ${P.message||JSON.stringify(P)}`).join(", ");throw new Error(`Validation failed: ${m}`)}const N=A.message||A.error||`HTTP ${w.status}: ${w.statusText}`;throw new Error(N)}return A}catch(w){throw console.error(" API Call Error:",w),w.name==="TypeError"&&w.message.includes("fetch")?new Error(`Cannot connect to server at ${y}. Please check if the backend is running.`):w}},C=async v=>{v.preventDefault(),i(""),u(""),h(!0);try{if(!b.name.trim()||!b.email.trim()||!b.password.trim()||!b.phoneNumber.trim()){i("Please fill in all required fields."),h(!1);return}if(b.password!==b.confirmPassword){i("Passwords do not match."),h(!1);return}if(b.password.length<6){i("Password must be at least 6 characters long."),h(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)){i("Please enter a valid email address."),h(!1);return}const w=S(b.phoneNumber,b.country);if(w){i(w),h(!1);return}console.log(" Starting signup process for:",b.email);const A={name:b.name.trim(),email:b.email.toLowerCase().trim(),password:b.password,confirmPassword:b.confirmPassword,userType:b.userType||"customer",country:b.country||"NIGERIA",phoneNumber:b.phoneNumber};console.log(" Sending signup data:",A),(await p("signup",A)).success&&(u("Account created successfully! Please check your email for the verification link. You'll be redirected to login after verification."),E("complete"),console.log(" Signup successful, waiting for email verification"))}catch($){console.error(" Signup error:",$),i($.message||"Failed to create account. Please try again.")}finally{h(!1)}},R=async()=>{try{if(h(!0),i(""),!b.email.trim()){i("Email address is required"),h(!1);return}(await p("resend-verification",{email:b.email.toLowerCase().trim()})).success&&u("Verification email sent successfully! Please check your email.")}catch(v){console.error(" Resend verification error:",v),i(v.message||"Failed to resend verification email. Please try again.")}finally{h(!1)}},G=async()=>{try{if(!b.email.trim())return;const $=await(await fetch(`${y}/api/auth/verification-status/${b.email.toLowerCase()}`)).json();$.success&&$.data.isEmailVerified&&(u("Email verified successfully! You can now login."),E("complete"))}catch(v){console.error("Error checking verification status:",v)}},K=async v=>{v.preventDefault(),i(""),u(""),h(!0);try{if(!b.email.trim()||!b.password.trim()){i("Please enter both email and password to login."),h(!1);return}const $={email:b.email,password:b.password,userType:b.userType||"provider"};console.log(" Attempting login:",$);const w=await p("login",$);w.success&&(u(`Login successful! Welcome back, ${w.data.user.name}!`),w.data.token&&localStorage.setItem("authToken",w.data.token),localStorage.setItem("userData",JSON.stringify(w.data.user)),setTimeout(()=>{w.data.user.userType==="provider"||w.data.user.userType==="both"?t("/provider/dashboard"):t("/customer")},1e3))}catch($){console.error(" Login error:",$),i($.message||"Something went wrong. Please try again.")}finally{h(!1)}},X=()=>{var v;return((v=f[b.country])==null?void 0:v.code)||"+234"},_=()=>{F(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50 flex items-center justify-center p-4",children:[k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ne,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Verified Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your email has been verified. You can now login to your account."}),e.jsx("button",{onClick:_,className:"w-full bg-green-600 text-white py-3 px-4 rounded-xl hover:bg-green-700 transition-colors font-semibold",children:"Continue to Login"})]})})}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width=%2220%22%20height=%2220%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cdefs%3E%3Cpattern%20id=%22grid%22%20width=%2220%22%20height=%2220%22%20patternUnits=%22userSpaceOnUse%22%3E%3Cpath%20d=%22M%2020%200%20L%200%200%200%2020%22%20fill=%22none%22%20stroke=%22%23e5e7eb%22%20stroke-width=%221%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect%20width=%22100%25%22%20height=%22100%25%22%20fill=%22url(%23grid)%22/%3E%3C/svg%3E')] opacity-30"}),e.jsxs("div",{className:"relative w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-3 animate-fade-in-up",children:[e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center align-center hover:scale-110 transition-transform duration-300",children:e.jsx("img",{src:ga,alt:"HomeHeroes Logo",className:"w-[50px] h-[50px]  object-contain"})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 leading-tight",children:["Welcome to Your",e.jsx("span",{className:"block",children:"Home Services Hub"})]}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Connect with trusted service providers today"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 bg-white/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300",children:[e.jsx(Le,{className:"w-8 h-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Verified Providers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"All professionals are background-checked"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 bg-white/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300",children:[e.jsx(Te,{className:"w-8 h-8 text-yellow-500 fill-current"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"5-Star Reviews"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trusted by 10,000+ homeowners"})]})]})]})]}),e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl border border-gray-200 p-8 animate-fade-in-up",children:[e.jsx("div",{className:"lg:hidden flex items-center justify-center space-x-3 mb-8",children:e.jsx("div",{className:"  flex items-center justify-center hover:scale-110 transition-transform duration-300",children:e.jsx("img",{src:ga,alt:"HomeHeroes Logo",className:"w-[40px] h-[40px] object-contain"})})}),!r&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${x==="signup"?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:"1"}),e.jsx("div",{className:"w-12 h-1 bg-gray-300"}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${x==="verify"||x==="complete"?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:"2"})]})}),e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-8",children:[e.jsx("button",{onClick:()=>{n(!0),E("signup"),i(""),u("")},className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 ${r?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),e.jsx("button",{onClick:()=>{n(!1),E("signup"),i(""),u("")},className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 ${r?"text-gray-600 hover:text-gray-900":"bg-white text-green-600 shadow-sm"}`,children:"Sign Up"})]}),e.jsxs("form",{onSubmit:r?K:x==="signup"?C:v=>v.preventDefault(),className:"space-y-6",children:[!r&&x==="signup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your full name",required:!0,minLength:2})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"password",value:b.password,onChange:T,className:"w-full pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your password (min. 6 characters)",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors",children:a?e.jsx(xa,{className:"w-5 h-5"}):e.jsx(rt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:b.confirmPassword,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Confirm your password",required:!0,minLength:6})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qc,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("select",{name:"country",value:b.country,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400 appearance-none bg-white",required:!0,children:e.jsx("option",{value:"NIGERIA",children:" Nigeria"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex items-center px-3 border border-r-0 border-gray-300 rounded-l-xl bg-gray-50",children:e.jsx("span",{className:"text-gray-600 text-sm",children:X()})}),e.jsx("input",{type:"tel",name:"phoneNumber",value:b.phoneNumber,onChange:T,className:"flex-1 pl-3 pr-4 py-3 border border-gray-300 rounded-r-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:`Enter your phone number (${((Z=f[b.country])==null?void 0:Z.length)||10} digits)`,required:!0,maxLength:((q=f[b.country])==null?void 0:q.length)||10})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I want to..."}),e.jsxs("select",{name:"userType",value:b.userType,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",children:[e.jsx("option",{value:"provider",children:"Provide Services (Provider)"}),e.jsx("option",{value:"customer",children:"Find Services (Customer)"}),e.jsx("option",{value:"both",children:"Both (Customer & Provider)"})]})]})]}),!r&&x==="complete"&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ne,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email!"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a verification link to"," ",e.jsx("strong",{children:b.email}),". Click the link in the email to verify your account."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:R,disabled:d,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:d?"Sending...":"Resend Verification Email"}),e.jsx("button",{type:"button",onClick:G,className:"w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"I've Verified My Email"}),e.jsx("button",{type:"button",onClick:()=>{n(!0),E("signup"),u("")},className:"w-full text-green-600 hover:text-green-700 font-medium",children:"Back to Login"})]})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"password",value:b.password,onChange:T,className:"w-full pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors",children:a?e.jsx(xa,{className:"w-5 h-5"}):e.jsx(rt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login as"}),e.jsxs("select",{name:"userType",value:b.userType,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",children:[e.jsx("option",{value:"provider",children:"Service Provider"}),e.jsx("option",{value:"customer",children:"Customer"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-green-600 hover:text-green-700 font-medium hover:underline",children:"Forgot password?"})]})]}),g&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-xl text-sm animate-fade-in-up",children:g}),o&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm animate-fade-in-up",children:o}),!r&&x==="signup"&&e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-green-600 to-green-600 text-white py-3 px-6 rounded-xl hover:from-green-700 hover:to-green-700 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),r&&e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-green-600 to-green-600 text-white py-3 px-6 rounded-xl hover:from-green-700 hover:to-green-700 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),x==="signup"&&e.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",e.jsx("button",{type:"button",onClick:()=>{n(!r),i(""),u(""),E("signup")},className:"text-green-600 hover:text-gree-700 font-medium hover:underline",children:r?"Sign up here":"Sign in here"})]})]})})]}),e.jsx("style",{children:`
          @keyframes fade-in-up {
            from {
              opacity: 0;
              transform: translateY(30px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          
          @keyframes scale-in {
            from {
              opacity: 0;
              transform: scale(0.9);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          
          .animate-fade-in-up {
            animation: fade-in-up 0.6s ease-out forwards;
          }
          
          .animate-scale-in {
            animation: scale-in 0.3s ease-out forwards;
          }
        `})]})},Kf=()=>{const[t]=Yc(),s=Ut(),[r,n]=c.useState("loading"),[a,l]=c.useState(""),o="https://backendhomeheroes.onrender.com";return c.useEffect(()=>{(async()=>{const d=t.get("token");if(!d){n("error"),l("No verification token provided.");return}try{const g=await(await fetch(`${o}/api/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:d})})).json();if(g.success){n("success"),l(g.message||"Email verified successfully!"),g.data.token&&(localStorage.setItem("authToken",g.data.token),localStorage.setItem("userData",JSON.stringify(g.data.user)));const u=g.data.redirectTo||"/customer";setTimeout(()=>{s(u)},3e3)}else n("error"),l(g.message||"Verification failed.")}catch(h){n("error"),l("Network error. Please try again."),console.error("Verification error:",h)}})()},[t,s,o]),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"text-center",children:[r==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(Xt,{className:"w-12 h-12 text-blue-500 animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying your email..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address."})]}),r==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email Verified!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to your dashboard..."})]}),r==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Go to Login"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Try Again"})]})]})]})})})},Qf=({profileData:t,onProfileUpdate:s=()=>{}})=>{const[r,n]=c.useState(!1),[a,l]=c.useState({name:"",email:"",phone:"",address:"",bio:"",avatar:"",role:"customer",city:"",state:"",country:""}),[o,i]=c.useState({name:"",email:"",phone:"",address:"",bio:"",avatar:"",role:"customer",city:"",state:"",country:""}),[d,h]=c.useState("profile"),[g,u]=c.useState(!0),[x,E]=c.useState(!1),[k,F]=c.useState({emailNotifications:!0,smsNotifications:!1,bookingReminders:!0,marketingEmails:!1,providerMessages:!0,searchRadius:"10",contactMethod:"message"}),[b,j]=c.useState({twoFactorEnabled:!1,loginAlerts:!0}),[y,f]=c.useState([]),[T,S]=c.useState(!1),p="https://backendhomeheroes.onrender.com";c.useEffect(()=>{t?(l(t),i(t),u(!1)):(async()=>{try{u(!0);const P=localStorage.getItem("authToken");if(!P){console.error("No authentication token found"),u(!1);return}const B=[`${p}/api/auth/profile`,`${p}/api/user/profile`,`${p}/api/users/profile`];let U=null;for(const D of B)try{let M=await fetch(D,{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(M.ok||(M=await fetch(D,{method:"GET",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}})),M.ok){U=await M.json();break}}catch(M){console.log(`Failed to fetch from ${D}:`,M);continue}if(U&&U.success){const D=U.data.user||U.data;console.log("Fetched user data:",D);let M="";D.profileImage?M=D.profileImage.startsWith("http")?D.profileImage:`${p}${D.profileImage}`:D.avatar?M=D.avatar.startsWith("http")?D.avatar:`${p}${D.avatar}`:D.profilePicture&&(M=D.profilePicture.startsWith("http")?D.profilePicture:`${p}${D.profilePicture}`);const J={name:D.name||"",email:D.email||"",phone:D.phone||D.phoneNumber||"",address:D.address||"",bio:D.bio||"",avatar:M,role:D.role||D.userType||"customer",city:D.city||"",state:D.state||"",country:D.country||""};l(J),i(J)}else console.error("Failed to fetch profile data from all endpoints")}catch(P){console.error("Error fetching profile data:",P)}finally{u(!1)}})()},[p,t]),c.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("authToken");if(!P)return;const B=await fetch(`${p}/api/auth/preferences`,{method:"GET",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(B.ok){const U=await B.json();U.success&&F(U.data.preferences)}}catch(P){console.error("Error fetching preferences:",P)}})()},[p]),c.useEffect(()=>{(async()=>{try{S(!0);const P=localStorage.getItem("authToken");if(!P)return;const B=await fetch(`${p}/api/auth/activity?limit=5`,{method:"GET",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(B.ok){const U=await B.json();U.success&&f(U.data.activities)}}catch(P){console.error("Error fetching activities:",P)}finally{S(!1)}})()},[p]);const C=async()=>{try{E(!0);const m=localStorage.getItem("authToken");if(!m){console.error("No authentication token found");return}const P={name:o.name,phone:o.phone,address:o.address,bio:o.bio,city:o.city,state:o.state,country:o.country},B=await fetch(`${p}/api/auth/profile`,{method:"PUT",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"},body:JSON.stringify(P)});if(B.ok){const U=await B.json();if(U.success){const D=U.data.user,M={...o,avatar:D.avatar||o.avatar};l(M),i(M),s(M),n(!1),alert("Profile updated successfully!")}}else{const U=await B.json();console.error("Failed to update profile:",U),alert(U.message||"Failed to update profile. Please try again.")}}catch(m){console.error("Error updating profile:",m),alert("Error updating profile. Please try again.")}finally{E(!1)}},R=()=>{i(a),n(!1)},G=(m,P)=>{i(B=>({...B,[m]:P}))},K=async m=>{var B;const P=(B=m.target.files)==null?void 0:B[0];if(P)try{E(!0);const U=localStorage.getItem("authToken");if(!U){console.error("No authentication token found");return}if(!P.type.startsWith("image/")){alert("Please select a valid image file (JPEG, PNG, etc.)");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}const D=new FormData;D.append("profileImage",P);const M=await fetch(`${p}/api/auth/profile/image`,{method:"POST",headers:{Authorization:`Bearer ${U}`},body:D});if(M.ok){const J=await M.json();if(J.success){let z="";J.data.imageUrl?z=J.data.imageUrl.startsWith("http")?J.data.imageUrl:`${p}${J.data.imageUrl}`:J.data.profileImage&&(z=J.data.profileImage.startsWith("http")?J.data.profileImage:`${p}${J.data.profileImage}`),i(L=>({...L,avatar:z})),l(L=>({...L,avatar:z})),s({...a,avatar:z}),alert("Profile picture updated successfully!")}}else{const J=await M.json();console.error("Failed to upload profile image:",J),alert(J.message||"Failed to upload profile image. Please try again.")}}catch(U){console.error("Error uploading profile image:",U),alert("Error uploading profile image. Please try again.")}finally{E(!1),m.target.value=""}},X=async()=>{const m=prompt("Enter your current password:");if(!m)return;const P=prompt("Enter your new password:");if(!P)return;const B=prompt("Confirm your new password:");if(B){if(P!==B){alert("New passwords do not match");return}if(P.length<6){alert("Password must be at least 6 characters long");return}try{const U=localStorage.getItem("authToken"),D=await fetch(`${p}/api/auth/change-password`,{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:m,newPassword:P})}),M=await D.json();D.ok&&M.success?alert("Password changed successfully"):alert(M.message||"Failed to change password")}catch(U){console.error("Error changing password:",U),alert("Error changing password. Please try again.")}}},_=async()=>{try{const m=localStorage.getItem("authToken");j(P=>({...P,twoFactorEnabled:!P.twoFactorEnabled})),alert("Two-factor authentication "+(b.twoFactorEnabled?"disabled":"enabled"))}catch(m){console.error("Error toggling 2FA:",m)}},Z=async()=>{try{j(P=>({...P,loginAlerts:!P.loginAlerts}));const m=localStorage.getItem("authToken")}catch(m){console.error("Error toggling login alerts:",m)}},q=async(m,P)=>{try{const B={...k,[m]:P};F(B);const U=localStorage.getItem("authToken"),D=await fetch(`${p}/api/auth/preferences`,{method:"PUT",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({preferences:B})});D.ok?(await D.json()).success&&console.log("Preferences saved successfully"):(console.error("Failed to save preferences"),F(k))}catch(B){console.error("Error saving preference:",B),F(k)}},v=[{id:"profile",label:"Profile",icon:st},{id:"security",label:"Security",icon:Le},{id:"preferences",label:"Preferences",icon:bt},{id:"activity",label:"Activity",icon:Me}];if(g)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"animate-pulse bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})})})});const $=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[e.jsxs("div",{className:"relative mx-auto sm:mx-0 flex-shrink-0",children:[e.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 lg:w-32 lg:h-32 rounded-full overflow-hidden bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:a.avatar?e.jsx("img",{src:a.avatar,alt:"Profile",className:"w-full h-full object-cover",onError:m=>{console.error("Failed to load profile image:",a.avatar);const P=m.target;P.style.display="none"}}):e.jsx(st,{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 text-white"})}),r&&e.jsxs("label",{className:"absolute bottom-1 right-1 sm:bottom-2 sm:right-2 bg-blue-600 text-white p-1.5 sm:p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx(Kc,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("input",{type:"file",accept:"image/*",onChange:K,className:"hidden",disabled:x})]})]}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:a.name||"User"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-3",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 sm:px-3 sm:py-1.5 rounded-full text-xs sm:text-sm font-medium bg-green-100 text-green-800",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full mr-1.5 sm:mr-2"}),"Verified ",a.role]}),e.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(m=>e.jsx(Te,{className:"w-3 h-3 sm:w-4 sm:h-4 fill-yellow-400 text-yellow-400"},m)),e.jsx("span",{className:"ml-1 text-xs sm:text-sm text-gray-600",children:"(4.8)"})]})]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 sm:mt-3 line-clamp-2 sm:line-clamp-none",children:a.bio||"No bio provided"})]})]}),!r&&e.jsxs("button",{onClick:()=>n(!0),className:"w-full sm:w-auto sm:self-start flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[e.jsx(ja,{className:"w-4 h-4"}),"Edit Profile"]}),r&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:C,disabled:x,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-400 transition-colors text-sm sm:text-base",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(no,{className:"w-4 h-4"}),"Save Changes"]})}),e.jsxs("button",{onClick:R,disabled:x,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400 transition-colors text-sm sm:text-base",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Cancel"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ut,{className:"w-4 h-4 flex-shrink-0"}),"Email Address"]}),r?e.jsx("input",{type:"email",value:o.email,onChange:m=>G("email",m.target.value),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x}):e.jsx("p",{className:"text-sm sm:text-base text-gray-900 break-words",children:a.email||"No email provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ot,{className:"w-4 h-4 flex-shrink-0"}),"Phone Number"]}),r?e.jsx("input",{type:"tel",value:o.phone,onChange:m=>G("phone",m.target.value),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x}):e.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:a.phone||"No phone number provided"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(We,{className:"w-4 h-4 flex-shrink-0"}),"Address"]}),r?e.jsx("textarea",{value:o.address,onChange:m=>G("address",m.target.value),rows:3,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:x}):e.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:a.address||"No address provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Bio"}),r?e.jsx("textarea",{value:o.bio,onChange:m=>G("bio",m.target.value),rows:3,placeholder:"Tell us about yourself...",className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:x}):e.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:a.bio||"No bio provided"})]})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"City"}),e.jsx("input",{type:"text",value:o.city||"",onChange:m=>G("city",m.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,placeholder:"Enter city"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"State"}),e.jsx("input",{type:"text",value:o.state||"",onChange:m=>G("state",m.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,placeholder:"Enter state"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Country"}),e.jsx("input",{type:"text",value:o.country||"",onChange:m=>G("country",m.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x,placeholder:"Enter country"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:e.jsx(Me,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-blue-600"})}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"24"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Bookings Made"})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:e.jsx(os,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-green-600"})}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"4.8"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Average Rating"})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:e.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-purple-600"})}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"8"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Favorite Providers"})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:e.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-orange-600"})}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"$2,450"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Spent"})]})]})]}),w=()=>e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Account Security"}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Password"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Last changed 3 months ago"})]}),e.jsx("button",{onClick:X,className:"w-full sm:w-auto text-blue-600 hover:text-blue-700 font-medium text-sm sm:text-base py-2 sm:py-0",children:"Change Password"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Add an extra layer of security"})]}),e.jsx(Uo,{enabled:b.twoFactorEnabled,onChange:_})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Login Alerts"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Get notified of new logins"})]}),e.jsx(Uo,{enabled:b.loginAlerts,onChange:Z})]})]})]})}),A=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"emailNotifications",label:"Email notifications",desc:"Receive updates via email"},{key:"smsNotifications",label:"SMS notifications",desc:"Get important alerts via SMS"},{key:"bookingReminders",label:"Booking reminders",desc:"Reminders for upcoming bookings"},{key:"marketingEmails",label:"Marketing emails",desc:"Promotional offers and news"},{key:"providerMessages",label:"Provider messages",desc:"New messages from providers"}].map(m=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:m.label}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:m.desc})]}),e.jsx(Uo,{enabled:k[m.key],onChange:P=>q(m.key,P)})]},m.key))})]}),e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Service Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Search Radius"}),e.jsxs("select",{value:k.searchRadius,onChange:m=>q("searchRadius",m.target.value),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"5",children:"5 miles"}),e.jsx("option",{value:"10",children:"10 miles"}),e.jsx("option",{value:"25",children:"25 miles"}),e.jsx("option",{value:"50",children:"50 miles"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Contact Method"}),e.jsxs("select",{value:k.contactMethod,onChange:m=>q("contactMethod",m.target.value),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"message",children:"Message first"}),e.jsx("option",{value:"phone",children:"Phone call"}),e.jsx("option",{value:"email",children:"Email"})]})]})]})]})]}),N=()=>e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Recent Activity"}),T?e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(m=>e.jsxs("div",{className:"animate-pulse flex items-center justify-between gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]},m))}):y.length>0?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:y.map(m=>e.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 mt-1.5 sm:mt-0 ${m.status==="completed"?"bg-green-500":m.status==="confirmed"||m.status==="delivered"?"bg-blue-500":"bg-gray-400"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:m.action}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:[m.type==="booking"&&`with ${m.provider}`,m.type==="service_request"&&`with ${m.provider}`,m.type==="message"&&`with ${m.provider}`]})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 flex-shrink-0",children:m.displayDate})]},m.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx(Me,{className:"w-12 h-12 mx-auto"})}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity found"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Your bookings, messages, and requests will appear here"})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200",children:e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx("nav",{className:"hidden sm:flex space-x-8 px-6","aria-label":"Tabs",children:v.map(m=>{const P=m.icon;return e.jsxs("button",{onClick:()=>h(m.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(P,{className:"w-4 h-4"}),m.label]},m.id)})}),e.jsx("nav",{className:"sm:hidden px-4 py-2","aria-label":"Tabs",children:e.jsx("select",{value:d,onChange:m=>h(m.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:v.map(m=>e.jsx("option",{value:m.id,children:m.label},m.id))})})]})}),d==="profile"&&$(),d==="security"&&w(),d==="preferences"&&A(),d==="activity"&&N()]})})},Uo=({enabled:t,onChange:s})=>e.jsx("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${t?"bg-blue-600":"bg-gray-200"}`,onClick:()=>s(!t),children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})}),Zf=({isMenuOpen:t,setIsMenuOpen:s,unreadMessagesCount:r=0,onLogout:n})=>{const a=Ut(),l=zt(),[o,i]=c.useState({name:"",email:"",phone:"",address:"",bio:"",avatar:null,role:"customer"}),[d,h]=c.useState(!0),[g,u]=c.useState(!1),[x,E]=c.useState(!1),[k,F]=c.useState(!1),[b,j]=c.useState([]),[y,f]=c.useState(0),T=c.useRef(!1),S=c.useRef(null),p=c.useRef(null),C="https://backendhomeheroes.onrender.com";c.useEffect(()=>{const N=m=>{S.current&&!S.current.contains(m.target)&&E(!1),p.current&&!p.current.contains(m.target)&&F(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),c.useEffect(()=>{(async()=>{if(!(T.current||g))try{T.current=!0,h(!0);const m=localStorage.getItem("authToken");if(!m){console.error("No authentication token found"),h(!1);return}const P=await fetch(`${C}/api/auth/profile`,{method:"POST",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});if(P.ok){const B=await P.json();B.success&&(i({name:B.data.user.name||"",email:B.data.user.email||"",phone:B.data.user.phone||"",address:B.data.user.address||"",bio:B.data.user.bio||"",avatar:B.data.user.profileImage?`${C}${B.data.user.profileImage}`:null,role:"customer"}),u(!0))}else console.error("Failed to fetch profile data")}catch(m){console.error("Error fetching profile data:",m)}finally{h(!1),T.current=!1}})()},[C]);const R=async()=>{try{const N=localStorage.getItem("authToken");if(!N)return;const m=await fetch(`${C}/api/notifications?limit=10`,{headers:{Authorization:`Bearer ${N}`}});if(m.ok){const P=await m.json();P.success&&j(P.data.notifications)}}catch(N){console.error("Fetch notifications error:",N)}},G=async()=>{try{const N=localStorage.getItem("authToken");if(!N)return;const m=await fetch(`${C}/api/notifications/unread-count`,{headers:{Authorization:`Bearer ${N}`}});if(m.ok){const P=await m.json();P.success&&f(P.data.count)}}catch(N){console.error("Fetch unread count error:",N)}},K=async N=>{try{const m=localStorage.getItem("authToken");if(!m)return;await fetch(`${C}/api/notifications/${N}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`}}),j(P=>P.map(B=>B._id===N?{...B,isRead:!0}:B)),f(P=>Math.max(0,P-1))}catch(m){console.error("Mark as read error:",m)}},X=async()=>{try{const N=localStorage.getItem("authToken");if(!N)return;await fetch(`${C}/api/notifications/mark-all-read`,{method:"PATCH",headers:{Authorization:`Bearer ${N}`}}),j(m=>m.map(P=>({...P,isRead:!0}))),f(0)}catch(N){console.error("Mark all as read error:",N)}},_=N=>{switch(N){case"message":return e.jsx(ns,{className:"w-4 h-4 text-green-500"});case"booking":return e.jsx(Me,{className:"w-4 h-4 text-green-500"});case"job_accepted":case"job_applied":return e.jsx(Tr,{className:"w-4 h-4 text-purple-500"});default:return e.jsx(Rs,{className:"w-4 h-4 text-gray-500"})}},Z=N=>{const m=new Date(N),U=(new Date().getTime()-m.getTime())/(1e3*60*60);return U<1?`${Math.floor(U*60)}m ago`:U<24?`${Math.floor(U)}h ago`:m.toLocaleDateString()},q=N=>{switch(K(N._id),N.type){case"message":a("/customer/messages");break;case"booking":a("/customer/bookings");break;case"job_accepted":case"job_applied":a("/customer/jobs");break}F(!1)};c.useEffect(()=>{R(),G();const N=setInterval(()=>{G(),k&&R()},3e4);return()=>clearInterval(N)},[k]),c.useEffect(()=>{if(g){const N=l.pathname.startsWith("/provider")?"provider":"customer";i(m=>({...m,role:N}))}},[l.pathname,g]);const v=[{id:"services",label:"Find Services",path:"/customer"},{id:"bookings",label:"My Bookings",path:"/customer/bookings"},{id:"jobs",label:"My Jobs",path:"/customer/jobs"},{id:"favorites",label:"Favorites",path:"/customer/favorites"},{id:"messages",label:"Messages",path:"/customer/messages"}],$=N=>{a(N),s(!1),E(!1)},w=N=>N==="/customer"?l.pathname==="/customer"||l.pathname==="/customer/":l.pathname===N,A=async()=>{try{await n(),s(!1),E(!1),a("/login")}catch(N){console.error("Logout failed:",N),a("/login")}};return d&&!g?e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-0",children:e.jsx(Je,{to:"/customer",className:"flex items-center space-x-2",children:e.jsx("img",{src:Bl,alt:"HomeHeroes Logo",className:"w-14 h-14 object-contain rounded-lg"})})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("div",{className:"animate-pulse bg-gray-200 rounded-full w-10 h-10"})})]})})}):e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-0",children:e.jsx(Je,{to:"/customer",className:"flex items-center space-x-2",children:e.jsx("img",{src:Bl,alt:"HomeHeroes Logo",className:"w-14 h-14 object-contain rounded-lg"})})}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:v.map(N=>e.jsxs("button",{onClick:()=>$(N.path),className:`text-sm font-medium transition-colors duration-200 relative focus:outline-none ${w(N.path)?"text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[N.label,N.id==="messages"&&r>0&&e.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:r>9?"9+":r})]},N.id))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none",onClick:()=>F(!k),children:[e.jsx(Rs,{className:"w-5 h-5"}),y>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center animate-pulse",children:y>9?"9+":y})]}),k&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),y>0&&e.jsx("button",{onClick:X,className:"text-sm text-green-600 hover:text-green-800",children:"Mark all as read"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:b.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(Rs,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No notifications"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:b.map(N=>e.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${N.isRead?"":"bg-green-50"}`,onClick:()=>q(N),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:_(N.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Z(N.createdAt)})]}),!N.isRead&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})})]})},N._id))})}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:()=>{a("/customer/notifications"),F(!1)},className:"block w-full text-center text-sm text-green-600 hover:text-green-800 font-medium",children:"View all notifications"})})]})]}),e.jsxs("button",{onClick:()=>$("/customer/messages"),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors md:hidden focus:outline-none",children:[e.jsx(Ds,{className:"w-5 h-5"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:r>9?"9+":r})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-3 relative",ref:S,children:[e.jsxs("button",{onClick:()=>E(!x),className:"flex items-center space-x-3 hover:bg-gray-100 rounded-lg p-2 transition-colors duration-200 focus:outline-none",children:[o.avatar?e.jsx("img",{src:o.avatar,alt:"Profile",className:"w-10 h-10 rounded-full object-cover ring-2 ring-gray-200"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx(st,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.name||"User"}),e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:o.role||"customer"})]}),e.jsx(Jn,{className:`w-4 h-4 text-gray-600 transition-transform ${x?"rotate-180":""}`})]}),x&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-50",children:[e.jsxs("button",{onClick:()=>$("/customer/profile"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors focus:outline-none",children:[e.jsx(st,{className:"w-4 h-4 mr-3"}),"Profile Settings"]}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors focus:outline-none",children:[e.jsx(fh,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]}),e.jsx("button",{onClick:()=>s(!t),className:"md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none",children:t?e.jsx(Ae,{className:"w-5 h-5"}):e.jsx(ro,{className:"w-5 h-5"})})]})]}),t&&e.jsxs("div",{className:"md:hidden py-4 space-y-2 border-t border-gray-200 animate-in slide-in-from-top-2 duration-200",children:[v.map(N=>e.jsxs("button",{onClick:()=>$(N.path),className:`flex items-center justify-between w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors focus:outline-none ${w(N.path)?"bg-green-50 text-green-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:N.label}),N.id==="messages"&&r>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:r>9?"9+":r})]},N.id)),e.jsx("button",{onClick:()=>{a("/customer/profile"),s(!1)},className:"block w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:bg-gray-50 focus:outline-none",children:"Profile"}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx("button",{onClick:A,className:"block w-full text-left px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors focus:outline-none",children:"Sign Out"})]})]}),k&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>F(!1)})]})},Xf=t=>new Promise((s,r)=>{if(window.google){s();return}const n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${t}&libraries=places`,n.async=!0,n.defer=!0,n.onload=()=>s(),n.onerror=()=>r(new Error("Failed to load Google Maps script")),document.head.appendChild(n)}),ey=({onLocationSelect:t,currentLocation:s,onCurrentLocationDetect:r,serviceType:n,onFindNow:a})=>{const[l,o]=c.useState(s),[i,d]=c.useState([]),[h,g]=c.useState(!1),[u,x]=c.useState(!1),[E,k]=c.useState(!1),[F,b]=c.useState(null),[j,y]=c.useState(!1),[f,T]=c.useState(!1),[S,p]=c.useState(!1),C=c.useRef(null),R=c.useRef(null),G=c.useRef(null),K=c.useRef(null),X=c.useRef(null),_="AIzaSyCzCXLK2_d7OT0rlw-L7TObYIS1LqDh2_Q";c.useEffect(()=>{(async()=>{if(!(f||S)){p(!0);try{await Xf(_),X.current=new window.google.maps.Map(document.createElement("div")),G.current=new window.google.maps.places.AutocompleteService,K.current=new window.google.maps.places.PlacesService(X.current),T(!0)}catch(U){console.error("Error loading Google Maps:",U)}finally{p(!1)}}})()},[f,S]),c.useEffect(()=>{o(s)},[s]);const Z=async B=>!G.current||!B.trim()?[]:new Promise(U=>{G.current.getPlacePredictions({input:B,componentRestrictions:{country:"ng"},types:["geocode","establishment"]},(D,M)=>{M===window.google.maps.places.PlacesServiceStatus.OK&&D?U(D):U([])})}),q=async B=>K.current?new Promise(U=>{K.current.getDetails({placeId:B,fields:["formatted_address","geometry","name"]},(D,M)=>{M===window.google.maps.places.PlacesServiceStatus.OK&&D?U(D):U(null)})}):null;c.useEffect(()=>{const U=setTimeout(async()=>{if(l.length>2&&f){g(!0);try{const D=await Z(l);d(D),x(!0)}catch(D){console.error("Error fetching place predictions:",D),d([])}finally{g(!1)}}else d([]),x(!1)},300);return()=>clearTimeout(U)},[l,f]);const v=async B=>{y(!0),o(B.description),x(!1);try{const U=await q(B.place_id);if(U){const D={address:U.formatted_address,coordinates:[U.geometry.location.lat(),U.geometry.location.lng()]};b(U),t(D)}}catch(U){console.error("Error getting place details:",U);const D={address:B.description,coordinates:[0,0]};t(D)}finally{y(!1)}},$=B=>{const U=B.target.value;o(U),F&&U!==F.formatted_address&&!j&&b(null)},w=()=>{l.length>2&&!F&&!j&&x(!0)},A=()=>{setTimeout(()=>{j||x(!1)},150)},N=()=>{y(!0),o(""),b(null),d([]),x(!1),g(!1),t({address:"",coordinates:[0,0]}),setTimeout(()=>{y(!1)},100)},m=async()=>{if(!("geolocation"in navigator)){alert("Geolocation is not supported by your browser.");return}try{k(!0);const B=await new Promise((M,J)=>{navigator.geolocation.getCurrentPosition(M,J,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),{latitude:U,longitude:D}=B.coords;if(window.google)new window.google.maps.Geocoder().geocode({location:{lat:U,lng:D}},(J,z)=>{if(z==="OK"&&J[0]){const L=J[0].formatted_address;o(L),t({address:L,coordinates:[U,D]}),r()}else{const L=`Near ${U.toFixed(4)}, ${D.toFixed(4)}`;o(L),t({address:L,coordinates:[U,D]}),r()}});else{const M=`Near ${U.toFixed(4)}, ${D.toFixed(4)}`;o(M),t({address:M,coordinates:[U,D]}),r()}}catch(B){console.error("Error getting current location:",B),alert("Unable to detect your location. Please enter your address manually.")}finally{k(!1)}},P=B=>B.includes("locality")||B.includes("administrative_area_level_1")?"":B.includes("establishment")?"":B.includes("route")||B.includes("street_address")?"":"";return c.useEffect(()=>{const B=U=>{R.current&&!R.current.contains(U.target)&&C.current&&!C.current.contains(U.target)&&(j||x(!1))};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[j]),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),S&&e.jsx("div",{className:"absolute left-12 top-3.5",children:e.jsx(Mt,{className:"w-4 h-4 text-gray-400 animate-spin"})}),e.jsx("input",{ref:C,type:"text",placeholder:S?"Loading maps...":"Enter your location...",value:l,onChange:$,onFocus:w,onBlur:A,disabled:S,className:"w-full pl-14 sm:pl-16 pr-14 sm:pr-16 py-4 sm:py-5 bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-yellow-300 focus:outline-none focus:bg-white transition-all duration-200 border border-white/20 shadow-lg text-base sm:text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed"}),l&&e.jsx("button",{onClick:N,className:"absolute right-12 top-3.5 p-1 text-gray-400 hover:text-red-600 transition-colors",disabled:j,children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx("button",{onClick:m,disabled:E||S,className:"absolute right-3 top-3.5 p-1 text-gray-400 hover:text-blue-600 transition-colors disabled:opacity-50",title:"Use current location",children:E?e.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Tf,{className:"w-5 h-5"})})]}),u&&i.length>0&&e.jsx("div",{ref:R,className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-64 overflow-y-auto z-50",children:i.map(B=>e.jsx("button",{onClick:()=>v(B),className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-lg mt-0.5 flex-shrink-0",children:P(B.types)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:B.structured_formatting.main_text}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:B.structured_formatting.secondary_text})]})]})},B.place_id))}),h&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-50",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-500",children:[e.jsx(Mt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Searching locations..."})]})})]})},ty="https://backendhomeheroes.onrender.com",sy=["houseCleaning","plumbing","electrical","gardenCare","handyman","painting","acRepair","generatorRepair","carpentry","tiling","masonry","welding","pestControl","autoMechanic","panelBeater","autoElectrician","vulcanizer","carWash","hairStylist","makeupArtist","nailTechnician","massageTherapist","tailor","nanny","cook","laundry","gardener","securityGuard","cctvInstaller","solarTechnician","inverterTechnician","itSupport","interiorDesigner","tvRepair","barber","photographer","eventPlanner"],Nm=t=>t.replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase()).trim(),ry=({serviceType:t,setServiceType:s,searchQuery:r,setSearchQuery:n,onLocationChange:a,currentLocation:l,onSearch:o,viewMode:i,onViewModeChange:d,searchRadius:h,onSearchRadiusChange:g,onPostJob:u})=>{const[x,E]=c.useState(!1),[k,F]=c.useState(""),[b,j]=c.useState(""),[y,f]=c.useState(!1),[T,S]=c.useState([]),[p,C]=c.useState(!1),R=c.useRef(null),G=c.useRef(null);c.useState("");const K=c.useRef(),X=c.useRef(r),_=c.useRef(l),Z=c.useRef(t);c.useEffect(()=>{X.current=r},[r]),c.useEffect(()=>{_.current=l},[l]),c.useEffect(()=>{Z.current=t},[t]);const q=m=>{if(!m.trim())return[];const P=m.toLowerCase();return sy.filter(U=>U.toLowerCase().includes(P)||Nm(U).toLowerCase().includes(P)).map(U=>Nm(U))};c.useEffect(()=>{const P=setTimeout(async()=>{var B;if(r.length>0)try{const U=q(r);if(U.length>0){S(U),C(!0);return}const D=await fetch(`${ty}/api/services?q=${encodeURIComponent(r)}`);if(D.ok){const J=((B=(await D.json()).data)==null?void 0:B.services)||[];S(J),C(!0)}else S([]),C(!1)}catch(U){console.error("Error fetching service suggestions:",U);const D=q(r);S(D),C(D.length>0)}else S([]),C(!1)},150);return()=>clearTimeout(P)},[r]);const v=c.useCallback(()=>{C(!1),K.current&&clearTimeout(K.current),o(X.current,_.current,Z.current),setTimeout(()=>{const m=document.getElementById("providers-section");m&&m.scrollIntoView({behavior:"smooth",block:"start"})},100)},[o]),$=m=>{m.key==="Enter"&&(m.preventDefault(),v())},w=m=>{const P=m.target.value;n(P),P.length>0?C(!0):C(!1)},A=c.useCallback(m=>{n(m),C(!1)},[n]),N=c.useCallback(m=>{a(m)},[a]);return c.useEffect(()=>{const m=P=>{G.current&&!G.current.contains(P.target)&&C(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),c.useEffect(()=>()=>{K.current&&clearTimeout(K.current)},[]),e.jsx("div",{className:"bg-gradient-to-br from-slate-50 via-green-50 to-green-100",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 sm:py-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-green-600 to-green-700 rounded-2xl sm:rounded-3xl p-6 sm:p-8 lg:p-12 text-white relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-[1px]"}),e.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 sm:w-32 sm:h-32 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute -bottom-12 -left-12 w-32 h-32 sm:w-40 sm:h-40 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-16 h-16 bg-yellow-400/20 rounded-full blur-xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-white/20 to-white/10 rounded-2xl sm:rounded-3xl flex items-center justify-center backdrop-blur-sm border border-white/20",children:e.jsx(Ct,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-300"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Find Trusted Professionals"})]}),e.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-blue-100 max-w-2xl mx-auto leading-relaxed",children:"Connect with verified local service providers for all your home needs. From immediate repairs to long-term projects."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex bg-white/20 backdrop-blur-sm rounded-xl sm:rounded-2xl p-1 border border-white/20 shadow-lg w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>s("immediate"),className:`flex items-center space-x-2 sm:space-x-3 px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl text-sm sm:text-base font-semibold transition-all duration-300 flex-1 sm:flex-initial ${t==="immediate"?"bg-white text-green-600 shadow-lg transform scale-105":"text-white hover:bg-white/20"}`,children:[e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-lg flex items-center justify-center ${t==="immediate"?"bg-green-600 text-white":"bg-white/20"}`,children:e.jsx(dt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("span",{children:"Need Help Now"})]}),e.jsxs("button",{onClick:()=>s("long-term"),className:`flex items-center space-x-2 sm:space-x-3 px-4 sm:px-6 py-3 sm:py-4 rounded-lg sm:rounded-xl text-sm sm:text-base font-semibold transition-all duration-300 flex-1 sm:flex-initial ${t==="long-term"?"bg-white text-green-600 shadow-lg transform scale-105":"text-white hover:bg-white/20"}`,children:[e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-lg flex items-center justify-center ${t==="long-term"?"bg-green-600 text-white":"bg-white/20"}`,children:e.jsx(wa,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("span",{children:"Plan Project"})]})]}),e.jsxs("div",{className:"flex bg-white/20 backdrop-blur-sm rounded-xl sm:rounded-2xl p-1 border border-white/20 shadow-lg w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>d("list"),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl text-sm font-medium transition-all duration-300 flex-1 sm:flex-initial ${i==="list"?"bg-white text-green-600 shadow-md":"text-white hover:bg-white/20"}`,children:[e.jsx(ph,{className:"w-4 h-4"}),e.jsx("span",{children:"List"})]}),e.jsxs("button",{onClick:()=>d("map"),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl text-sm font-medium transition-all duration-300 flex-1 sm:flex-initial ${i==="map"?"bg-white text-blue-600 shadow-md":"text-white hover:bg-white/20"}`,children:[e.jsx(Cf,{className:"w-4 h-4"}),e.jsx("span",{children:"Map"})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 relative",ref:G,children:[e.jsx("div",{className:"absolute left-4 sm:left-6 top-4 sm:top-5 w-5 h-5 sm:w-6 sm:h-6 text-gray-400 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Dt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("input",{ref:R,type:"text",placeholder:t==="immediate"?"What do you need help with right now?":"Describe your project...",value:r,onChange:w,onKeyPress:$,onFocus:()=>r.length>0&&C(!0),className:"w-full pl-14 sm:pl-16 pr-4 sm:pr-6 py-4 sm:py-5 bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-yellow-300 focus:outline-none focus:bg-white transition-all duration-200 border border-white/20 shadow-lg text-base sm:text-lg font-medium"}),p&&T.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-64 overflow-y-auto z-40",children:T.map((m,P)=>e.jsxs("button",{onClick:()=>A(m),className:"w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0 flex items-center space-x-3",children:[e.jsx(Dt,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:m})]},P))}),p&&T.length===0&&r.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 z-40 p-4",children:e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:['No services found for "',r,'"']})})]}),e.jsx("div",{className:"w-full lg:w-80",children:e.jsx(ey,{onLocationSelect:N,currentLocation:l,onCurrentLocationDetect:()=>f(!0)})}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>E(!x),className:`bg-white/20 backdrop-blur-sm text-white px-4 sm:px-6 py-4 sm:py-5 rounded-xl sm:rounded-2xl hover:bg-white/30 transition-all duration-200 border border-white/20 flex items-center justify-center space-x-2 shadow-lg font-medium ${x?"bg-white/30":""}`,children:[e.jsx(so,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Filters"})]}),t==="immediate"?e.jsx("button",{onClick:v,className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white px-6 sm:px-10 py-4 sm:py-5 rounded-xl sm:rounded-2xl font-bold transition-all duration-200 hover:shadow-xl hover:scale-105 whitespace-nowrap text-base sm:text-lg shadow-lg",children:"Find Now"}):u&&e.jsx("button",{onClick:u,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 sm:px-10 py-4 sm:py-5 rounded-xl sm:rounded-2xl font-bold transition-all duration-200 hover:shadow-xl hover:scale-105 whitespace-nowrap text-base sm:text-lg shadow-lg",children:"Post Project"})]})]}),x&&e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-white/20 animate-in slide-in-from-top-2 duration-200 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/90 mb-3",children:"Search Radius"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:h,onChange:m=>g(Number(m.target.value)),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl text-white border border-white/30 focus:ring-2 focus:ring-white/50 focus:outline-none appearance-none font-medium",children:[e.jsx("option",{value:5,className:"text-gray-900",children:"5 miles"}),e.jsx("option",{value:10,className:"text-gray-900",children:"10 miles"}),e.jsx("option",{value:25,className:"text-gray-900",children:"25 miles"}),e.jsx("option",{value:50,className:"text-gray-900",children:"50 miles"})]}),e.jsx(Jn,{className:"absolute right-3 top-3.5 w-4 h-4 text-white/70 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/90 mb-3",children:"Price Range"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:k,onChange:m=>F(m.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl text-white border border-white/30 focus:ring-2 focus:ring-white/50 focus:outline-none appearance-none font-medium",children:[e.jsx("option",{value:"",className:"text-gray-900",children:"Any budget"}),e.jsx("option",{value:"low",className:"text-gray-900",children:"5000"}),e.jsx("option",{value:"medium",className:"text-gray-900",children:"10000"}),e.jsx("option",{value:"high",className:"text-gray-900",children:"15000"})]}),e.jsx(Jn,{className:"absolute right-3 top-3.5 w-4 h-4 text-white/70 pointer-events-none"})]})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-sm font-bold text-white/90 mb-3",children:"When do you need it?"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:b,onChange:m=>j(m.target.value),className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl text-white border border-white/30 focus:ring-2 focus:ring-white/50 focus:outline-none appearance-none font-medium",children:[e.jsx("option",{value:"",className:"text-gray-900",children:"Any time"}),e.jsx("option",{value:"now",className:"text-gray-900",children:"Right now"}),e.jsx("option",{value:"today",className:"text-gray-900",children:"Today"}),e.jsx("option",{value:"week",className:"text-gray-900",children:"This week"}),e.jsx("option",{value:"flexible",className:"text-gray-900",children:"I'm flexible"})]}),e.jsx(Jn,{className:"absolute right-3 top-3.5 w-4 h-4 text-white/70 pointer-events-none"})]})]})]})})]}),t==="immediate"&&e.jsxs("div",{className:"mt-6 sm:mt-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-sm sm:text-base text-blue-100",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx(Pe,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsxs("span",{children:["Showing available providers within ",h," miles"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-white/90",children:[e.jsx(Te,{className:"w-4 h-4 text-yellow-300 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:"4.9+ Rating"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-white/90",children:[e.jsx(Ie,{className:"w-4 h-4 text-green-300"}),e.jsx("span",{className:"text-sm font-medium",children:"Fast Response"})]})]})]})]})]})})})},ny=({service:t,serviceType:s,onClick:r})=>{const n=s==="immediate",a=n?Math.floor(t.providers*.3):t.providers;return e.jsxs("div",{onClick:()=>r(t),className:"group bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer overflow-hidden",children:[e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-lg transition-all duration-300 group-hover:scale-110 shrink-0",children:e.jsx("span",{className:"text-2xl sm:text-3xl group-hover:scale-110 transition-transform duration-200",children:t.icon})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors leading-tight",children:t.name}),n&&a>0&&e.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-emerald-500 to-green-600 text-white px-2 py-1 rounded-lg text-xs font-semibold shadow-sm shrink-0",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"hidden sm:inline",children:"Available"}),e.jsx("span",{className:"sm:hidden",children:"Now"})]})]})})]}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-emerald-400 to-green-600 rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg sm:text-xl font-bold text-emerald-600",children:t.averagePrice}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 -mt-1",children:"avg price"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-blue-600 mb-1",children:[e.jsx(zs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-sm sm:text-base font-bold",children:a})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:n?"available now":"providers"})]})]}),e.jsx("div",{className:"flex items-center justify-center pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-lg flex items-center justify-center",children:n?e.jsx(dt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-white"}):e.jsx(Me,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-white"})}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:n?"Quick Response":"Plan Project"})]})})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-2xl sm:rounded-3xl"})]})},jh=({isOpen:t,onClose:s,onSubmit:r,userCountry:n="Nigeria"})=>{const[a,l]=c.useState({serviceType:"",description:"",category:"",budget:"",timeframe:"",location:"",urgency:"normal",skillsRequired:[],estimatedDuration:"",preferredSchedule:""}),[o,i]=c.useState(""),[d,h]=c.useState(!1),[g,u]=c.useState(!1),x=["House Cleaning","Plumbing","Electrical","Barber","Hair Stylist","Garden Care","Handyman","Babysitting","Painting","HVAC","Carpentry","Moving","Other"],E=["ASAP","Within 1 week","Within 2 weeks","Within 1 month","Flexible"],k=["Less than 1 hour","1-2 hours","2-4 hours","4-8 hours","1-2 days","2+ days","To be determined"],F=["Weekdays","Weekends","Mornings","Afternoons","Evenings","Flexible","To be discussed"],b=["Cleaning","Repair","Installation","Maintenance","Assembly","Painting","Electrical","Plumbing","Carpentry","Gardening","Childcare","Moving"],j=()=>{o.trim()&&!a.skillsRequired.includes(o.trim())&&(l(p=>({...p,skillsRequired:[...p.skillsRequired,o.trim()]})),i(""))},y=p=>{l(C=>({...C,skillsRequired:C.skillsRequired.filter(R=>R!==p)}))},f=p=>{p.key==="Enter"&&(p.preventDefault(),j())},T=async p=>{if(p.preventDefault(),u(!0),!a.serviceType||!a.description||!a.location){alert("Please fill in all required fields"),u(!1);return}try{const G=await(await fetch("https://backendhomeheroes.onrender.com/api/jobs/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(a)})).json();if(!G.success)throw new Error(G.message||"Failed to create job posting");console.log(" Job created:",G.data),(a.budget&&parseInt(a.budget.replace(/[^\d]/g,""))||0)>0?(h(!0),r(a)):(r(a),s())}catch(C){console.error(" Job creation error:",C);const R=C instanceof Error?C.message:"Failed to create job posting. Please try again.";alert(R)}finally{u(!1)}},S=()=>{l({serviceType:"",description:"",category:"",budget:"",timeframe:"",location:"",urgency:"normal",skillsRequired:[],estimatedDuration:"",preferredSchedule:""}),h(!1),s()};if(!t)return null;if(d){const p=a.budget&&parseInt(a.budget.replace(/[^\d]/g,""))||0,C=n.toLowerCase().includes("nigeria"),R=n.toLowerCase().includes("uk")||n.toLowerCase().includes("united kingdom"),G=C?"":R?"":"$";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Secure Your Job"}),e.jsx("button",{onClick:S,className:"text-gray-600 hover:text-gray-900 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ae,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Payment Protection"}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Your payment is held securely in escrow. You'll get a full refund if no suitable provider is found."})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Job Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service:"}),e.jsx("span",{className:"font-medium",children:a.serviceType})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsx("span",{className:"font-medium",children:a.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Budget:"}),e.jsx("span",{className:"font-medium",children:a.budget})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"font-medium",children:a.location})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Payment Method"}),e.jsxs("div",{className:"space-y-3",children:[C&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ks,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Paystack"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment for Nigeria"})]})]}),R&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ks,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Stripe"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment for UK"})]})]}),!C&&!R&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(ks,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Secure Payment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Payment processed securely"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Refund Guarantee"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Full refund if no provider accepts your job"}),e.jsx("li",{children:" Full refund if you don't accept any proposals"}),e.jsx("li",{children:" Payment released only after you approve completed work"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:S,className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsxs("button",{onClick:()=>{r(a),s()},className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white py-3 rounded-lg hover:shadow-lg transition-all duration-200 font-medium",children:["Pay ",G,p.toLocaleString()]})]})]})]})})}return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Post a Job"}),e.jsx("button",{onClick:S,className:"text-gray-600 hover:text-gray-900 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ae,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Describe your job and get responses from qualified service providers"})]}),e.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type *"}),e.jsx("input",{type:"text",required:!0,value:a.serviceType,onChange:p=>l(C=>({...C,serviceType:p.target.value})),placeholder:"e.g., House Cleaning, Plumbing, Electrical Work",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{required:!0,value:a.category,onChange:p=>l(C=>({...C,category:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select a category"}),x.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Description *"}),e.jsx("textarea",{required:!0,rows:4,value:a.description,onChange:p=>l(C=>({...C,description:p.target.value})),placeholder:"Describe your job in detail. Include specific requirements, expectations, and any relevant information...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills Required"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:o,onChange:p=>i(p.target.value),onKeyPress:f,placeholder:"Add required skills...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(p=>e.jsxs("button",{type:"button",onClick:()=>{a.skillsRequired.includes(p)||l(C=>({...C,skillsRequired:[...C.skillsRequired,p]}))},className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-full hover:bg-blue-200 transition-colors",children:["+ ",p]},p))}),a.skillsRequired.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skillsRequired.map(p=>e.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 text-sm rounded-full",children:[e.jsx("span",{children:p}),e.jsx("button",{type:"button",onClick:()=>y(p),className:"text-green-600 hover:text-green-800",children:e.jsx(Ae,{className:"w-3 h-3"})})]},p))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400",children:"N"}),e.jsx("input",{type:"text",required:!0,value:a.budget,onChange:p=>l(C=>({...C,budget:p.target.value})),placeholder:"e.g., 5000-10000 or Negotiable",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timeframe *"}),e.jsxs("select",{required:!0,value:a.timeframe,onChange:p=>l(C=>({...C,timeframe:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select timeframe"}),E.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Duration"}),e.jsxs("select",{value:a.estimatedDuration,onChange:p=>l(C=>({...C,estimatedDuration:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select duration"}),k.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Schedule"}),e.jsxs("select",{value:a.preferredSchedule,onChange:p=>l(C=>({...C,preferredSchedule:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select schedule"}),F.map(p=>e.jsx("option",{value:p,children:p},p))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:a.location,onChange:p=>l(C=>({...C,location:p.target.value})),placeholder:"Enter your location",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"urgency",value:"normal",checked:a.urgency==="normal",onChange:p=>l(C=>({...C,urgency:p.target.value})),className:"mr-2"}),e.jsx("span",{children:"Normal"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"urgency",value:"urgent",checked:a.urgency==="urgent",onChange:p=>l(C=>({...C,urgency:p.target.value})),className:"mr-2"}),e.jsx("span",{children:"Urgent"})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Payment Protection"}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Your budget amount will be held securely in escrow. You'll only pay when you're satisfied with the completed work."})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white py-3 rounded-lg hover:shadow-lg transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Posting...":"Post Job"}),e.jsx("button",{type:"button",onClick:S,className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"})]})]})]})})},km="https://backendhomeheroes.onrender.com",Nh=({isOpen:t,provider:s,currentUser:r,onClose:n,onConfirm:a,serviceType:l,authToken:o})=>{const[i,d]=c.useState(!1),[h,g]=c.useState(null),[u,x]=c.useState({serviceType:s.services[0]||"",description:"",date:"",time:"",location:r.address||"",budget:s.priceRange||`${s.hourlyRate||0}`,contactPhone:r.phoneNumber||"",contactEmail:r.email||"",specialRequests:""});if(!t)return null;const E=C=>{if(!C)return 1e3;const R=C.replace(/[^\d.]/g,"");return parseFloat(R)||1e3},k=async C=>{var R,G,K,X,_;try{d(!0),g(null),console.log(" Starting booking and payment process...");const Z=o||localStorage.getItem("authToken");if(!Z)throw new Error("Authentication required. Please log in again.");console.log(" Creating booking...",C);const q=await fetch(`${km}/api/bookings`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(C)});if(console.log(" Booking response status:",q.status),console.log(" Booking response headers:",q.headers),!q.ok){const P=await q.text();console.error(" Booking creation failed:",P);let B=`Failed to create booking: ${q.status}`;try{B=JSON.parse(P).message||B}catch{B=P||B}throw new Error(B)}const v=await q.json();if(console.log(" Full booking response:",v),!v.success)throw new Error(v.message||"Failed to create booking");const $=((G=(R=v.data)==null?void 0:R.booking)==null?void 0:G._id)||((K=v.data)==null?void 0:K._id)||((X=v.booking)==null?void 0:X._id)||v._id;if(console.log(" Booking created successfully. Booking ID:",$),!$)throw console.error(" No booking ID found in response:",v),new Error("Booking created but no booking ID returned");console.log(" Initializing Paystack payment for booking:",$);const w={bookingId:$,amount:C.amount||C.price,email:r.email,currency:"NGN"};console.log(" Payment payload:",w);const A=await fetch(`${km}/api/bookings/${$}/create-payment`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(console.log(" Payment response status:",A.status),!A.ok){const P=await A.text();console.error(" Payment initialization failed:",P);let B=`Payment initialization failed: ${A.status}`;try{B=JSON.parse(P).message||B}catch{B=P||B}throw new Error(B)}const N=await A.json();if(console.log(" Full payment response:",N),!N.success)throw new Error(N.message||"Payment initialization failed");const m=((_=N.data)==null?void 0:_.authorizationUrl)||N.authorizationUrl;if(console.log(" Authorization URL:",m),!m)throw console.error(" No authorization URL in response. Full response:",N),new Error("Payment service did not return a payment URL");if(!m.includes("checkout.paystack.com"))throw console.error(" Invalid Paystack URL:",m),new Error("Invalid payment URL received");console.log(" Immediately redirecting to Paystack payment page..."),n(),window.location.href=m}catch(Z){console.error(" Booking and payment error:",Z),g(Z instanceof Error?Z.message:"Failed to process booking and payment"),d(!1)}},F=async C=>{C.preventDefault();const R=u.location||r.address||"Location not specified",G={providerId:s._id||s.id,providerName:s.name,providerEmail:s.email,serviceType:u.serviceType,description:u.description,location:R,timeframe:l==="immediate"?"ASAP":u.date?`${u.date} at ${u.time}`:"Flexible",budget:u.budget,contactInfo:{phone:u.contactPhone,email:u.contactEmail,name:r.name},specialRequests:u.specialRequests,bookingType:l,requestedAt:new Date().toISOString(),amount:E(u.budget),price:E(u.budget),status:"awaiting_payment"};console.log(" Booking data prepared:",G),await k(G)},b=C=>{const{name:R,value:G}=C.target;x(K=>({...K,[R]:G}))},j=C=>C.split(" ").map(R=>R[0]).join("").toUpperCase(),y=C=>[...Array(5)].map((R,G)=>e.jsx(Te,{className:`w-4 h-4 transition-colors ${G<Math.floor(C)?"text-amber-400 fill-current":"text-gray-300"}`},G)),f=s.averageRating||s.rating||4.5,T=s.reviewCount||0,S=s.location||s.address||`${s.city}, ${s.state}`,p=E(u.budget);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden border border-gray-200/50 shadow-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Book ",s.name]}),e.jsx("button",{onClick:n,disabled:i,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-xl disabled:opacity-50",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-white font-bold text-xl",children:s.profileImage?e.jsx("img",{src:s.profileImage,alt:s.name,className:"w-16 h-16 rounded-2xl object-cover"}):s.avatar||j(s.name)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:s.name}),s.isVerified&&e.jsx(Le,{className:"w-4 h-4 text-blue-200"}),s.isTopRated&&e.jsx(os,{className:"w-4 h-4 text-amber-300"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center",children:y(f)}),e.jsx("span",{className:"text-sm font-medium text-white",children:f.toFixed(1)}),e.jsxs("span",{className:"text-sm text-white/70",children:["(",T," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[e.jsx("span",{children:S}),e.jsx("span",{children:s.experience}),s.isAvailableNow&&l==="immediate"&&e.jsx("span",{className:"bg-emerald-500/30 text-emerald-200 px-2 py-1 rounded-lg text-xs font-medium",children:"Available Now"})]})]})]})]}),e.jsx("form",{onSubmit:F,className:"flex flex-col h-full",children:e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-6",children:[h&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Payment Error"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h}),e.jsx("button",{type:"button",onClick:()=>g(null),className:"text-red-600 text-sm underline mt-2",children:"Try again"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Et,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Secure Escrow Payment"}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"1."}),e.jsx("span",{children:"Pay now - funds held securely in escrow"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"2."}),e.jsx("span",{children:"Provider accepts & travels to you"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"3."}),e.jsx("span",{children:'Confirm "Hero Here" when provider arrives'})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"4."}),e.jsx("span",{children:"Payment released: 85% to provider, 15% service fee"})]})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Service Type *"}),e.jsx("select",{name:"serviceType",value:u.serviceType,onChange:b,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm",required:!0,disabled:i,children:s.services.map((C,R)=>e.jsx("option",{value:C,children:C},R))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:u.description,onChange:b,placeholder:"Describe what you need help with...",rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm resize-none",disabled:i})]}),l==="long-term"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(Me,{className:"w-4 h-4 inline mr-1"}),"Preferred Date"]}),e.jsx("input",{type:"date",name:"date",value:u.date,onChange:b,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm",disabled:i})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(Ie,{className:"w-4 h-4 inline mr-1"}),"Preferred Time"]}),e.jsx("input",{type:"time",name:"time",value:u.time,onChange:b,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm",disabled:i})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(We,{className:"w-4 h-4 inline mr-1"}),"Service Location *"]}),e.jsx("input",{type:"text",name:"location",value:u.location,onChange:b,placeholder:"Enter your address where service is needed",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm",required:!0,disabled:i}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Service will be performed at this location"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(wt,{className:"w-4 h-4 inline mr-1"}),"Budget Range"]}),e.jsx("input",{type:"text",name:"budget",value:u.budget,onChange:b,placeholder:"e.g., 5,000 - 10,000",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm",disabled:i})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(st,{className:"w-4 h-4 inline mr-1"}),"Your Name"]}),e.jsx("input",{type:"text",value:r.name,disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/80 backdrop-blur-sm text-gray-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(ut,{className:"w-4 h-4 inline mr-1"}),"Email Address"]}),e.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/80 backdrop-blur-sm text-gray-600"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(ot,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),e.jsx("input",{type:"tel",name:"contactPhone",value:u.contactPhone,onChange:b,placeholder:"Enter your phone number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm",required:!0,disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Special Requests or Notes"}),e.jsx("textarea",{name:"specialRequests",value:u.specialRequests,onChange:b,placeholder:"Any special requirements, tools needed, or additional information...",rows:2,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/80 backdrop-blur-sm resize-none",disabled:i})]}),e.jsxs("div",{className:"bg-gray-50/80 backdrop-blur-sm border-t border-gray-200/50 p-6 mt-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,disabled:i,className:"px-6 py-3 text-gray-600 border border-gray-200 rounded-xl hover:bg-gray-100 transition-all duration-200 font-medium disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl hover:scale-105 transition-all duration-300 font-semibold shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2 min-w-[200px]",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Xt,{className:"w-4 h-4 animate-spin"}),"Redirecting to Paystack..."]}):`Pay ${p.toLocaleString()} to Book`})]}),i&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"You will be redirected to Paystack to complete your payment securely."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"After payment, you'll be redirected back to your bookings page."})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-2xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Service:"}),e.jsx("span",{className:"font-medium",children:u.serviceType||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Type:"}),e.jsx("span",{className:"font-medium capitalize",children:l})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Provider:"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Location:"}),e.jsx("span",{className:"font-medium text-right max-w-[150px] truncate",children:u.location||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Amount to pay:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["",p.toLocaleString()]})]}),l==="immediate"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Availability:"}),e.jsx("span",{className:"font-medium text-emerald-600",children:"Available Now"})]})]})]})]})})})]})})},js="https://backendhomeheroes.onrender.com",ay=(t,s,r,n)=>{const l=(r-t)*Math.PI/180,o=(n-s)*Math.PI/180,i=Math.sin(l/2)*Math.sin(l/2)+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))*.621371},Fl=t=>t?t.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(s=>s.length>2).filter(s=>!["area","street","road","avenue","lane","close","drive","way"].includes(s)):[],Va=(t,s)=>{if(!t||!s)return!1;const r=Fl(t),n=Fl(s);return r.length===0||n.length===0?!1:r.some(a=>n.some(l=>l.includes(a)||a.includes(l)))},Sm=(t,s)=>{if(!t||!s)return 0;const r=Fl(t),n=Fl(s);if(r.length===0||n.length===0)return 0;let a=0;return r.forEach(l=>{n.some(o=>o.includes(l)||l.includes(o))&&a++}),a/r.length},ly=Fe.memo(({provider:t,serviceType:s,onBook:r,onMessage:n,onCall:a,onToggleFavorite:l,isFavorite:o,viewMode:i})=>{const[d,h]=c.useState(!1),[g,u]=c.useState(!1),[x,E]=c.useState(!1),[k,F]=c.useState(null),[b,j]=c.useState(!1),[y,f]=c.useState(null),[T,S]=c.useState(o),p=c.useRef(null),C=c.useRef(null),R=Ut();c.useEffect(()=>{S(o)},[o]);const K={1:"+234 123 456 7890",2:"+234 123 456 7891",3:"+234 123 456 7892",4:"+234 123 456 7893",5:"+234 123 456 7894",6:"+234 123 456 7895"}[t.id]||t.phoneNumber||"+234 000 000 0000",X=c.useCallback(async()=>{const L=t._id||t.id;if(L)try{console.log(" Fetching real rating data for provider:",L);const W=await fetch(`${js}/api/reviews/provider/${L}/stats`);if(W.ok){const ne=await W.json();if(console.log(" Real rating data:",ne),ne.success&&ne.data){const ee=ne.data.averageRating||ne.data.rating||0,V=ne.data.totalReviews||ne.data.reviewCount||0,O=V>0;f({rating:parseFloat(ee.toFixed(1)),reviewCount:V,hasRealReviews:O}),O&&F(I=>({averageRating:ee,reviewCount:V,completedJobs:(I==null?void 0:I.completedJobs)||t.completedJobs||0}));return}}console.log(" No real rating data found, trying provider endpoint");const se=await fetch(`${js}/api/providers/${L}`);if(se.ok){const ne=await se.json();if(ne.success&&ne.data){const ee=ne.data.averageRating||ne.data.rating||0,V=ne.data.reviewCount||ne.data.totalReviews||0;if(V>0){f({rating:parseFloat(ee.toFixed(1)),reviewCount:V,hasRealReviews:!0}),F(I=>({averageRating:ee,reviewCount:V,completedJobs:(I==null?void 0:I.completedJobs)||t.completedJobs||0}));return}}}console.log(" No real reviews found for this provider"),f({rating:0,reviewCount:0,hasRealReviews:!1})}catch(W){console.error(" Error fetching real rating data:",W),f({rating:0,reviewCount:0,hasRealReviews:!1})}},[t]),_=c.useCallback(async()=>{const L=t._id||t.id;if(L)try{j(!0),console.log(" Fetching provider stats for:",L),await X();const W=[`${js}/api/providers/${L}/stats`,`${js}/api/providers/${L}/rating`,`${js}/api/providers/${L}`];let se=null;for(const ne of W)try{console.log(` Trying stats endpoint: ${ne}`);const ee=await fetch(ne);if(ee.ok){const V=await ee.json();if(console.log(` Stats response from ${ne}:`,V),V.success&&V.data){se={averageRating:V.data.averageRating||V.data.rating||t.averageRating||t.rating||0,reviewCount:V.data.reviewCount||V.data.totalReviews||t.reviewCount||0,completedJobs:V.data.completedJobs||V.data.jobsCompleted||t.completedJobs||0};break}}}catch(ee){console.log(` Stats endpoint failed: ${ne}`,ee);continue}se?(console.log(" Setting provider stats:",se),y!=null&&y.hasRealReviews||F(se)):(console.log(" Using fallback stats from provider data"),F({averageRating:t.averageRating||t.rating||1,reviewCount:t.reviewCount||0,completedJobs:t.completedJobs||0}))}catch(W){console.error(" Error fetching provider stats:",W),F({averageRating:t.averageRating||t.rating||1.5,reviewCount:t.reviewCount||0,completedJobs:t.completedJobs||0})}finally{j(!1)}},[t,X]);c.useEffect(()=>{_()},[_]);const Z=c.useCallback(()=>{console.log(" Card clicked, navigating to provider profile:",t._id||t.id),R(`/customer/provider/${t._id||t.id}`,{state:{provider:t}})},[R,t]),q=c.useCallback(L=>{L.stopPropagation(),console.log(" View Profile clicked, navigating to provider profile:",t._id||t.id),R(`/customer/provider/${t._id||t.id}`,{state:{provider:t}})},[R,t]),v=c.useCallback(async L=>{if(L.stopPropagation(),!(g||!l)){u(!0);try{S(!T),l(t.id),console.log(" Toggling favorite for provider:",t.id,"New state:",!T)}catch(W){console.error("Error toggling favorite:",W),S(T)}finally{u(!1)}}},[g,l,t.id,T]),$=c.useCallback(L=>{const W=Math.min(Math.max(L,0),5);return[...Array(5)].map((se,ne)=>e.jsx(Te,{className:`w-3 h-3 sm:w-4 sm:h-4 transition-colors ${ne<Math.floor(W)?"text-amber-400 fill-current":"text-gray-300"}`},ne))},[]);c.useCallback(async L=>{if(L.stopPropagation(),!!n)try{n(t)}catch(W){console.error("Error handling message click:",W)}},[n,t]),c.useCallback(L=>{L.stopPropagation(),h(!d)},[d]),c.useCallback(L=>{L.stopPropagation();const W=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),se=K.replace(/\D/g,"");W?window.location.href=`tel:${se}`:window.open(`tel:${se}`),h(!1)},[K]),c.useCallback(async L=>{L.stopPropagation();try{await navigator.clipboard.writeText(K),alert("Phone number copied to clipboard!")}catch{console.log("Phone number:",K)}h(!1)},[K]),c.useCallback(L=>L.split(" ").map(W=>W[0]).join("").toUpperCase(),[]);const w=c.useCallback(L=>!L||L===0?"Contact for pricing":L<1e3?`${L}`:L<1e6?`${Math.round(L/1e3)}k`:`${(L/1e6).toFixed(1)}M`,[]),A=(y==null?void 0:y.hasRealReviews)||!1,N=A?(y==null?void 0:y.rating)||0:(k==null?void 0:k.averageRating)||t.averageRating||t.rating||1.5,m=A?(y==null?void 0:y.reviewCount)||0:(k==null?void 0:k.reviewCount)||t.reviewCount||0,P=t.priceRange||w(t.hourlyRate||0),B=(k==null?void 0:k.completedJobs)||t.completedJobs||0,U=t.responseTime||"Contact for availability",D=t.location||`${t.city||""}, ${t.state||""}`.trim()||"Location not specified",M=c.useCallback(L=>L?L<1?`${(L*5280).toFixed(0)} ft`:`${L.toFixed(1)} mi`:"",[]),J=c.useCallback(({className:L})=>{const W=t.profileImage||t.profilePicture||t.avatar,ne=(ee=>ee?ee.startsWith("http")?ee:ee.startsWith("/")?`${js}${ee}`:ee:null)(W);return e.jsxs("div",{className:`bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center text-white font-bold overflow-hidden relative ${L}`,onClick:ee=>{ee.stopPropagation(),q(ee)},style:{cursor:"pointer"},children:[ne?e.jsx("img",{src:ne,alt:t.name,className:"w-full h-full object-cover",onError:ee=>{console.log("Image failed to load:",ne),ee.currentTarget.style.display="none";const V=ee.currentTarget.parentElement;if(V){const O=V.querySelector(".fallback-text");O&&(O.style.display="block")}},onLoad:()=>{console.log("Image loaded successfully:",ne)}}):null,e.jsx("span",{className:`fallback-text absolute inset-0 flex items-center justify-center text-white font-bold ${ne?"hidden":"block"}`,style:{fontSize:L.includes("w-20")?"1.5rem":L.includes("w-16")?"1.25rem":"1rem"},children:t.name.charAt(0)})]})},[t.profileImage,t.profilePicture,t.avatar,t.name,q]);c.useEffect(()=>{const L=W=>{C.current&&!C.current.contains(W.target)&&p.current&&!p.current.contains(W.target)&&h(!1)};return d&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[d]);const z=c.useCallback(L=>{L.stopPropagation(),r&&r(t)},[r,t]);return c.useCallback(L=>{L.stopPropagation(),a&&a(t)},[a,t]),i==="list"?e.jsxs("div",{className:"group bg-white/90 backdrop-blur-md rounded-2xl border border-gray-200/50 hover:border-green-200/70 hover:shadow-2xl transition-all duration-500 p-4 sm:p-6 overflow-hidden relative cursor-pointer",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onClick:Z,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"w-16 h-16 sm:w-20 sm:h-20"}),t.isAvailableNow&&s==="immediate"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsx(dt,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 cursor-pointer",onClick:q,children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:t.name}),t.isVerified&&e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(Le,{className:"w-3 h-3 text-green-600"})}),t.isTopRated&&e.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-xl flex items-center justify-center",children:e.jsx(os,{className:"w-3 h-3 text-amber-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:$(N)}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:N.toFixed(1)}),m>0?e.jsxs("span",{className:"text-sm text-gray-500",children:["(",m," ",m===1?"review":"reviews",")"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"(No reviews yet)"}),A&&m>0&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-lg",children:"Real Rating"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[t.services&&t.services.slice(0,3).map((L,W)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-50 to-indigo-50 text-green-700 text-sm font-medium rounded-xl border border-green-200/50",children:L},W)),t.services&&t.services.length>3&&e.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-xl",children:["+",t.services.length-3," more"]}),(!t.services||t.services.length===0)&&e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-xl",children:"General Services"})]}),e.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-center gap-2 xs:gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:D}),t.distance&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-lg",children:M(t.distance)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:U})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:l&&e.jsx("button",{onClick:v,disabled:g,className:`p-2 rounded-xl transition-all duration-200 ${T?"text-red-500 bg-red-50 hover:bg-red-100 border border-red-200":"text-gray-400 hover:text-red-500 hover:bg-red-50 hover:border-red-100"}`,children:e.jsx($s,{className:"w-5 h-5",fill:T?"#ef4444":"none",stroke:T?"#ef4444":"currentColor",strokeWidth:1.5})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:P}),B>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:[B," jobs completed"]})]}),t.isAvailableNow&&s==="immediate"&&e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white px-4 py-2 rounded-xl text-sm font-semibold shadow-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:"Available Now"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:q,className:"p-3 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:scale-105 group flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium",children:"Profile"})]}),r&&e.jsx("button",{onClick:z,className:"bg-gradient-to-r from-green-600 via-green-600 to-green-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 shadow-xl hover:shadow-2xl group",children:e.jsx("span",{className:"group-hover:scale-110 inline-block transition-transform",children:s==="immediate"?"Book Now":"Get Quote"})})]})]})]})]}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-green-600/5 via-purple-600/5 to-pink-600/5 rounded-2xl transition-opacity duration-500 pointer-events-none ${x?"opacity-100":"opacity-0"}`})]}):e.jsxs("div",{className:"group bg-white/90 backdrop-blur-md rounded-3xl border border-gray-200/50 hover:border-green-200/70 hover:shadow-2xl transition-all duration-500 p-6 overflow-hidden relative cursor-pointer",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onClick:Z,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:q,children:[e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"w-16 h-16"}),t.isAvailableNow&&s==="immediate"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsx(dt,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-green-600 transition-colors line-clamp-1",children:t.name}),t.isVerified&&e.jsx(Le,{className:"w-4 h-4 text-green-500"}),t.isTopRated&&e.jsx(os,{className:"w-4 h-4 text-amber-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center",children:$(N)}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:N.toFixed(1)}),m>0?e.jsxs("span",{className:"text-xs text-gray-500",children:["(",m,")"]}):e.jsx("span",{className:"text-xs text-gray-400",children:"(No reviews)"}),A&&m>0&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-1 py-0.5 rounded text-[10px]",children:"Real"})]})]})]}),l&&e.jsx("button",{onClick:v,disabled:g,className:`p-2 rounded-xl transition-all duration-200 ${T?"text-red-500 bg-red-50 hover:bg-red-100 border border-red-200":"text-gray-400 hover:text-red-500 hover:bg-red-50 hover:border-red-100"}`,children:e.jsx($s,{className:"w-4 h-4",fill:T?"#ef4444":"none",stroke:T?"#ef4444":"currentColor",strokeWidth:1.5})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.services&&t.services.slice(0,2).map((L,W)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 text-sm font-medium rounded-xl border border-blue-200/50",children:L},W)),t.services&&t.services.length>2&&e.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-xl",children:["+",t.services.length-2," more"]}),(!t.services||t.services.length===0)&&e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-xl",children:"General Services"})]}),t.isAvailableNow&&s==="immediate"&&e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white px-3 py-2 rounded-xl text-sm font-semibold shadow-lg mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:"Available Now"})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:D}),t.distance&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-lg",children:M(t.distance)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:U})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:P}),B>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:[B," jobs"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:q,className:"p-2 bg-gray-50 text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:scale-105",title:"View Profile",children:e.jsx(rt,{className:"w-4 h-4"})}),r&&e.jsx("button",{onClick:z,className:"bg-gradient-to-r from-green-600 via-green-600 to-green-600 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 hover:scale-105 shadow-xl text-sm",children:s==="immediate"?"Book":"Quote"})]})]}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5 rounded-3xl transition-opacity duration-500 pointer-events-none ${x?"opacity-100":"opacity-0"}`})]})}),oy=({serviceType:t,searchQuery:s,location:r,onBook:n,onMessage:a,onCall:l,onToggleFavorite:o,authToken:i,favorites:d=[],searchRadius:h,userLocation:g})=>{const[u,x]=c.useState([]),[E,k]=c.useState(!0),[F,b]=c.useState(null),[j,y]=c.useState(!1),[f,T]=c.useState("grid"),[S,p]=c.useState("distance"),[C,R]=c.useState(!1),[G,K]=c.useState(d),X=c.useRef(""),_=c.useRef(!0);c.useEffect(()=>{K(d)},[d]);const Z=c.useCallback(m=>g?m.map(P=>{if(P.coordinates&&P.coordinates.length===2){const B=ay(g[0],g[1],P.coordinates[0],P.coordinates[1]);return{...P,distance:B}}return P}):m,[g]),q=c.useCallback((m,P,B)=>!P&&!B?m:m.filter(U=>{const D=!P||U.services.some(J=>J.toLowerCase().includes(P.toLowerCase())),M=!B||Va(B,U.location||"")||Va(B,U.city||"")||Va(B,U.state||"")||Va(B,U.address||"");return D&&M}),[]),v=c.useCallback(m=>{console.log(" Toggling favorite for provider:",m),K(P=>P.includes(m)?P.filter(B=>B!==m):[...P,m]),o&&o(m)},[o]),$=c.useCallback(async m=>{if(!m.length)return m;try{console.log(" Fetching real ratings for all providers");const P=m.map(U=>U._id||U.id).filter(Boolean);if(P.length===0)return m;try{const U=await fetch(`${js}/api/reviews/bulk-ratings`,{method:"POST",headers:{"Content-Type":"application/json",...(i==null?void 0:i.trim())&&{Authorization:`Bearer ${i.trim()}`}},body:JSON.stringify({providerIds:P})});if(U.ok){const D=await U.json();if(D.success&&D.data)return console.log(" Bulk ratings data:",D.data),m.map(M=>{var L;const J=M._id||M.id,z=D.data[J];return z&&z.totalReviews>0?{...M,realRating:parseFloat((L=z.averageRating)==null?void 0:L.toFixed(1))||0,realReviewCount:z.totalReviews||0}:M})}}catch{console.log(" Bulk ratings endpoint not available, fetching individually")}return await Promise.all(m.map(async U=>{const D=U._id||U.id;if(!D)return U;try{const M=await fetch(`${js}/api/reviews/provider/${D}/stats`);if(M.ok){const J=await M.json();if(J.success&&J.data){const z=J.data.averageRating||J.data.rating||0,L=J.data.totalReviews||J.data.reviewCount||0;if(L>0)return{...U,realRating:parseFloat(z.toFixed(1)),realReviewCount:L}}}}catch(M){console.error(` Error fetching rating for provider ${D}:`,M)}return U}))}catch(P){return console.error(" Error in fetchRealRatingsForAllProviders:",P),m}},[i]),w=c.useCallback(async(m=!1)=>{var B,U;const P=JSON.stringify({serviceType:t,searchQuery:s,location:r,searchRadius:h,timestamp:Date.now()});if(P===X.current&&!m){console.log(" Skipping duplicate API call with same parameters");return}X.current=P,k(!0),y(!0);try{const D=`${js}/api/test-providers?limit=100${t==="immediate"?"&availableNow=true":""}`;console.log(" Trying test API URL:",D);const M=await fetch(D,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...(i==null?void 0:i.trim())&&{Authorization:`Bearer ${i.trim()}`}}});if(M.ok){const le=await M.json();if(console.log(" Test API response:",le),le.success&&((B=le.data)!=null&&B.providers)){const ke=le.data.providers;console.log(` Found ${ke.length} providers from test API`);const qe=ke.map(ae=>({...ae,id:ae._id||ae.id,services:ae.services||[],hourlyRate:ae.hourlyRate||0,rating:ae.averageRating||ae.rating||0,reviewCount:ae.reviewCount||0,completedJobs:ae.completedJobs||0,isVerified:ae.isVerified||!1,isTopRated:ae.isTopRated||!1})),Ze=q(qe,s,r),ze=await $(Ze),te=Z(ze);x(te),k(!1),y(!1);return}}console.log(" Test endpoint failed, trying original endpoint..."),b(null),console.log(" Starting provider fetch..."),console.log(" Current props:",{serviceType:t,searchQuery:s,location:r,authToken:!!i});const J=new URLSearchParams;J.append("limit","100"),t==="immediate"&&(J.append("availableNow","true"),console.log(" Added immediate availability filter"));const z=`${js}/api/providers?${J.toString()}`;console.log(" Final API URL:",z);const L={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}};i!=null&&i.trim()&&(L.headers={...L.headers,Authorization:`Bearer ${i.trim()}`},console.log(" Added auth token to request"));const W=new AbortController,se=setTimeout(()=>W.abort(),15e3),ne=await fetch(z,{...L,signal:W.signal});clearTimeout(se),console.log(" Response received:",{status:ne.status,statusText:ne.statusText,ok:ne.ok,url:ne.url});const ee=await ne.text();if(console.log(" Raw response text:",ee),!ne.ok)throw console.error(" API Error Response:",ee),new Error(`API Error: ${ne.status} ${ne.statusText} - ${ee}`);let V;try{V=JSON.parse(ee),console.log(" Parsed response data:",V)}catch(le){console.error(" JSON Parse Error:",le),console.error(" Problematic text:",ee);const ke=le instanceof Error?le.message:"Failed to parse JSON response";throw new Error(`JSON Parse Error: ${ke}`)}if(!V)throw new Error("No data received from API");if(V.success===!1)throw new Error(V.message||"API returned success: false");let O=[];if((U=V.data)!=null&&U.providers)O=V.data.providers,console.log(" Found providers in data.data.providers");else if(V.providers)O=V.providers,console.log(" Found providers in data.providers");else if(Array.isArray(V))O=V,console.log(" Data itself is providers array");else if(Array.isArray(V.data))O=V.data,console.log(" Found providers in data.data array");else{console.log(" Unexpected response structure:",Object.keys(V));for(const le in V)if(Array.isArray(V[le])){O=V[le],console.log(` Found providers in data.${le}`);break}}if(console.log(" Extracted providers array length:",O.length),!Array.isArray(O))throw console.error(" Providers data is not an array:",typeof O,O),new Error("Invalid providers data format received");console.log(` Found ${O.length} providers in API response`);const I=O.map((le,ke)=>{var je,Y,re;console.log(` Transforming provider ${ke+1}:`,le);let qe=[];Array.isArray(le.services)?qe=le.services:typeof le.services=="string"?qe=[le.services]:le.service&&(qe=Array.isArray(le.service)?le.service:[le.service]);const Ze=le.city||((je=le.locationData)==null?void 0:je.city)||"",ze=le.state||((Y=le.locationData)==null?void 0:Y.state)||"",te=le.country||((re=le.locationData)==null?void 0:re.country)||"",ge=[Ze,ze,te].filter(xe=>xe&&xe.trim()!=="").join(", ")||"Location not specified",Se={...le,id:le._id||le.id||`provider-${ke}`,_id:le._id||le.id,services:qe,name:le.name||`Provider ${ke+1}`,email:le.email||`provider${ke+1}@example.com`,hourlyRate:le.hourlyRate||le.rate||0,city:Ze,state:ze,country:te,location:ge,experience:le.experience||"",isAvailableNow:le.isAvailableNow!==void 0?le.isAvailableNow:!0,profileImage:le.profileImage||le.profilePicture||le.avatar,profilePicture:le.profilePicture,avatar:le.avatar,rating:le.averageRating||le.rating||1.5,reviewCount:le.reviewCount||0,priceRange:le.priceRange||"",responseTime:le.responseTime||"Contact for availability",completedJobs:le.completedJobs||0,isVerified:le.isVerified!==void 0?le.isVerified:!1,isTopRated:le.isTopRated!==void 0?le.isTopRated:!1,phoneNumber:le.phoneNumber||le.phone,coordinates:le.coordinates||[6.5244,3.3792],realRating:le.realRating||0,realReviewCount:le.realReviewCount||0};return console.log(" Transformed provider:",Se),Se}),Q=q(I,s,r);console.log(` After location filtering: ${Q.length} providers`);const ie=await $(Q),pe=Z(ie);console.log(` Successfully processed ${pe.length} providers`),x(pe)}catch(D){console.error(" Error in fetchProviders:",D);const M=D instanceof Error?D.message:"Unknown error occurred";b(M),m?(console.log(" Fallback: Using empty data due to API error during retry"),x([])):x([])}finally{k(!1),y(!1)}},[t,s,r,i,h,g,Z,q,$]),A=c.useCallback(()=>{console.log(" User triggered retry"),y(!0),k(!0),b(null),w(!0)},[w]),N=Fe.useMemo(()=>[...u].sort((m,P)=>{if(r){const B=Sm(r,m.location||""),U=Sm(r,P.location||"");if(B!==U)return U-B}switch(S){case"rating":const B=m.realRating||m.averageRating||m.rating||0;return(P.realRating||P.averageRating||P.rating||0)-B;case"price":return(m.hourlyRate||0)-(P.hourlyRate||0);case"distance":return m.distance===void 0&&P.distance===void 0?0:m.distance===void 0?1:P.distance===void 0?-1:m.distance-P.distance;default:const D=m.realRating||m.averageRating||m.rating||0;return(P.realRating||P.averageRating||P.rating||0)-D}}),[u,S,r]);return c.useEffect(()=>{if(_.current){_.current=!1;return}console.log(" useEffect triggered with:",{searchQuery:s,location:r,serviceType:t,authToken:!!i}),k(!0),w(!1)},[w]),c.useEffect(()=>{k(!0),w(!1)},[]),E?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-xl w-48 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded-lg w-32 animate-pulse"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-24 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-20 animate-pulse"})]})]}),e.jsx("div",{className:`grid gap-6 ${f==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:[...Array(6)].map((m,P)=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-100 p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded-lg w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded-lg w-1/2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-xl w-16"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-xl w-20"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-lg w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded-lg w-2/3"})]})]},P))})]}):F?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-red-100 to-red-200 rounded-3xl flex items-center justify-center mx-auto mb-6",children:e.jsx(Pe,{className:"w-16 h-16 text-red-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Unable to load providers"}),e.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto leading-relaxed",children:F}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsxs("button",{onClick:A,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold hover:scale-105 transition-all duration-300 shadow-xl flex items-center gap-3 justify-center",children:[e.jsx(Nr,{className:"w-5 h-5"}),"Try Again"]})})]}):u.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 rounded-3xl flex items-center justify-center mx-auto mb-6",children:e.jsx(st,{className:"w-16 h-16 text-gray-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No providers found"}),e.jsx("p",{className:"text-gray-600 mb-4 max-w-md mx-auto leading-relaxed",children:s||r?`No providers found for "${s}"${r?` in "${r}"`:""}. Try adjusting your search criteria.`:"No providers available at the moment. Please try again later."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsxs("button",{onClick:A,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold hover:scale-105 transition-all duration-300 shadow-xl flex items-center gap-3 justify-center",children:[e.jsx(Nr,{className:"w-5 h-5"}),"Try Again"]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl border border-gray-200/50 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[N.length," Provider",N.length!==1?"s":""," Found",g&&"  Showing closest first",r&&"  Location matched"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s&&`for "${s}"`,s&&r&&" ",r&&`in ${r}`,N.some(m=>m.realRating||m.realReviewCount)&&"  Real ratings shown"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:S,onChange:m=>p(m.target.value),className:"appearance-none bg-white border border-gray-200 rounded-xl px-4 py-2 pr-8 text-sm font-medium text-gray-700 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"distance",children:"Sort by Distance"}),e.jsx("option",{value:"rating",children:"Sort by Rating"}),e.jsx("option",{value:"price",children:"Sort by Price"})]}),e.jsx(Jn,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),e.jsxs("button",{onClick:()=>R(!C),className:`flex items-center gap-2 px-4 py-2 rounded-xl border text-sm font-medium transition-all duration-200 ${C?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:border-gray-300"}`,children:[e.jsx(so,{className:"w-4 h-4"}),"Filters"]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>T("grid"),className:`p-2 rounded-lg transition-all duration-200 ${f==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(jf,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T("list"),className:`p-2 rounded-lg transition-all duration-200 ${f==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ph,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:A,disabled:E,className:"p-2 text-gray-500 hover:text-blue-600 transition-colors disabled:opacity-50 rounded-xl hover:bg-blue-50",children:e.jsx(Nr,{className:`w-4 h-4 ${E?"animate-spin":""}`})})]})]}),C&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200/50",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Availability"}),e.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any time"}),e.jsx("option",{children:"Available now"}),e.jsx("option",{children:"Within 1 hour"}),e.jsx("option",{children:"Today"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rating"}),e.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any rating"}),e.jsx("option",{children:"4.5+ stars"}),e.jsx("option",{children:"4.0+ stars"}),e.jsx("option",{children:"3.5+ stars"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Price Range"}),e.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any price"}),e.jsx("option",{children:"Under 2,000"}),e.jsx("option",{children:"2,000 - 5,000"}),e.jsx("option",{children:"5,000+"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Experience"}),e.jsxs("select",{className:"w-full bg-white border border-gray-200 rounded-xl px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any experience"}),e.jsx("option",{children:"5+ years"}),e.jsx("option",{children:"3+ years"}),e.jsx("option",{children:"1+ years"})]})]})]})})]}),e.jsx("div",{className:`grid gap-6 ${f==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4":"grid-cols-1"}`,children:N.map(m=>{const P=G.includes(m._id||m.id);return console.log(` Rendering provider: ${m.name}, ID: ${m._id||m.id}, Is favorite: ${P}`),e.jsx(ly,{provider:m,serviceType:t,onBook:n,onMessage:a,onCall:l,onToggleFavorite:v,isFavorite:P,viewMode:f},m._id||m.id)})}),N.length>0&&e.jsx("div",{className:"text-center pt-8",children:e.jsx("button",{className:"bg-gradient-to-r from-green-600 via-green-600 to-green-600 text-white px-8 py-4 rounded-2xl font-semibold hover:scale-105 transition-all duration-300 shadow-xl",children:"Load More Providers"})})]})},Cm=({booking:t,onReleasePayment:s})=>{if(!t.payment)return null;const n=(o=>{const i={requires_payment_method:{icon:Pe,color:"orange",title:"Payment Required",description:"Please complete payment to confirm booking"},held:{icon:Le,color:"green",title:"Payment Held in Escrow",description:"Funds are secured until service completion"},confirmed:{icon:Ne,color:"green",title:"Payment Confirmed",description:"Provider has accepted the booking"},released:{icon:Ne,color:"green",title:"Payment Released",description:"Funds transferred to provider"},refunded:{icon:Nr,color:"gray",title:"Payment Refunded",description:"Funds returned to your account"},failed:{icon:Pe,color:"red",title:"Payment Failed",description:"Please try again or contact support"},pending:{icon:Ie,color:"yellow",title:"Payment Pending",description:"Waiting for payment confirmation"},succeeded:{icon:Ne,color:"green",title:"Payment Successful",description:"Payment completed successfully"}};return i[o]||i.pending})(t.payment.status),a=n.icon,l=o=>{if(!o)return"";const i=new Date,h=new Date(o).getTime()-i.getTime(),g=Math.floor(h/(1e3*60*60)),u=Math.floor(h%(1e3*60*60)/(1e3*60));return g<0||u<0?"Expired":`${g}h ${u}m`};return e.jsx("div",{className:`bg-${n.color}-50 border border-${n.color}-200 rounded-lg p-3 mt-3`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:`w-4 h-4 text-${n.color}-600`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:n.description}),t.payment.status==="held"&&t.autoRefundAt&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Auto-refund in ",l(t.autoRefundAt)]}),t.payment.status==="confirmed"&&t.status==="completed"&&!t.serviceConfirmedByCustomer&&e.jsx("button",{onClick:()=>s(t.id),className:"mt-2 bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:"Release Payment to Provider"})]})]})})},Pm=({booking:t,onAccept:s,loading:r=!1})=>{const[n,a]=c.useState(!1);return n?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("p",{className:"text-sm text-green-800 mb-2",children:["Accept this ",t.serviceType," booking from ",t.customerName,"?"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a(!1),disabled:r,className:"flex-1 px-3 py-1 text-xs text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:()=>{s(t.id),a(!1)},disabled:r,className:"flex-1 px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-1",children:[r?e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Ne,{className:"w-3 h-3"}),"Confirm Accept"]})]})]}):e.jsxs("button",{onClick:()=>a(!0),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Accept Booking"]})},Em=({booking:t,onConfirm:s,loading:r=!1})=>{const[n,a]=c.useState(!1);return n?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("p",{className:"text-sm text-green-800 mb-2",children:["Confirm that ",t.providerName," has arrived at your location?"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a(!1),disabled:r,className:"flex-1 px-3 py-1 text-xs text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{onClick:()=>{s(t.id),a(!1)},disabled:r,className:"flex-1 px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-1",children:[r?e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(ws,{className:"w-3 h-3"}),"Confirm Arrival"]})]})]}):e.jsxs("button",{onClick:()=>a(!0),className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),"Hero Here - Confirm Arrival"]})},iy=({booking:t,onReschedule:s,onCancel:r,onContact:n,onViewDetails:a,onRateProvider:l,onPaymentSuccess:o,onReleasePayment:i,onSeenProvider:d,onAcceptBooking:h,onRetryPayment:g,onConfirmHeroHere:u,userType:x="customer"})=>{var ae,ge,Se,je,Y,re,xe,ve;const[E,k]=c.useState(!1),[F,b]=c.useState(!1),[j,y]=c.useState(!1),[f,T]=c.useState(0),[S,p]=c.useState(""),[C,R]=c.useState(!1),[G,K]=c.useState(!1),[X,_]=c.useState(!1),Z=c.useRef(null),q=c.useRef(null),v=c.useRef(null);c.useEffect(()=>{const de=be=>{Z.current&&!Z.current.contains(be.target)&&k(!1),q.current&&!q.current.contains(be.target)&&v.current&&!v.current.contains(be.target)&&b(!1)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[]);const $=de=>{switch(de){case"pending":return e.jsx(Ie,{className:"w-3 h-3"});case"accepted":return e.jsx(Ne,{className:"w-3 h-3"});case"awaiting_payment":return e.jsx(ks,{className:"w-3 h-3"});case"confirmed":return e.jsx(Ne,{className:"w-3 h-3"});case"in-progress":return e.jsx(Nr,{className:"w-3 h-3"});case"completed":return e.jsx(Ne,{className:"w-3 h-3"});case"cancelled":return e.jsx(us,{className:"w-3 h-3"});default:return e.jsx(Pe,{className:"w-3 h-3"})}},w=de=>{const be="inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold";switch(de){case"pending":return`${be} bg-yellow-100 text-yellow-800`;case"accepted":return`${be} bg-green-100 text-green-800`;case"awaiting_payment":return`${be} bg-orange-100 text-orange-800`;case"confirmed":return`${be} bg-green-100 text-green-800`;case"in-progress":return`${be} bg-purple-100 text-purple-800`;case"completed":return`${be} bg-green-100 text-green-800`;case"cancelled":return`${be} bg-red-100 text-red-800`;default:return`${be} bg-gray-100 text-gray-600`}},A=de=>de.split(" ").map(be=>be[0]).join("").toUpperCase().substring(0,2),N=(de,be)=>{if(!de)return"ASAP";try{return new Date(`${de}T${be}`).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return`${de} at ${be}`}},m=(de="NGN")=>{switch(de){case"GBP":return"";case"USD":return"$";case"NGN":return"";default:return""}},P=de=>{de.stopPropagation(),b(!F)},B=de=>{var be;if(de.stopPropagation(),(be=t.provider)!=null&&be.phoneNumber){const Re=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Qt=t.provider.phoneNumber.replace(/\D/g,"");Re?window.location.href=`tel:${Qt}`:window.open(`tel:${Qt}`)}else alert("Phone number not available");b(!1)},U=async de=>{var be;if(de.stopPropagation(),(be=t.provider)!=null&&be.phoneNumber)try{await navigator.clipboard.writeText(t.provider.phoneNumber),alert("Phone number copied to clipboard!")}catch{console.log("Phone number:",t.provider.phoneNumber)}else alert("Phone number not available");b(!1)},D=()=>{f>0&&l&&(l(t.id,f,S),y(!1),T(0),p(""))},M=async()=>{if(d){R(!0);try{await d(t.id)}catch(de){console.error("Error confirming seen provider:",de)}finally{R(!1)}}},J=async()=>{if(h){K(!0);try{await h(t.id)}catch(de){console.error("Error accepting booking:",de)}finally{K(!1)}}},z=async()=>{if(u){_(!0);try{await u(t.id)}catch(de){console.error("Error confirming hero here:",de)}finally{_(!1)}}},L=()=>{var de;return(de=t.payment)!=null&&de.amount&&t.payment.amount>0?t.payment.amount:t.price&&t.price>0?t.price:t.amount&&t.amount>0?t.amount:0},W=x==="customer",se=x==="provider",ne=W&&t.payment&&(t.payment.status==="requires_payment_method"||t.payment.status==="failed"||!t.payment.status),ee=W&&t.payment&&["held","confirmed","released","succeeded"].includes(t.payment.status),V=t.status==="awaiting_payment"||t.status==="pending"||t.status==="confirmed"&&!ee,O=ne&&V&&!ee,I=se&&t.status==="pending",Q=((ae=t.ratingStatus)==null?void 0:ae.customerRated)||t.rating&&t.rating>0||!1,ie=W&&t.status==="completed"&&((ge=t.payment)==null?void 0:ge.status)==="confirmed"&&!t.serviceConfirmedByCustomer&&d,pe=((Se=t.payment)==null?void 0:Se.status)==="held",le=t.providerArrived,ke=t.showHeroHereButton&&le&&!t.heroHereConfirmed,qe=L(),Ze=((je=t.payment)==null?void 0:je.currency)||"NGN",ze=m(Ze),te=qe>0?qe.toLocaleString():"0";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300 p-4 sm:p-6 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:hidden space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg",children:W?A(t.providerName):"C"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900 truncate",children:t.serviceType}),e.jsx("p",{className:"text-sm text-gray-600 truncate mb-2",children:W?t.providerName:t.customerName}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(We,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600 truncate",children:t.location})]}),e.jsxs("div",{className:w(t.status),children:[$(t.status),e.jsx("span",{children:t.status.replace("_"," ")})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("div",{className:"relative",ref:Z,children:[e.jsx("button",{onClick:()=>k(!E),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Ml,{className:"w-4 h-4"})}),E&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-1 z-50 min-w-40",children:[e.jsxs("button",{onClick:()=>{a(t.id),k(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4 text-green-600"}),"View Details"]}),W&&t.status==="completed"&&!Q&&e.jsxs("button",{onClick:()=>y(!0),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4 text-yellow-500"}),"Rate Provider"]}),W&&(t.status==="pending"||t.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>s(t.id),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(ja,{className:"w-4 h-4 text-green-600"}),"Reschedule"]}),e.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to cancel this booking?")&&r(t.id)},className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 rounded flex items-center gap-2 text-red-600",children:[e.jsx(us,{className:"w-4 h-4"}),"Cancel"]})]})]})]})})]})})]}),e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold text-sm",children:N(t.date,t.time)})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[ze,te]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"})]})]})}),t.status==="confirmed"&&pe&&e.jsxs("div",{className:"payment-status-banner bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:[" Payment held in escrow - ",((Y=t.payment)==null?void 0:Y.currency)||"",(re=t.payment)==null?void 0:re.amount]})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Your payment is secured. Will be released when service is completed."})]}),ke&&e.jsxs("div",{className:"hero-here-section mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ws,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Your Hero Has Arrived!"}),e.jsxs("p",{className:"text-sm text-green-700",children:[t.providerName," is at your location"]})]})]}),e.jsxs("button",{onClick:()=>u&&u(t._id),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all flex items-center gap-2 font-semibold shadow-sm",children:[e.jsx(ws,{className:"w-4 h-4"}),"Confirm Hero Here"]})]}),e.jsx("p",{className:"text-xs text-green-600",children:"Confirming stops the 4-hour auto-refund timer and allows service to begin."})]}),pe&&!le&&e.jsx("div",{className:"provider-arrival-waiting mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900",children:"Waiting for Provider Arrival"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Payment held. ",t.providerName," will confirm when they arrive."]})]})]})}),t.heroHereConfirmed&&e.jsx("div",{className:"hero-here-confirmed mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Hero Here Confirmed!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Service can begin. 4-hour auto-refund timer stopped."})]})]})}),t.payment&&e.jsx(Cm,{booking:t,onReleasePayment:i}),I&&e.jsx(Pm,{booking:t,onAccept:J,loading:G}),ke&&e.jsx(Em,{booking:t,onConfirm:z,loading:X}),!1,e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>n(t.id,"message"),className:"p-2 bg-green-100 text-green-600 hover:bg-green-200 rounded-lg transition-all duration-200",children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{ref:v,onClick:P,className:"p-2 bg-green-100 text-green-600 hover:bg-green-200 rounded-lg transition-all duration-200",children:e.jsx(ot,{className:"w-4 h-4"})}),F&&e.jsxs("div",{ref:q,className:"absolute left-0 bottom-full mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50 min-w-44",children:[e.jsxs("button",{onClick:de=>{de.stopPropagation(),n(t.id,"phone"),b(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(Ll,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Web Audio Call"})]}),e.jsxs("button",{onClick:B,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx($l,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Phone App"})]}),e.jsxs("button",{onClick:U,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(Rl,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{children:"Copy Number"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[ie&&e.jsxs("button",{onClick:M,disabled:C,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),C?"Confirming...":"Seen Provider"]}),O?e.jsxs("button",{onClick:()=>o(t.id),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold text-sm",children:["Pay ",ze,te," to Confirm"]}):ee?e.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:" Payment Completed"}):null,W&&t.status==="pending"&&!O&&e.jsx("button",{onClick:()=>s(t.id),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold text-sm",children:"Reschedule"}),W&&t.status==="completed"&&!Q&&e.jsx("button",{onClick:()=>y(!0),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors font-semibold text-sm",children:"Rate Provider"})]})]})]}),e.jsxs("div",{className:"hidden sm:flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg",children:W?A(t.providerName):"C"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.serviceType}),e.jsxs("div",{className:w(t.status),children:[$(t.status),e.jsx("span",{children:t.status.replace("_"," ")})]})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:W?t.providerName:t.customerName}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(We,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.location})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("p",{className:"text-sm text-gray-500",children:N(t.date,t.time)})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[ze,te]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"})]})]}),t.status==="confirmed"&&pe&&e.jsxs("div",{className:"payment-status-banner bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:[" Payment held in escrow - ",((xe=t.payment)==null?void 0:xe.currency)||"",(ve=t.payment)==null?void 0:ve.amount]})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Your payment is secured. Will be released when service is completed."})]}),ke&&e.jsxs("div",{className:"hero-here-section mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ws,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Your Hero Has Arrived!"}),e.jsxs("p",{className:"text-sm text-green-700",children:[t.providerName," is at your location"]})]})]}),e.jsxs("button",{onClick:()=>u&&u(t._id),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all flex items-center gap-2 font-semibold shadow-sm",children:[e.jsx(ws,{className:"w-4 h-4"}),"Confirm Hero Here"]})]}),e.jsx("p",{className:"text-xs text-green-600",children:"Confirming stops the 4-hour auto-refund timer and allows service to begin."})]}),pe&&!le&&e.jsx("div",{className:"provider-arrival-waiting mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900",children:"Waiting for Provider Arrival"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Payment held. ",t.providerName," will confirm when they arrive."]})]})]})}),t.heroHereConfirmed&&e.jsx("div",{className:"hero-here-confirmed mt-4 p-4 bg-green-50 border border-green-200 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"Hero Here Confirmed!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Service can begin. 4-hour auto-refund timer stopped."})]})]})}),t.payment&&e.jsx(Cm,{booking:t,onReleasePayment:i}),I&&e.jsx("div",{className:"mb-4",children:e.jsx(Pm,{booking:t,onAccept:J,loading:G})}),ke&&e.jsx("div",{className:"mb-4",children:e.jsx(Em,{booking:t,onConfirm:z,loading:X})}),!1,e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>n(t.id,"message"),className:"p-3 bg-green-100 text-green-600 hover:bg-green-200 rounded-lg transition-all duration-200",children:e.jsx(Ds,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{ref:v,onClick:P,className:"p-3 bg-green-100 text-green-600 hover:bg-green-200 rounded-lg transition-all duration-200",children:e.jsx(ot,{className:"w-5 h-5"})}),F&&e.jsxs("div",{ref:q,className:"absolute right-0 bottom-full mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50 min-w-48",children:[e.jsxs("button",{onClick:de=>{de.stopPropagation(),n(t.id,"phone"),b(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(Ll,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Web Audio Call"})]}),e.jsxs("button",{onClick:B,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx($l,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Phone App"})]}),e.jsxs("button",{onClick:U,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded flex items-center gap-2",children:[e.jsx(Rl,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{children:"Copy Number"})]})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[ie&&e.jsxs("button",{onClick:M,disabled:C,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:opacity-50 flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),C?"Confirming...":"Confirm Seen Provider"]}),O?e.jsxs("button",{onClick:()=>o(t.id),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:["Pay ",ze,te," to Confirm"]}):ee?e.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Payment Completed"]}):null,W&&t.status==="pending"&&!O&&e.jsx("button",{onClick:()=>s(t.id),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Reschedule Booking"}),W&&t.status==="completed"&&!Q&&e.jsx("button",{onClick:()=>y(!0),className:"bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors font-semibold",children:"Rate Provider"})]})]})]})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Rate Your Experience"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(us,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["How was your experience with ",t.providerName,"?"]}),e.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(de=>e.jsx("button",{onClick:()=>T(de),className:"text-3xl transition-transform hover:scale-110",children:e.jsx(Te,{className:`w-8 h-8 ${de<=f?"text-yellow-400 fill-current":"text-gray-300"}`})},de))}),e.jsx("textarea",{value:S,onChange:de=>p(de.target.value),placeholder:"Share your experience (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:f===0,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Rating"})]})]})})]})};var kh="clover",cy=function(s){return s===3?"v3":s},Sh="https://js.stripe.com",dy="".concat(Sh,"/").concat(kh,"/stripe.js"),my=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,uy=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Tm="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",xy=function(s){return my.test(s)||uy.test(s)},hy=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Sh,'"]')),r=0;r<s.length;r++){var n=s[r];if(xy(n.src))return n}return null},Am=function(s){var r="",n=document.createElement("script");n.src="".concat(dy).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},gy=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.3.0",startTime:r})},En=null,Ha=null,Wa=null,py=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},fy=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},yy=function(s){return En!==null?En:(En=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&s&&console.warn(Tm),window.Stripe){r(window.Stripe);return}try{var a=hy();if(a&&s)console.warn(Tm);else if(!a)a=Am(s);else if(a&&Wa!==null&&Ha!==null){var l;a.removeEventListener("load",Wa),a.removeEventListener("error",Ha),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=Am(s)}Wa=fy(r,n),Ha=py(n),a.addEventListener("load",Wa),a.addEventListener("error",Ha)}catch(o){n(o);return}}),En.catch(function(r){return En=null,Promise.reject(r)}))},by=function(s,r,n){if(s===null)return null;var a=r[0],l=a.match(/^pk_test/),o=cy(s.version),i=kh;l&&o!==i&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.3.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=s.apply(void 0,r);return gy(d,n),d},Tn,Ch=!1,Ph=function(){return Tn||(Tn=yy(null).catch(function(s){return Tn=null,Promise.reject(s)}),Tn)};Promise.resolve().then(function(){return Ph()}).catch(function(t){Ch||console.warn(t)});var vy=function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];Ch=!0;var a=Date.now();return Ph().then(function(l){return by(l,r,a)})},Eh={exports:{}},wy="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jy=wy,Ny=jy;function Th(){}function Ah(){}Ah.resetWarningCache=Th;var ky=function(){function t(n,a,l,o,i,d){if(d!==Ny){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function s(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Ah,resetWarningCache:Th};return r.PropTypes=r,r};Eh.exports=ky();var Sy=Eh.exports;const De=Hm(Sy);function Im(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rm(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Im(Object(r),!0).forEach(function(n){Ih(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Im(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function al(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(s){return typeof s}:al=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},al(t)}function Ih(t,s,r){return s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Cy(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Py(t,s){if(t==null)return{};var r=Cy(t,s),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rh(t,s){return Ey(t)||Ty(t,s)||Ay(t,s)||Iy()}function Ey(t){if(Array.isArray(t))return t}function Ty(t,s){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,l=!1,o,i;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(s&&n.length===s));a=!0);}catch(d){l=!0,i=d}finally{try{!a&&r.return!=null&&r.return()}finally{if(l)throw i}}return n}}function Ay(t,s){if(t){if(typeof t=="string")return $m(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $m(t,s)}}function $m(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,n=new Array(s);r<s;r++)n[r]=t[r];return n}function Iy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nt=function(s,r,n){var a=!!n,l=Fe.useRef(n);Fe.useEffect(function(){l.current=n},[n]),Fe.useEffect(function(){if(!a||!s)return function(){};var o=function(){l.current&&l.current.apply(l,arguments)};return s.on(r,o),function(){s.off(r,o)}},[a,r,s,l])},Gi=function(s){var r=Fe.useRef(s);return Fe.useEffect(function(){r.current=s},[s]),r.current},mn=function(s){return s!==null&&al(s)==="object"},Ry=function(s){return mn(s)&&typeof s.then=="function"},$y=function(s){return mn(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},Mm="[object Object]",My=function t(s,r){if(!mn(s)||!mn(r))return s===r;var n=Array.isArray(s),a=Array.isArray(r);if(n!==a)return!1;var l=Object.prototype.toString.call(s)===Mm,o=Object.prototype.toString.call(r)===Mm;if(l!==o)return!1;if(!l&&!n)return s===r;var i=Object.keys(s),d=Object.keys(r);if(i.length!==d.length)return!1;for(var h={},g=0;g<i.length;g+=1)h[i[g]]=!0;for(var u=0;u<d.length;u+=1)h[d[u]]=!0;var x=Object.keys(h);if(x.length!==i.length)return!1;var E=s,k=r,F=function(j){return t(E[j],k[j])};return x.every(F)},$h=function(s,r,n){return mn(s)?Object.keys(s).reduce(function(a,l){var o=!mn(r)||!My(s[l],r[l]);return n.includes(l)?(o&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),a):o?Rm(Rm({},a||{}),{},Ih({},l,s[l])):a},null):null},Mh="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Lm=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mh;if(s===null||$y(s))return s;throw new Error(r)},Ly=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mh;if(Ry(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(a){return Lm(a,r)})};var n=Lm(s,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},By=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.3.0"}),s.registerAppInfo({name:"react-stripe-js",version:"5.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},Zc=Fe.createContext(null);Zc.displayName="ElementsContext";var Fy=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},Lh=function(s){var r=s.stripe,n=s.options,a=s.children,l=Fe.useMemo(function(){return Ly(r)},[r]),o=Fe.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(n):null}}),i=Rh(o,2),d=i[0],h=i[1];Fe.useEffect(function(){var x=!0,E=function(F){h(function(b){return b.stripe?b:{stripe:F,elements:F.elements(n)}})};return l.tag==="async"&&!d.stripe?l.stripePromise.then(function(k){k&&x&&E(k)}):l.tag==="sync"&&!d.stripe&&E(l.stripe),function(){x=!1}},[l,d,n]);var g=Gi(r);Fe.useEffect(function(){g!==null&&g!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,r]);var u=Gi(n);return Fe.useEffect(function(){if(d.elements){var x=$h(n,u,["clientSecret","fonts"]);x&&d.elements.update(x)}},[n,u,d.elements]),Fe.useEffect(function(){By(d.stripe)},[d.stripe]),Fe.createElement(Zc.Provider,{value:d},a)};Lh.propTypes={stripe:De.any,options:De.object};De.func.isRequired;var Bh=Fe.createContext(null);Bh.displayName="CheckoutContext";De.any,De.shape({clientSecret:De.oneOfType([De.string,De.instanceOf(Promise)]).isRequired,elementsOptions:De.object}).isRequired;var Bm=function(s){var r=Fe.useContext(Bh),n=Fe.useContext(Zc);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return Fy(n,s)},_y=["mode"],Dy=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Ot=function(s,r){var n="".concat(Dy(s),"Element"),a=function(d){var h=d.id,g=d.className,u=d.options,x=u===void 0?{}:u,E=d.onBlur,k=d.onFocus,F=d.onReady,b=d.onChange,j=d.onEscape,y=d.onClick,f=d.onLoadError,T=d.onLoaderStart,S=d.onNetworksChange,p=d.onConfirm,C=d.onCancel,R=d.onShippingAddressChange,G=d.onShippingRateChange,K=d.onSavedPaymentMethodRemove,X=d.onSavedPaymentMethodUpdate,_=Bm("mounts <".concat(n,">")),Z="elements"in _?_.elements:null,q="checkoutState"in _?_.checkoutState:null,v=(q==null?void 0:q.type)==="success"||(q==null?void 0:q.type)==="loading"?q.sdk:null,$=Fe.useState(null),w=Rh($,2),A=w[0],N=w[1],m=Fe.useRef(null),P=Fe.useRef(null);Nt(A,"blur",E),Nt(A,"focus",k),Nt(A,"escape",j),Nt(A,"click",y),Nt(A,"loaderror",f),Nt(A,"loaderstart",T),Nt(A,"networkschange",S),Nt(A,"confirm",p),Nt(A,"cancel",C),Nt(A,"shippingaddresschange",R),Nt(A,"shippingratechange",G),Nt(A,"savedpaymentmethodremove",K),Nt(A,"savedpaymentmethodupdate",X),Nt(A,"change",b);var B;F&&(s==="expressCheckout"?B=F:B=function(){F(A)}),Nt(A,"ready",B),Fe.useLayoutEffect(function(){if(m.current===null&&P.current!==null&&(Z||v)){var D=null;if(v)switch(s){case"payment":D=v.createPaymentElement(x);break;case"address":if("mode"in x){var M=x.mode,J=Py(x,_y);if(M==="shipping")D=v.createShippingAddressElement(J);else if(M==="billing")D=v.createBillingAddressElement(J);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":D=v.createExpressCheckoutElement(x);break;case"currencySelector":D=v.createCurrencySelectorElement();break;case"taxId":D=v.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Z&&(D=Z.create(s,x));m.current=D,N(D),D&&D.mount(P.current)}},[Z,v,x]);var U=Gi(x);return Fe.useEffect(function(){if(m.current){var D=$h(x,U,["paymentRequest"]);D&&"update"in m.current&&m.current.update(D)}},[x,U]),Fe.useLayoutEffect(function(){return function(){if(m.current&&typeof m.current.destroy=="function")try{m.current.destroy(),m.current=null}catch{}}},[]),Fe.createElement("div",{id:h,className:g,ref:P})},l=function(d){Bm("mounts <".concat(n,">"));var h=d.id,g=d.className;return Fe.createElement("div",{id:h,className:g})},o=r?l:a;return o.propTypes={id:De.string,className:De.string,onChange:De.func,onBlur:De.func,onFocus:De.func,onReady:De.func,onEscape:De.func,onClick:De.func,onLoadError:De.func,onLoaderStart:De.func,onNetworksChange:De.func,onConfirm:De.func,onCancel:De.func,onShippingAddressChange:De.func,onShippingRateChange:De.func,onSavedPaymentMethodRemove:De.func,onSavedPaymentMethodUpdate:De.func,options:De.object},o.displayName=n,o.__elementType=s,o},Vt=typeof window>"u",zy=Fe.createContext(null);zy.displayName="EmbeddedCheckoutProviderContext";Ot("auBankAccount",Vt);var Uy=Ot("card",Vt);Ot("cardNumber",Vt);Ot("cardExpiry",Vt);Ot("cardCvc",Vt);Ot("iban",Vt);Ot("payment",Vt);Ot("expressCheckout",Vt);Ot("paymentRequestButton",Vt);Ot("linkAuthentication",Vt);Ot("address",Vt);Ot("shippingAddress",Vt);Ot("paymentMethodMessaging",Vt);Ot("taxId",Vt);var Oy={};const Vy=vy(Oy.REACT_APP_STRIPE_PUBLISHABLE_KEY),ys="https://backendhomeheroes.onrender.com",Hy=t=>({id:t._id||t.id||"",_id:t._id||t.id||"",serviceType:t.serviceType,providerName:t.providerName,providerId:t.providerId,customerId:t.customerId,date:t.date,time:t.time,status:t.status,price:t.price||t.amount,amount:t.amount||t.price,location:t.location,description:t.description,specialRequests:t.specialRequests,rating:t.rating,ratingStatus:t.ratingStatus||{customerRated:!1,providerRated:!1},payment:t.payment,autoRefundAt:t.autoRefundAt,serviceConfirmedByCustomer:t.serviceConfirmedByCustomer,serviceConfirmedAt:t.serviceConfirmedAt,provider:t.provider,providerArrived:t.providerArrived,providerArrivedAt:t.providerArrivedAt,showHeroHereButton:t.showHeroHereButton,customerConfirmedHeroHere:t.customerConfirmedHeroHere,customerConfirmedAt:t.customerConfirmedAt,heroHereConfirmed:t.heroHereConfirmed}),Wy=({paymentData:t,onClose:s,loading:r})=>{const[n,a]=c.useState(""),l=()=>{t.authorizationUrl?(console.log(" Redirecting to Paystack:",t.authorizationUrl),window.location.href=t.authorizationUrl):(a("Paystack payment URL not available"),console.error(" No authorization URL provided by Paystack"))};return t.processor==="paystack"?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-1",children:"Paystack Payment"}),e.jsx("p",{className:"text-sm text-green-700",children:"You'll be redirected to Paystack for secure payment processing."})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",t.amount]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-yellow-600"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsx("strong",{children:"Note:"})," You will be redirected to Paystack to complete your payment securely."]})]})})]}),n&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx(Pe,{className:"w-4 h-4 text-red-600 inline mr-2"}),e.jsx("span",{className:"text-red-700 text-sm",children:n})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:s,disabled:r,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:r,className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Redirecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-4 h-4"}),"Pay ",t.amount," with Paystack"]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[!1,e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",t.amount]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Information"}),e.jsx("div",{className:"border border-gray-300 rounded-lg p-3 bg-white focus-within:ring-2 focus-within:ring-green-500 focus-within:border-transparent",children:e.jsx(Uy,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"},fontFamily:"system-ui, sans-serif"}},hidePostalCode:!0}})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(Et,{className:"w-3 h-3"}),e.jsx("span",{children:"Your payment details are secured and encrypted"})]})]})]}),n&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx(Pe,{className:"w-4 h-4 text-red-600 inline mr-2"}),e.jsx("span",{className:"text-red-700 text-sm",children:n})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:s,disabled:r,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:r,className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-4 h-4"}),"Pay $",t.amount]})})]})]})},qy=({booking:t,onNext:s,loading:r})=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Secure Payment"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Your payment is processed securely. Funds are held until service completion."})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service:"}),e.jsx("span",{className:"font-medium",children:t.serviceType})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:t.providerName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsx("span",{className:"font-medium text-lg text-green-600",children:typeof t.price=="string"?t.price:`${t.price}`})]})]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsx("button",{onClick:s,disabled:r,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Initializing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-4 h-4"}),"Proceed to Payment"]})})})]}),Jy=({onClose:t})=>e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Ne,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Your payment has been processed successfully. Your booking is now confirmed."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Your booking is now confirmed"}),e.jsx("li",{children:" The provider will contact you to schedule the service"}),e.jsx("li",{children:" You'll receive service reminders"}),e.jsx("li",{children:" Payment is secured until service completion"})]})]}),e.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Close"})]}),Gy=({booking:t,onConfirm:s,onClose:r,loading:n})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Confirm Hero Arrival"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:n,children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ws,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Confirm Your Hero is Here"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Please confirm that ",t.providerName," has arrived at your location."]})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service:"}),e.jsx("span",{className:"font-medium",children:t.serviceType})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:t.providerName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"font-medium",children:t.location})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-yellow-600"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsx("strong",{children:"Note:"})," Once confirmed, the 4-hour auto-refund timer will stop and service can begin."]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:r,disabled:n,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:s,disabled:n,className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Confirming..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-4 h-4"}),"Yes, My Hero is Here"]})})]})]})]})}),Yy=()=>{var je;const[t,s]=c.useState([]),[r,n]=c.useState(!0),[a,l]=c.useState(null),[o,i]=c.useState("all"),[d,h]=c.useState(!1),[g,u]=c.useState(!1),[x,E]=c.useState(null),[k,F]=c.useState(!1),[b,j]=c.useState(null),[y,f]=c.useState({newDate:"",newTime:"",reason:""}),[T,S]=c.useState(!1),[p,C]=c.useState(!1),[R,G]=c.useState(null),[K,X]=c.useState("details"),[_,Z]=c.useState(!1),[q,v]=c.useState(null),[$,w]=c.useState(!1),[A,N]=c.useState(null),[m,P]=c.useState(!1),[B,U]=c.useState(null);c.useEffect(()=>{(async()=>{const re=new URLSearchParams(window.location.search),xe=re.get("payment"),ve=re.get("bookingId"),de=re.get("reference"),be=re.get("trxref");console.log(" Checking URL parameters for payment status:",{paymentStatus:xe,bookingId:ve,reference:de,trxref:be}),(xe==="success"||de||be)&&(console.log(" Payment completion detected, refreshing bookings..."),n(!0),setTimeout(async()=>{await D(),(xe==="success"||de&&be)&&alert("Payment completed successfully! Your booking is now confirmed."),window.history.replaceState({},"","/customer")},2e3))})()},[]),c.useEffect(()=>{D()},[]);const D=async()=>{try{n(!0);const Y=localStorage.getItem("authToken");if(!Y)throw new Error("Authentication required. Please log in.");const re=await fetch(`${ys}/api/bookings/customer`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(re.status===401)throw localStorage.removeItem("authToken"),localStorage.removeItem("userData"),new Error("Your session has expired. Please log in again.");if(!re.ok)throw new Error(`Failed to fetch bookings: ${re.status} ${re.statusText}`);const xe=await re.json();if(console.log(" Bookings data received:",xe),xe.success){const ve=xe.data.bookings||[];console.log(" Fetched bookings with payment status:",ve.map(de=>{var be;return{id:de._id,status:de.status,paymentStatus:(be=de.payment)==null?void 0:be.status,provider:de.providerName,providerArrived:de.providerArrived,showHeroHereButton:de.showHeroHereButton,heroHereConfirmed:de.heroHereConfirmed}})),s(ve)}else throw new Error(xe.message||"Failed to fetch bookings")}catch(Y){console.error("Error fetching bookings:",Y),l(Y instanceof Error?Y.message:"An error occurred")}finally{n(!1)}},M=async Y=>{var re;try{U(Y);const xe=localStorage.getItem("authToken");console.log(" Manually checking payment status for booking:",Y);const ve=await fetch(`${ys}/api/bookings/${Y}/payment-status`,{headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"}});if(ve.ok){const de=await ve.json();console.log(" Payment status check result:",de),de.success&&(s(be=>be.map(Re=>Re._id===Y?{...Re,payment:de.data.payment,status:de.data.status}:Re)),(re=de.data.payment)!=null&&re.status&&["held","confirmed","succeeded"].includes(de.data.payment.status)?alert("Payment status updated! Your payment has been confirmed."):alert("Payment status checked. If payment was completed, it may take a few moments to update."))}else console.warn("Could not check payment status, but refreshing bookings anyway");await D()}catch(xe){console.error("Error checking payment status:",xe),await D()}finally{U(null)}},J=async Y=>{console.log(" Payment initiated for booking:",Y);const re=t.find(xe=>xe._id===Y);if(re)try{Z(!0);const xe=await L(re);if(console.log(" Payment initialization result:",xe),xe.processor==="paystack"&&xe.authorizationUrl)if(console.log(" Valid Paystack URL found, redirecting..."),xe.authorizationUrl.includes("checkout.paystack.com"))console.log(" Redirecting to Paystack payment page"),window.location.href=xe.authorizationUrl;else throw new Error("Invalid Paystack payment URL");else throw new Error("No valid payment URL received")}catch(xe){console.error(" Payment initialization error:",xe),alert("Failed to initialize payment: "+(xe instanceof Error?xe.message:"Unknown error"))}finally{Z(!1)}},z=async Y=>{console.log(" Retrying payment for booking:",Y);try{const re=localStorage.getItem("authToken"),ve=await(await fetch(`${ys}/api/bookings/${Y}/retry-payment`,{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}})).json();if(ve.success&&ve.data.authorizationUrl){const de=ve.data.authorizationUrl;if(console.log(" Redirecting to Paystack:",de),!de.includes("checkout.paystack.com")){console.error(" INVALID Paystack URL:",de),alert("Invalid payment URL. Please try again.");return}window.location.href=de}else alert("Failed to retry payment: "+(ve.message||"Unknown error"))}catch(re){console.error(" Retry payment error:",re),alert("Error retrying payment. Please try again.")}},L=async Y=>{var re;try{console.log(" Starting payment for booking:",Y._id);const xe=localStorage.getItem("authToken"),ve={bookingId:Y._id,amount:Y.price||Y.amount};console.log(" Payment payload:",ve);const de=await fetch(`${ys}/api/bookings/${Y._id}/create-payment`,{method:"POST",headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"},body:JSON.stringify(ve)}),be=await de.json();if(console.log(" Full payment response:",be),!de.ok)throw new Error(be.message||`HTTP error! status: ${de.status}`);if(!be.success)throw new Error(be.message||"Payment initialization failed");const Re=(re=be.data)==null?void 0:re.authorizationUrl;if(console.log(" Authorization URL:",Re),!Re)throw console.error(" No authorization URL in response. Full response:",be),new Error("Payment service did not return a payment URL");if(!Re.includes("checkout.paystack.com"))throw console.error(" Invalid Paystack URL:",Re),new Error("Invalid payment URL received");return{processor:"paystack",authorizationUrl:Re,amount:ve.amount}}catch(xe){throw console.error(" Payment initialization failed:",xe),xe}},W=async Y=>{try{P(!0);const re=localStorage.getItem("authToken");if(!re)throw new Error("Authentication required");console.log(" Confirming Hero Here for booking:",Y);const xe=await fetch(`${ys}/api/bookings/${Y}/confirm-hero-here`,{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}}),ve=await xe.json();if(xe.ok&&ve.success)console.log(" Hero Here confirmed successfully"),s(de=>de.map(be=>{var Re;return be._id===Y?{...be,customerConfirmedHeroHere:!0,heroHereConfirmed:!0,customerConfirmedAt:new Date().toISOString(),showHeroHereButton:!1,autoRefundAt:((Re=ve.data)==null?void 0:Re.autoRefundAt)||be.autoRefundAt}:be})),w(!1),N(null),alert("Hero arrival confirmed! The 4-hour refund timer has been stopped and service can begin.");else throw new Error(ve.message||"Failed to confirm hero arrival")}catch(re){console.error(" Error confirming hero here:",re),alert("Failed to confirm hero arrival: "+(re instanceof Error?re.message:"Unknown error"))}finally{P(!1)}},se=Y=>{const re=t.find(xe=>xe._id===Y);re&&(N(re),w(!0))},ne=async Y=>{try{const re=localStorage.getItem("authToken");if(!re)throw new Error("Authentication required");if((await fetch(`${ys}/api/payments/release`,{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:Y})})).ok)s(ve=>ve.map(de=>de._id===Y?{...de,payment:de.payment?{...de.payment,status:"released"}:void 0}:de)),alert("Payment released to provider successfully!");else throw new Error("Failed to release payment")}catch(re){console.error("Error releasing payment:",re),l(re instanceof Error?re.message:"Failed to release payment")}},ee=async Y=>{try{const re=localStorage.getItem("authToken");if(!re)throw new Error("Authentication required");const xe=await fetch(`${ys}/api/payments/confirm-service-completion`,{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:Y})});if(xe.ok){const ve=await xe.json();if(ve.success)s(de=>de.map(be=>be._id===Y?{...be,serviceConfirmedByCustomer:!0,serviceConfirmedAt:new Date().toISOString(),payment:be.payment?{...be.payment,status:"released"}:void 0}:be)),alert("Service completion confirmed! Payment has been released to the provider.");else throw new Error(ve.message||"Failed to confirm service completion")}else throw new Error("Failed to confirm service completion")}catch(re){console.error("Error confirming service completion:",re),l(re instanceof Error?re.message:"Failed to confirm service completion")}},V=async(Y,re)=>{try{const xe=localStorage.getItem("authToken");if(!xe)throw new Error("Authentication required");let ve="",de="PATCH",be=null;switch(re){case"cancel":ve=`${ys}/api/bookings/${Y}/status`,be=JSON.stringify({status:"cancelled"});break;case"reschedule":const Re=t.find(Qt=>Qt._id===Y);Re&&(E(Re),h(!0));return;case"view-details":Q(Y);return;case"contact-message":pe(Y);return;case"contact-phone":ie(Y);return;case"payment":J(Y);return;case"retry-payment":z(Y);return;case"check-payment-status":M(Y);return;case"confirm-hero-here":se(Y);return;default:console.log("Unknown action:",re,Y);return}if(be){const Re=await fetch(ve,{method:de,headers:{Authorization:`Bearer ${xe}`,"Content-Type":"application/json"},body:be});if(Re.status===401)throw localStorage.removeItem("authToken"),localStorage.removeItem("userData"),new Error("Your session has expired. Please log in again.");if(!Re.ok)throw new Error(`Failed to ${re} booking`);await Re.json(),D()}}catch(xe){console.error(`Error ${re} booking:`,xe),l(xe instanceof Error?xe.message:"An error occurred")}},O=async(Y,re,xe)=>{try{const ve=localStorage.getItem("authToken");if(!ve)throw new Error("Authentication required");const de=await fetch(`${ys}/api/ratings/customer`,{method:"POST",headers:{Authorization:`Bearer ${ve}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:Y,rating:re,comment:xe||""})});if(de.ok){const be=await de.json();if(be.success)s(Re=>Re.map(Qt=>{var H;return Qt._id===Y?{...Qt,rating:re,ratingStatus:{customerRated:!0,providerRated:((H=Qt.ratingStatus)==null?void 0:H.providerRated)||!1}}:Qt})),alert("Rating submitted successfully!");else throw new Error(be.message||"Failed to submit rating")}else throw new Error("Failed to submit rating")}catch(ve){console.error("Error submitting rating:",ve);const de=ve instanceof Error?ve.message:"An error occurred";l(de),alert(`Failed to submit rating: ${de}`)}},I=async Y=>{if(Y.preventDefault(),!!x)try{S(!0);const re=localStorage.getItem("authToken");if(!re)throw new Error("Authentication required");const xe=await fetch(`${ys}/api/bookings/reschedule`,{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:x._id,newDate:y.newDate,newTime:y.newTime,reason:y.reason,providerId:x.providerId,customerId:x.customerId})});if(!xe.ok)throw new Error("Failed to submit reschedule request");const ve=await xe.json();if(ve.success)h(!1),E(null),f({newDate:"",newTime:"",reason:""}),D(),alert("Reschedule request submitted successfully! The provider will review your request.");else throw new Error(ve.message||"Failed to submit reschedule request")}catch(re){console.error("Error submitting reschedule:",re),l(re instanceof Error?re.message:"An error occurred")}finally{S(!1)}},Q=Y=>{const re=t.find(xe=>xe._id===Y);re&&(E(re),u(!0))},ie=Y=>{var xe;const re=t.find(ve=>ve._id===Y);re&&((xe=re.provider)!=null&&xe.phoneNumber)?window.location.href=`tel:${re.provider.phoneNumber}`:alert("Phone number not available for this provider")},pe=Y=>{const re=t.find(xe=>xe._id===Y);re&&re.providerEmail?window.location.href=`mailto:${re.providerEmail}`:alert("Email not available for this provider")},le=()=>{window.location.href="/book-service"},ke=Y=>{i(Y)},qe=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),window.location.href="/login"},Ze=t.filter(Y=>{switch(o){case"upcoming":return Y.status==="pending"||Y.status==="confirmed"||Y.status==="upcoming"||Y.status==="awaiting_payment";case"completed":return Y.status==="completed";case"cancelled":return Y.status==="cancelled";default:return!0}}),ze=Y=>{try{return new Date(Y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return Y}},te=t.filter(Y=>Y.status==="pending"||Y.status==="confirmed"||Y.status==="upcoming"||Y.status==="awaiting_payment"),ae=t.filter(Y=>Y.status==="completed"),ge=t.filter(Y=>Y.status==="cancelled"),Se=Ze.map(Hy);return r?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 text-xl mb-4",children:"Error loading bookings"}),e.jsx("div",{className:"text-gray-600 mb-4",children:a}),e.jsxs("div",{className:"space-x-4",children:[e.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Try Again"}),e.jsx("button",{onClick:qe,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Logout"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-2 px-0",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-2 lg:px-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 rounded-3xl p-8 mb-7",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-gradient-to-br from-emerald-400 to-teal-600 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-green-400 to-blue-600 rounded-full blur-3xl transform translate-x-1/2 translate-y-1/2"})]}),e.jsxs("div",{className:"relative flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-600 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Me,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-emerald-800 to-teal-800 bg-clip-text text-transparent",children:"My Bookings"})]}),e.jsx("p",{className:"text-gray-700 text-lg font-medium max-w-md",children:"Manage your service appointments and track your booking history"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsxs("button",{onClick:le,className:"group bg-gradient-to-r from-emerald-600 via-green-600 to-teal-700 text-white px-8 py-3 rounded-2xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg",children:[e.jsx(dr,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),e.jsx("span",{children:"Book New Service"})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"All Bookings",count:t.length,color:"blue"},{label:"Upcoming",count:te.length,color:"green"},{label:"Completed",count:ae.length,color:"emerald"},{label:"Cancelled",count:ge.length,color:"red"}].map(Y=>e.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-gray-200 cursor-pointer ${o.toLowerCase()===Y.label.toLowerCase()?"ring-2 ring-blue-500 shadow-lg":""}`,onClick:()=>ke(Y.label.toLowerCase()),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-14 h-14 bg-gradient-to-br from-${Y.color}-500 to-${Y.color}-600 rounded-2xl flex items-center justify-center shadow-lg`,children:e.jsx(Me,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Y.count})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:Y.label}),e.jsx("p",{className:"text-xs text-gray-600",children:"Total service appointments"})]})]},Y.label))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[o==="all"&&"All Bookings",o==="upcoming"&&"Upcoming Bookings",o==="completed"&&"Completed Bookings",o==="cancelled"&&"Cancelled Bookings"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[o==="all"&&"All your service appointments",o==="upcoming"&&"Your upcoming service appointments",o==="completed"&&"Completed service appointments",o==="cancelled"&&"Cancelled service appointments"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["all","upcoming","completed","cancelled"].map(Y=>e.jsx("button",{onClick:()=>ke(Y),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ${o===Y?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:Se.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Me,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:o==="all"?"You haven't made any service bookings yet.":`No ${o} bookings found.`}),o!=="all"&&e.jsx("button",{onClick:()=>ke("all"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors mr-2",children:"View All Bookings"}),e.jsx("button",{onClick:le,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Book Your First Service"})]}):Se.map(Y=>e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsx(iy,{booking:Y,onReschedule:re=>V(re,"reschedule"),onCancel:re=>V(re,"cancel"),onContact:(re,xe)=>V(re,`contact-${xe}`),onViewDetails:re=>Q(re),onRateProvider:O,onPaymentSuccess:J,onRetryPayment:z,onReleasePayment:ne,onSeenProvider:ee,onConfirmHeroHere:re=>V(re,"confirm-hero-here"),userType:"customer"})},Y.id))}),Se.length>0&&e.jsx("div",{className:"flex justify-center pt-8",children:e.jsxs("button",{onClick:D,className:"bg-gray-50 text-gray-700 hover:text-blue-700 px-8 py-3 rounded-xl border border-gray-200 hover:border-blue-200 transition-all duration-300 flex items-center space-x-3 font-medium hover:shadow-sm",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh All Bookings"})]})})]})]})]}),d&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reschedule Booking"}),e.jsx("button",{onClick:()=>{h(!1),E(null),f({newDate:"",newTime:"",reason:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Current Booking Details"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Service:"})," ",x.serviceType,e.jsx("br",{}),e.jsx("strong",{children:"Provider:"})," ",x.providerName,e.jsx("br",{}),e.jsx("strong",{children:"Current Date:"})," ",ze(x.date),e.jsx("br",{}),e.jsx("strong",{children:"Location:"})," ",x.location]})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Date"}),e.jsx("input",{type:"date",required:!0,value:y.newDate,onChange:Y=>f({...y,newDate:Y.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Time"}),e.jsx("input",{type:"time",required:!0,value:y.newTime,onChange:Y=>f({...y,newTime:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Rescheduling"}),e.jsx("textarea",{required:!0,value:y.reason,onChange:Y=>f({...y,reason:Y.target.value}),placeholder:"Please explain why you need to reschedule...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),E(null),f({newDate:"",newTime:"",reason:""})},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:T,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Submitting...":"Submit Request"})]})]})]})})}),g&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),e.jsx("button",{onClick:()=>{u(!1),E(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Service Type"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.serviceType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${x.status==="completed"?"bg-green-100 text-green-800":x.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:x.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Provider"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.providerName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Date & Time"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[ze(x.date)," at ",x.time]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Location"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Price"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[((je=x.payment)==null?void 0:je.currency)==="GBP"?"":"",x.price]})]}),x.description&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900",children:x.description})]}),x.specialRequests&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Special Requests"}),e.jsx("p",{className:"text-sm text-gray-900",children:x.specialRequests})]}),x.provider&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Provider Contact"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:x.provider.phoneNumber})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:x.provider.email})]})]})]}),x.rating&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Your Rating"}),e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(Y=>e.jsx(Te,{className:`w-4 h-4 ${Y<=x.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Y)),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",x.rating,"/5)"]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{u(!1),E(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"}),(x.status==="pending"||x.status==="confirmed"||x.status==="upcoming")&&e.jsx("button",{onClick:()=>{u(!1),V(x._id,"reschedule")},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Reschedule"}),x.status==="completed"&&!x.rating&&e.jsx("button",{onClick:()=>{u(!1),j(x),F(!0)},className:"flex-1 px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"Rate Provider"})]})})]})]})})}),k&&b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Rate Your Experience"}),e.jsx("button",{onClick:()=>{F(!1),j(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["How was your experience with ",b.providerName,"?"]}),e.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(Y=>e.jsx("button",{onClick:()=>O(b._id,Y),className:"text-3xl transition-transform hover:scale-110",children:e.jsx(Te,{className:`w-8 h-8 ${Y<=(b.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`})},Y))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{F(!1),j(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{F(!1),j(null)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Submit Rating"})]})]})}),p&&R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[K==="details"&&"Complete Payment",K==="payment"&&"Enter Card Details",K==="success"&&"Payment Successful"]}),e.jsx("button",{onClick:()=>{C(!1),G(null),X("details"),v(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:_,children:e.jsx(Ae,{className:"w-6 h-6"})})]}),K==="details"&&e.jsx(qy,{booking:R,onNext:()=>L(R),loading:_}),K==="payment"&&q&&e.jsx(Lh,{stripe:Vy,children:e.jsx(Wy,{paymentData:q,onClose:()=>{C(!1),G(null),X("details"),v(null)},loading:_})}),K==="success"&&e.jsx(Jy,{onClose:()=>{C(!1),G(null),X("details"),v(null)}})]})})}),$&&A&&e.jsx(Gy,{booking:A,onConfirm:()=>W(A._id),onClose:()=>{w(!1),N(null)},loading:m})]})},Ky=({jobPost:t,onEdit:s,onViewProposals:r,onDelete:n,onToggleFavorite:a,isFavorite:l=!1})=>{const[o,i]=c.useState(!1),d=E=>{switch(E){case"open":return e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"});case"in-progress":return e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"});case"completed":return e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"});case"paused":return e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"});case"cancelled":return e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"});default:return e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}},h=E=>{const k="inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold";switch(E){case"pending":return`${k} bg-yellow-100 text-yellow-800`;case"accepted":return`${k} bg-blue-100 text-blue-800`;case"completed":return`${k} bg-green-100 text-green-800`;case"cancelled":return`${k} bg-red-100 text-red-800`;case"rejected":return`${k} bg-red-100 text-red-800`;default:return`${k} bg-gray-100 text-gray-600`}},g=E=>E.split(" ").slice(0,2).map(k=>k[0]).join("").toUpperCase(),u=E=>{const k=parseInt(E.replace(/\D/g,""));return k>=5e3?"bg-gradient-to-br from-purple-600 to-pink-600":k>=2e3?"bg-gradient-to-br from-blue-600 to-purple-600":"bg-gradient-to-br from-green-600 to-blue-600"},x=t.proposalCount||t.proposals||0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"group bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300 p-4 relative",children:[e.jsxs("div",{className:"flex flex-col sm:hidden space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-12 h-12 ${u(t.budget)} rounded-xl flex items-center justify-center text-white font-bold text-sm`,children:g(t.title)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1 line-clamp-2",children:t.title}),e.jsxs("div",{className:h(t.status),children:[d(t.status),e.jsx("span",{children:t.status.replace("-"," ")})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("div",{className:"relative",children:e.jsx("button",{onClick:()=>i(!o),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Ml,{className:"w-4 h-4"})})})})]})})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wt,{className:"w-3 h-3"}),e.jsx("span",{className:"font-semibold text-emerald-600",children:t.budget})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zs,{className:"w-3 h-3"}),e.jsxs("span",{children:[x," proposals"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),e.jsx("span",{children:t.duration})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.datePosted})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>r(t._id||t.id),className:"flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-600 text-sm rounded-lg hover:bg-blue-100",children:[e.jsx(rt,{className:"w-3 h-3"}),e.jsx("span",{children:"View"})]})}),e.jsx("button",{onClick:()=>s(t._id||t.id),className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200",children:"Edit"})]})]}),e.jsxs("div",{className:"hidden sm:flex items-start gap-4",children:[e.jsx("div",{className:`w-14 h-14 ${u(t.budget)} rounded-xl flex items-center justify-center text-white font-bold text-lg`,children:g(t.title)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),e.jsxs("div",{className:h(t.status),children:[d(t.status),e.jsx("span",{children:t.status.replace("-"," ")})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"relative",children:e.jsx("button",{onClick:()=>i(!o),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ml,{className:"w-4 h-4"})})})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wt,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"font-semibold text-emerald-600",children:t.budget})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:t.duration})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zs,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{children:[x," proposals"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:["Posted ",t.datePosted]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>r(t._id||t.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"View Proposals"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>s(t._id||t.id),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm",children:"Edit Job"}),e.jsx("button",{onClick:()=>n(t._id||t.id),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 text-sm",children:"Delete"})]})]})]})]}),o&&e.jsxs("div",{className:"absolute right-4 top-12 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50 min-w-32",children:[e.jsxs("button",{onClick:()=>{r(t._id||t.id),i(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-md flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{children:"View Proposals"})]}),e.jsxs("button",{onClick:()=>{s(t._id||t.id),i(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-md flex items-center gap-2",children:[e.jsx(ja,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Job"})]}),e.jsxs("button",{onClick:()=>{n(t._id||t.id),i(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 rounded-md flex items-center gap-2 text-red-600",children:[e.jsx(us,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})},bs="https://backendhomeheroes.onrender.com",Qy=({authToken:t,userId:s})=>{const[r,n]=c.useState([]),[a,l]=c.useState(!0),[o,i]=c.useState(null),[d,h]=c.useState(""),[g,u]=c.useState("all"),[x,E]=c.useState(!1),[k,F]=c.useState(!1),[b,j]=c.useState(!1),[y,f]=c.useState(!1),[T,S]=c.useState(null),[p,C]=c.useState(null),[R,G]=c.useState([]),[K,X]=c.useState(!1),_=Ut(),Z=()=>{const M=t||localStorage.getItem("authToken")||localStorage.getItem("token");return console.log(" Getting auth token:",M?"Token exists":"No token"),M};c.useEffect(()=>{q()},[s]);const q=async()=>{var M,J,z,L;try{const W=Z();if(!W){console.error(" No auth token found"),i("Authentication required"),l(!1),_("/login");return}console.log(" Fetching job posts with token");try{console.log(" Testing debug endpoint...");const ee=await fetch(`${bs}/api/debug/service-requests`,{headers:{Authorization:`Bearer ${W}`}});if(ee.ok){const V=await ee.json();console.log(" Debug endpoint response:",V)}}catch{console.log("Debug endpoint not available, continuing...")}const se=await fetch(`${bs}/api/service-requests/customer?t=${Date.now()}`,{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(console.log(" Jobs response status:",se.status),se.status===401){localStorage.removeItem("authToken"),localStorage.removeItem("token"),i("Session expired. Please login again."),l(!1),_("/login");return}if(!se.ok){const ee=await se.text();throw console.error(" Failed to fetch job posts:",se.status,ee),new Error(`Failed to fetch job posts: ${se.status} ${ee}`)}const ne=await se.json();if(ne.success){console.log(" Jobs data received:",{count:((J=(M=ne.data)==null?void 0:M.jobs)==null?void 0:J.length)||0,jobs:(L=(z=ne.data)==null?void 0:z.jobs)==null?void 0:L.map(O=>{var I;return{id:O._id,title:O.serviceType,proposals:((I=O.proposals)==null?void 0:I.length)||0,hasId:!!O._id}})});const ee=(ne.data.jobs||[]).filter(O=>!O._id);ee.length>0&&(console.warn(" Jobs without _id from API:",ee.length),ee.forEach((O,I)=>{var Q;console.warn(`Job ${I+1} without _id:`,{serviceType:O.serviceType,description:(Q=O.description)==null?void 0:Q.substring(0,100),createdAt:O.createdAt})}));const V=(ne.data.jobs||[]).map((O,I)=>{var ie,pe,le;const Q=O._id||`job-${Date.now()}-${I}-${Math.random().toString(36).substring(2,9)}`;return console.log(" Processing job:",{originalId:O._id,generatedId:Q,title:O.serviceType,proposalsCount:((ie=O.proposals)==null?void 0:ie.length)||0}),{_id:Q,id:Q,title:O.serviceType||"Untitled Service",description:O.description||"No description provided",budget:O.budget||"0",category:O.category||"general",location:O.location||"Location not specified",status:O.status||"pending",createdAt:O.createdAt||new Date().toISOString(),datePosted:O.createdAt?new Date(O.createdAt).toLocaleDateString():"Just now",duration:O.estimatedDuration||"Not specified",proposals:((pe=O.proposals)==null?void 0:pe.length)||0,proposalCount:((le=O.proposals)==null?void 0:le.length)||0,serviceType:O.serviceType,urgency:O.urgency,timeframe:O.timeframe,originalData:O._id?void 0:{...O,_id:"MISSING_IN_API"}}});console.log(" Transformed jobs:",V.map(O=>({_id:O._id,title:O.title,proposals:O.proposals,hasOriginalId:!O._id.startsWith("job-")}))),n(V)}else console.error(" API returned error:",ne.message),i(ne.message||"Failed to fetch job posts")}catch(W){console.error("Fetch error:",W),i(W instanceof Error?W.message:"An error occurred")}finally{l(!1)}},v=r.filter(M=>{const J=M.title.toLowerCase().includes(d.toLowerCase())||M.description.toLowerCase().includes(d.toLowerCase()),z=g==="all"||M.status===g;return J&&z}),$=M=>{console.log(" Edit job:",M);const J=r.find(z=>z._id===M||z.id===M);J?(S(J),C({serviceType:J.serviceType||J.title,description:J.description,location:J.location,budget:J.budget,category:J.category,urgency:J.urgency||"normal",timeframe:J.timeframe||"ASAP"}),j(!0)):console.error(" Job not found for editing:",M)},w=async M=>{var z,L,W,se,ne,ee,V,O;if(console.log(" View proposals for job ID:",M),!M||M==="undefined"||M==="null"||M.startsWith("temp-")){console.error(" Cannot view proposals: Invalid job ID:",M),alert("Cannot view proposals: Invalid job ID. Please refresh the page and try again.");return}const J=r.find(I=>I._id===M||I.id===M);if(!J){console.error(" Job not found in local state:",M),alert("Job not found. Please refresh the page.");return}console.log(" Found job:",{id:J._id,title:J.title,proposalsCount:J.proposals}),S(J),X(!0);try{const I=Z();if(!I){alert("Please log in to view proposals"),_("/login");return}console.log(" Fetching proposals for job:",M);try{const Q=await fetch(`${bs}/api/service-requests/${M}/proposals`,{headers:{Authorization:`Bearer ${I}`}});if(console.log(" Direct proposals response status:",Q.status),Q.ok){const ie=await Q.json();console.log(" Direct proposals data:",{success:ie.success,count:((L=(z=ie.data)==null?void 0:z.proposals)==null?void 0:L.length)||0,proposals:(se=(W=ie.data)==null?void 0:W.proposals)==null?void 0:se.map(le=>{var ke;return{id:le._id,provider:(ke=le.providerId)==null?void 0:ke.name,status:le.status}})});const pe=((ne=ie.data)==null?void 0:ne.proposals)||[];G(pe),pe.length>0&&n(le=>le.map(ke=>ke._id===M||ke.id===M?{...ke,proposals:pe.length,proposalCount:pe.length}:ke))}else{console.log(" Direct endpoint failed, trying unified endpoint...");const ie=await fetch(`${bs}/api/jobs/${M}/proposals`,{headers:{Authorization:`Bearer ${I}`}});if(ie.ok){const pe=await ie.json();console.log(" Unified proposals:",{success:pe.success,count:((V=(ee=pe.data)==null?void 0:ee.proposals)==null?void 0:V.length)||0});const le=((O=pe.data)==null?void 0:O.proposals)||[];G(le)}else console.log(" All endpoints failed for job:",M),G([])}}catch(Q){console.error(" Error fetching proposals:",Q),G([])}}catch(I){console.error(" Error in handleViewProposals:",I),G([])}finally{X(!1),f(!0)}},A=async M=>{if(!T||!T._id){console.error(" No selected job for accepting proposal");return}try{const J=Z();if(!J){_("/login");return}console.log(" Accepting proposal:",{jobId:T._id,proposalId:M});const z=await fetch(`${bs}/api/service-requests/${T._id}/proposals/${M}/accept`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}}),L=await z.json();if(console.log(" Accept proposal response:",L),z.ok)await w(T._id),await q(),alert("Proposal accepted successfully! The provider has been notified.");else{const W=L.message||"Failed to accept proposal";console.error(" Accept proposal error:",W),alert(`Failed to accept proposal: ${W}`)}}catch(J){console.error(" Accept proposal error:",J),alert(J instanceof Error?J.message:"Failed to accept proposal")}},N=async M=>{console.log(" Delete job:",M);const J=r.find(z=>z._id===M||z.id===M);J?(S(J),F(!0)):console.error(" Job not found for deletion:",M)},m=async()=>{if(!T||!T._id){console.error(" No selected job to delete");return}try{const M=Z();if(!M){_("/login");return}if((await fetch(`${bs}/api/service-requests/${T._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).ok)n(z=>z.filter(L=>L._id!==T._id)),F(!1),S(null),alert("Job deleted successfully!");else throw new Error("Failed to delete job post")}catch(M){console.error("Delete error:",M),alert(M instanceof Error?M.message:"Failed to delete job post")}},P=async M=>{if(M.preventDefault(),!T||!T._id||!p){console.error(" Missing data for update");return}try{const J=Z();if(!J){_("/login");return}if((await fetch(`${bs}/api/service-requests/${T._id}`,{method:"PUT",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)n(L=>L.map(W=>W._id===T._id?{...W,...p,title:p.serviceType}:W)),j(!1),S(null),C(null),alert("Job updated successfully!");else throw new Error("Failed to update job post")}catch(J){console.error("Update error:",J),alert(J instanceof Error?J.message:"Failed to update job post")}},B=async M=>{var J,z,L,W,se,ne;try{const ee=((J=M.providerId)==null?void 0:J._id)||M.providerId,V=((z=M.providerId)==null?void 0:z.name)||((L=M.provider)==null?void 0:L.name)||"Provider";if(!ee){alert("Provider information not available");return}console.log(" Starting conversation with provider:",{providerId:ee,providerName:V});const O=Z();if(!O){alert("Please log in to message providers");return}const I=await fetch(`${bs}/api/messages/conversation`,{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({participantId:ee})});if(I.ok){const Q=await I.json();console.log(" Conversation created:",Q);const ie=((se=(W=Q.data)==null?void 0:W.conversation)==null?void 0:se._id)||((ne=Q.conversation)==null?void 0:ne._id);ie?_("/customer/messages",{state:{activeConversationId:ie,providerName:V}}):_("/customer/messages")}else _("/customer/messages")}catch(ee){console.error(" Error starting conversation:",ee),_("/customer/messages")}},U=M=>{var z;const J=((z=M.providerId)==null?void 0:z._id)||M.providerId;if(!J){alert("Provider information not available");return}console.log(" Viewing provider profile:",J),_(`/customer/provider/${J}`)},D=async M=>{try{console.log(" Handling job posting...",M);const J=M.budget&&parseInt(M.budget.replace(/[^\d]/g,""))||0,z=Z();if(!z){alert("Please log in to post a job");return}const L={serviceType:M.serviceType,description:M.description,location:M.location,urgency:M.urgency,timeframe:M.timeframe,budget:M.budget,budgetAmount:J,category:M.category,skillsRequired:M.skillsRequired,estimatedDuration:M.estimatedDuration,preferredSchedule:M.preferredSchedule,status:"pending"},se=await(await fetch(`${bs}/api/service-requests`,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify(L)})).json();if(se.success){const ne=se.data._id||se.data.id;if(console.log(" Job created with ID:",ne),J>0)try{const ee="Nigeria";console.log(" Initiating payment for job:",ne);const O=await(await fetch(`${bs}/api/jobs/${ne}/create-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({amount:J,customerCountry:ee})})).json();O.success&&O.data.authorizationUrl?window.location.href=O.data.authorizationUrl:(console.log(" Job posted without payment (or payment pending)"),alert("Job posted successfully!"),E(!1),q())}catch(ee){console.error("Payment initiation error:",ee),alert("Job posted successfully but payment initiation failed. Please contact support.")}else alert("Job posted successfully!"),E(!1),q()}else alert("Failed to post job: "+se.message)}catch(J){console.error("Error posting job:",J);const z=J instanceof Error?J.message:"Unknown error occurred";alert("Error posting job: "+z)}};return a?e.jsx("div",{className:"flex justify-center items-center min-h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):o?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error"}),e.jsx("p",{className:"text-red-600",children:o}),e.jsx("button",{onClick:q,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"}),e.jsx("button",{onClick:()=>_("/login"),className:"mt-4 ml-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Login Again"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 rounded-3xl p-8",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-gradient-to-br from-emerald-400 to-teal-600 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-green-400 to-green-600 rounded-full blur-3xl transform translate-x-1/2 translate-y-1/2"})]}),e.jsxs("div",{className:"relative flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-600 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Tr,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-emerald-800 to-teal-800 bg-clip-text text-transparent",children:"My Job Posts"})]}),e.jsx("p",{className:"text-gray-700 text-lg font-medium max-w-md",children:"Manage your long-term service contracts and connect with skilled professionals"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{className:"group bg-white/80 backdrop-blur-sm border border-white/50 text-gray-700 px-6 py-3 rounded-2xl hover:bg-white hover:shadow-xl transition-all duration-300 flex items-center space-x-2 font-semibold",children:[e.jsx(rt,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300"}),e.jsx("span",{children:"View Analytics"})]}),e.jsxs("button",{onClick:()=>E(!0),className:"group bg-gradient-to-r from-emerald-600 via-green-600 to-teal-700 text-white px-8 py-3 rounded-2xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg",children:[e.jsx(dr,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),e.jsx("span",{children:"Post New Job"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search jobs...",value:d,onChange:M=>h(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),e.jsxs("select",{value:g,onChange:M=>u(M.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"awaiting_hero",children:"Awaiting Hero"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(so,{className:"w-5 h-5"}),e.jsx("span",{children:"More Filters"})]})]}),e.jsx("div",{className:"space-y-4",children:v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No job posts yet"}),e.jsx("p",{className:"text-gray-600",children:"Get started by posting your first service request"})]}):v.map(M=>e.jsxs("div",{className:"relative",children:[e.jsx(Ky,{jobPost:M,onEdit:$,onViewProposals:w,onDelete:N}),!1]},M._id))})]}),e.jsx(jh,{isOpen:x,onClose:()=>E(!1),onSubmit:D}),k&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Delete Job Post"}),e.jsx("button",{onClick:()=>{F(!1),S(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the job post "',e.jsx("strong",{children:T.title}),'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{F(!1),S(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete"})]})]})})}),b&&T&&p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit Job Post"}),e.jsx("button",{onClick:()=>{j(!1),S(null),C(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),e.jsx("input",{type:"text",value:p.serviceType||"",onChange:M=>C({...p,serviceType:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:p.description||"",onChange:M=>C({...p,description:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",rows:4,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:p.location||"",onChange:M=>C({...p,location:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),e.jsx("input",{type:"text",value:p.budget||"",onChange:M=>C({...p,budget:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{j(!1),S(null),C(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Save Changes"})]})]})]})})}),y&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Proposals for ",T.title]}),e.jsxs("p",{className:"text-gray-600",children:[R.length," proposals received"]})]}),e.jsx("button",{onClick:()=>{f(!1),S(null),G([])},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),K?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading proposals..."})]}):R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(zs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Proposals Yet"}),e.jsx("p",{className:"text-gray-600",children:"No providers have submitted proposals for this job yet."})]}):e.jsx("div",{className:"space-y-4",children:R.map((M,J)=>{var z,L,W,se;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 cursor-pointer hover:text-green-600 transition-colors inline-block",onClick:()=>U(M),children:((z=M.providerId)==null?void 0:z.name)||((L=M.provider)==null?void 0:L.name)||"Unknown Provider"}),e.jsx("p",{className:"text-sm text-gray-600",children:((W=M.providerId)==null?void 0:W.email)||((se=M.provider)==null?void 0:se.email)||"No email provided"})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M.status==="accepted"?"bg-green-100 text-green-800":M.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:M.status||"pending"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Proposed Budget"}),e.jsx("p",{className:"text-sm font-semibold text-emerald-600",children:M.proposedBudget||M.budget||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Timeline"}),e.jsx("p",{className:"text-sm text-gray-900",children:M.timeline||M.estimatedDuration||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Submitted"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(M.createdAt||M.submittedAt).toLocaleDateString()})]})]}),(M.message||M.proposalText)&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Message"}),e.jsx("p",{className:"text-sm text-gray-900",children:M.message||M.proposalText})]}),(M.status==="pending"||!M.status)&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(M._id),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm",children:"Accept Proposal"}),e.jsxs("button",{onClick:()=>B(M),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm flex items-center gap-2",children:[e.jsx(Ds,{className:"w-4 h-4"}),"Message Provider"]})]})]},M._id||`proposal-${J}`)})})]})})})]})},Fm="https://backendhomeheroes.onrender.com",Zy=({isOpen:t,provider:s,onClose:r,callType:n})=>{const[a,l]=c.useState("connecting"),[o,i]=c.useState(!1),[d,h]=c.useState(!0),[g,u]=c.useState(n==="video"),[x,E]=c.useState(0),[k,F]=c.useState(null),[b,j]=c.useState(""),y=c.useRef(null),f=c.useRef(null),T=c.useRef(null),S=()=>{T.current&&(clearInterval(T.current),T.current=null),k&&(k.getTracks().forEach(q=>q.stop()),F(null))};c.useEffect(()=>{if(!t){S();return}if(a==="connecting"){const q=setTimeout(()=>{l("connected"),R()},2e3);return p(),()=>clearTimeout(q)}return S},[t,a,n]);const p=async()=>{try{if(j(""),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Media devices not supported in this browser");const q=await navigator.mediaDevices.getUserMedia({video:n==="video",audio:!0});F(q),y.current&&n==="video"&&(y.current.srcObject=q),f.current&&n==="video"&&C()}catch(q){console.error("Error accessing media devices:",q);let v="Could not access camera/microphone.";q.name==="NotAllowedError"?v="Camera/microphone access denied. Please allow permissions and try again.":q.name==="NotFoundError"?v="No camera or microphone found on this device.":q.name==="NotSupportedError"&&(v="Media devices not supported in this browser."),j(v)}},C=()=>{if(f.current)try{const q=document.createElement("canvas");q.width=640,q.height=480;const v=q.getContext("2d");if(v){let $=0;const w=()=>{const N=v.createLinearGradient(0,0,640,480);N.addColorStop(0,"#4F46E5"),N.addColorStop(1,"#7C3AED"),v.fillStyle=N,v.fillRect(0,0,640,480),v.fillStyle="white",v.font="bold 64px Arial",v.textAlign="center",v.textBaseline="middle";const m=s.avatar||s.name.split(" ").map(B=>B[0]).join("").toUpperCase();v.fillText(m,320,220),v.font="bold 24px Arial",v.fillText(s.name,320,300),v.font="18px Arial",v.fillStyle="rgba(255, 255, 255, 0.8)",v.fillText(s.services[0]||"Service Provider",320,330);const P=(Math.sin($*.1)+1)*.5;v.fillStyle=`rgba(255, 255, 255, ${P})`,v.font="16px Arial",v.fillText(" Connected",320,380),$++,a==="connected"&&requestAnimationFrame(w)};w();const A=q.captureStream(30);f.current.srcObject=A}}catch(q){console.error("Error creating mock video:",q)}},R=()=>{T.current=setInterval(()=>{E(q=>q+1)},1e3)},G=q=>{const v=Math.floor(q/60),$=q%60;return`${v.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},K=()=>{l("ended"),S(),setTimeout(()=>{r(),l("connecting"),E(0),i(!1),h(!0),u(n==="video"),j("")},1500)},X=()=>{i(!o),k&&k.getAudioTracks().forEach(q=>{q.enabled=o})},_=()=>{u(!g),k&&k.getVideoTracks().forEach(q=>{q.enabled=!g})},Z=()=>{h(!d)};return t?e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-6 sm:p-8 w-full max-w-2xl shadow-2xl border border-white/20",children:[b&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800 text-sm",children:b})}),n==="video"&&a==="connected"&&!b&&e.jsxs("div",{className:"relative mb-6 bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl sm:rounded-2xl overflow-hidden shadow-2xl",style:{height:"400px"},children:[e.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-4 right-4 w-28 h-20 sm:w-32 sm:h-24 bg-gray-800 rounded-lg sm:rounded-xl overflow-hidden border-2 border-white/80 shadow-lg",children:[e.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),(!k||!g)&&e.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"You"})})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl",children:s.name}),e.jsx("p",{className:"text-sm opacity-75",children:s.services[0]})]})]}),n==="audio"&&e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-2xl sm:text-4xl mx-auto mb-4 shadow-xl",children:s.avatar||s.name.charAt(0)}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600 mb-2",children:s.services[0]})]}),e.jsxs("div",{className:"text-center mb-6",children:[a==="connecting"&&e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 sm:h-6 sm:w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Connecting..."})]}),a==="connected"&&!b&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-emerald-600 font-bold text-sm sm:text-base",children:"Connected"}),e.jsxs("span",{className:"text-gray-600 text-sm sm:text-base",children:[" ",G(x)]})]}),a==="ended"&&e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Call ended"}),e.jsxs("p",{className:"text-gray-500 text-xs sm:text-sm",children:["Duration: ",G(x)]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-3 sm:space-x-4",children:[n==="video"&&e.jsx("button",{onClick:_,disabled:!!b,className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl transition-all duration-200 shadow-lg hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 ${g?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700"}`,title:g?"Turn off video":"Turn on video",children:g?e.jsx(ha,{className:"w-5 h-5 sm:w-6 sm:h-6"}):e.jsx(Mf,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("button",{onClick:X,disabled:!!b,className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl transition-all duration-200 shadow-lg hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 ${o?"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:o?"Unmute":"Mute",children:o?e.jsx(Pf,{className:"w-5 h-5 sm:w-6 sm:h-6"}):e.jsx(Ef,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("button",{onClick:Z,className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl transition-all duration-200 shadow-lg hover:scale-105 ${d?"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:d?"Speaker on":"Speaker off",children:d?e.jsx(Lf,{className:"w-5 h-5 sm:w-6 sm:h-6"}):e.jsx(Bf,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsx("button",{onClick:K,className:"p-3 sm:p-4 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl sm:rounded-2xl hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:scale-105",title:"End call",children:e.jsx(Af,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}):null},Xy=({provider:t,serviceType:s,onBook:r,onToggleFavorite:n,onMessage:a,onCall:l,isFavorite:o,authToken:i,currentUser:d})=>{var A,N;t._id||t.id,{...t,services:t.services,hourlyRate:t.hourlyRate,averageRating:t.averageRating||t.rating,city:t.city,state:t.state,country:t.country,isAvailableNow:t.isAvailableNow,experience:t.experience,phoneNumber:t.phoneNumber,address:t.address,reviewCount:t.reviewCount,completedJobs:t.completedJobs,isVerified:t.isVerified,isTopRated:t.isTopRated,responseTime:t.responseTime};const[h,g]=c.useState(!1),[u,x]=c.useState(!1),[E,k]=c.useState("audio"),[F,b]=c.useState(!1),[j,y]=c.useState(!1),f=c.useRef(null),T=c.useRef(null),S=async()=>{if(!j){y(!0);try{const m=i||localStorage.getItem("authToken")||localStorage.getItem("token");if(!m){alert("Please log in to add favorites");return}(await fetch(`${Fm}/api/providers/${t.id}/favorite`,{method:"POST",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}})).ok?n(t.id):console.error("Failed to toggle favorite")}catch(m){console.error("Error toggling favorite:",m)}finally{y(!1)}}},p=async m=>{try{const P=i||localStorage.getItem("authToken")||localStorage.getItem("token");if(!P){alert("Please log in to book a service");return}const B=await fetch(`${Fm}/api/bookings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(m)});if(!B.ok)throw new Error("Failed to create booking");const U=await B.json();return r&&r(t),alert("Booking request sent successfully! The provider will contact you soon."),U}catch(P){throw console.error("Booking API error:",P),P}},C=()=>{if(!i){alert("Please log in to book a service");return}if(!d){alert("User information not available. Please try again.");return}if(!d.address){alert("Please complete your profile with address information before booking");return}b(!0)},G={1:"+234 123 456 7890",2:"+234 123 456 7891",3:"+234 123 456 7892",4:"+234 123 456 7893",5:"+234 123 456 7894",6:"+234 123 456 7895"}[t.id]||"+234 000 000 0000",K=(m=0)=>[...Array(5)].map((P,B)=>e.jsx(Te,{className:`w-4 h-4 sm:w-5 sm:h-5 ${B<Math.floor(m)?"text-yellow-400 fill-current":"text-gray-300"}`},B)),X=m=>{m.stopPropagation(),g(!h)},_=m=>{k(m),g(!1),x(!0),l(t)},Z=()=>{const m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),P=G.replace(/\D/g,"");m?window.location.href=`tel:${P}`:window.open(`tel:${P}`),g(!1)},q=async()=>{try{await navigator.clipboard.writeText(G),alert("Phone number copied to clipboard!")}catch{console.log("Phone number:",G)}g(!1)},v=m=>m.split(" ").map(P=>P[0]).join("").toUpperCase();c.useEffect(()=>{const m=P=>{T.current&&!T.current.contains(P.target)&&f.current&&!f.current.contains(P.target)&&g(!1)};return h&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[h]);const $=m=>!m||m===0?"Contact for pricing":m<1e3?`${m}`:m<1e6?`${Math.round(m/1e3)}k`:`${(m/1e6).toFixed(1)}M`,w=t.priceRange||$(t.hourlyRate||0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300 p-4 sm:p-6 overflow-hidden relative w-full",children:[e.jsxs("div",{className:"block sm:hidden",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg shrink-0",children:t.avatar||v(t.name)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:t.name}),t.isVerified&&e.jsx(Le,{className:"w-3 h-3 text-blue-500 shrink-0"}),t.isTopRated&&e.jsx(os,{className:"w-3 h-3 text-yellow-500 shrink-0"})]}),t.isAvailableNow&&s==="immediate"&&e.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-emerald-500 to-green-600 text-white px-2 py-1 rounded-lg text-xs font-semibold shadow-sm mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:"Available Now"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center",children:K(t.rating||0)}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:((A=t.rating)==null?void 0:A.toFixed(1))||0}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.reviewCount||0,")"]})]})]}),e.jsx("button",{onClick:S,disabled:j,className:`p-1 rounded-full transition-colors duration-200 ${o?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:e.jsx($s,{className:"w-4 h-4",fill:o?"#ef4444":"none",stroke:o?"#ef4444":"currentColor",strokeWidth:1.5})})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.services.slice(0,2).map((m,P)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-lg",children:m},P)),t.services.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-lg",children:["+",t.services.length-2," more"]})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-xs text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"truncate",children:t.location||"Unknown location"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3 shrink-0"}),e.jsxs("span",{children:["Responds ",t.responseTime||"within 24 hours"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-emerald-600",children:w}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.completedJobs||0," jobs"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>a(t),className:"p-2 bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-xl transition-all duration-200 hover:scale-105",children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{ref:f,onClick:X,className:"p-2 bg-green-100 text-green-600 hover:bg-green-200 rounded-xl transition-all duration-200 hover:scale-105",children:e.jsx(ot,{className:"w-4 h-4"})}),h&&e.jsxs("div",{ref:T,className:"absolute right-0 bottom-full mb-2 bg-white border border-gray-200 rounded-xl shadow-xl p-2 z-[200] min-w-48 pointer-events-auto",children:[e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),_("audio")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx(Ll,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Web Audio Call"})]}),e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),_("video")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx(ha,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Web Video Call"})]}),e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),Z()},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx($l,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Phone App"})]}),e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),q()},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx(Rl,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{children:"Copy Number"})]})]})]}),e.jsx("button",{onClick:C,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-3 py-2 rounded-xl font-semibold transition-all duration-200 hover:scale-105 shadow-lg text-sm",children:s==="immediate"?"Book":"Quote"})]})]})]}),e.jsxs("div",{className:"hidden sm:flex",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg shrink-0 group-hover:scale-110 transition-transform duration-300 mr-4",children:t.avatar||v(t.name)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:t.name}),t.isVerified&&e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-4 h-4 text-blue-600"})}),t.isTopRated&&e.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(os,{className:"w-4 h-4 text-yellow-600"})}),t.isAvailableNow&&s==="immediate"&&e.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white px-3 py-1 rounded-xl text-sm font-semibold shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:"Available Now"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex items-center",children:K(t.rating||0)}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:((N=t.rating)==null?void 0:N.toFixed(1))||0}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",t.reviewCount||0," reviews)"]})]})]}),e.jsx("button",{onClick:S,disabled:j,className:`p-2 rounded-full transition-all duration-200 ${o?"text-red-500":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:e.jsx($s,{className:"w-5 h-5",fill:o?"#ef4444":"none",stroke:o?"#ef4444":"currentColor",strokeWidth:1.5})})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.services.map((m,P)=>e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 text-sm font-medium rounded-xl",children:m},P))}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(We,{className:"w-3 h-3"})}),e.jsx("span",{children:t.location||"Unknown location"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Ie,{className:"w-3 h-3"})}),e.jsxs("span",{children:["Responds ",t.responseTime||"within 24 hours"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-emerald-600",children:w}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.completedJobs||0," jobs completed"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>a(t),className:"p-3 bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-xl transition-all duration-200 hover:scale-105",children:e.jsx(Ds,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{ref:f,onClick:X,className:"p-3 bg-green-100 text-green-600 hover:bg-green-200 rounded-xl transition-all duration-200 hover:scale-105",children:e.jsx(ot,{className:"w-5 h-5"})}),h&&e.jsxs("div",{ref:T,className:"absolute right-0 bottom-full mb-2 bg-white border border-gray-200 rounded-xl shadow-xl p-2 z-[200] min-w-48 pointer-events-auto",children:[e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),_("audio")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx(Ll,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Web Audio Call"})]}),e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),_("video")},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx(ha,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Web Video Call"})]}),e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),Z()},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx($l,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Phone App"})]}),e.jsxs("button",{onMouseDown:m=>m.preventDefault(),onClick:m=>{m.preventDefault(),m.stopPropagation(),q()},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 rounded-lg flex items-center gap-2 transition-colors cursor-pointer",children:[e.jsx(Rl,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{children:"Copy Number"})]})]})]}),e.jsx("button",{onClick:C,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",disabled:!i,children:s==="immediate"?"Book Now":"Get Quote"})]})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-2xl sm:rounded-3xl"})]}),F&&d&&e.jsx(Nh,{isOpen:F,provider:t,currentUser:d,onClose:()=>b(!1),onConfirm:p,serviceType:s}),e.jsx(Zy,{isOpen:u,provider:t,onClose:()=>x(!1),callType:E})]})},An="https://backendhomeheroes.onrender.com",eb=({onToggleFavorite:t,onBook:s,onMessage:r,onCall:n,authToken:a,currentUser:l})=>{const[o,i]=c.useState([]),[d,h]=c.useState(!0),[g,u]=c.useState([]),[x,E]=c.useState(""),[k,F]=c.useState("all"),[b,j]=c.useState("recent"),[y,f]=c.useState(null);c.useEffect(()=>{T()},[]),c.useEffect(()=>{G()},[o,x,k,b]);const T=async()=>{try{h(!0);const _=a||localStorage.getItem("authToken")||localStorage.getItem("token");if(!_){console.log("No auth token found"),h(!1);return}console.log(" Fetching favorites from:",`${An}/api/favorites`);const Z=await fetch(`${An}/api/favorites`,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(console.log("Favorites response status:",Z.status),Z.ok){const q=await Z.json();console.log(" Raw favorites data received:",q);let v=[];if(q.success&&q.data?Array.isArray(q.data.favorites)?(console.log(" Extracting provider IDs from favorites array"),v=q.data.favorites.map(w=>w.providerId).filter(w=>w&&w.trim()!=="")):Array.isArray(q.data)?(console.log(" Extracting provider IDs from data array"),v=q.data.map(w=>w.providerId).filter(w=>w&&w.trim()!=="")):Array.isArray(q.favorites)&&(console.log(" Extracting provider IDs from root favorites array"),v=q.favorites.map(w=>w.providerId).filter(w=>w&&w.trim()!=="")):q.success&&Array.isArray(q.providers)&&(console.log(" Extracting provider IDs from providers array"),v=q.providers.map(w=>w._id||w.id).filter(w=>w&&w.trim()!=="")),console.log(" Extracted provider IDs:",v),v.length===0){console.log(" No provider IDs found in the response"),i([]),u([]);return}const $=await S(v,_);console.log(" Fetched provider details:",$),i($),u($)}else{console.error(" Failed to fetch favorites:",Z.status);const q=await Z.text();console.error("Error response:",q);const v=R();v.length>0&&(console.log(" Using local favorites from localStorage"),i(v),u(v))}}catch(_){console.error(" Error fetching favorites:",_);const Z=R();Z.length>0&&(i(Z),u(Z))}finally{h(!1)}},S=async(_,Z)=>{const q=[];try{console.log(" Trying to fetch all providers at once...");const v=await fetch(`${An}/api/providers?ids=${_.join(",")}`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(v.ok){const $=await v.json();if(console.log(" Bulk providers response:",$),$.success&&Array.isArray($.data))return console.log(" Got providers array from bulk endpoint"),$.data.map((w,A)=>p(w,A));if($.success&&$.data&&Array.isArray($.data.providers))return console.log(" Got providers array from data.data.providers"),$.data.providers.map((w,A)=>p(w,A))}}catch{console.log(" Bulk fetch failed, trying individual fetches")}for(let v=0;v<_.length;v++){const $=_[v];try{console.log(` Fetching provider ${v+1}/${_.length}: ${$}`);const w=await fetch(`${An}/api/providers/${$}`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(w.ok){const A=await w.json();if(console.log(` Provider ${$} data:`,A),A.success&&A.data){const N=p(A.data,v);q.push(N)}else console.warn(` Provider ${$} has no data in response`)}else console.error(` Failed to fetch provider ${$}:`,w.status);await new Promise(A=>setTimeout(A,100))}catch(w){console.error(` Error fetching provider ${$}:`,w)}}return q},p=(_,Z)=>{var z,L,W;if(console.log(` Transforming provider data ${Z+1}:`,_),!_)return console.log(" No provider data provided, creating fallback"),C(Z);const q=_._id||_.id||`fallback-${Date.now()}-${Z}`;let v=_.name||_.fullName||_.username||"";(!v||v.trim()==="")&&(v=`Provider ${q.slice(-4)}`),console.log(`   Provider ID: ${q}, Name: ${v}`);let $=[];Array.isArray(_.services)&&_.services.length>0?$=_.services.filter(se=>se&&se.trim()!==""):typeof _.services=="string"&&_.services.trim()!==""?$=[_.services]:_.service?Array.isArray(_.service)?$=_.service.filter(se=>se&&se.trim()!==""):typeof _.service=="string"&&_.service.trim()!==""&&($=[_.service]):_.category&&(Array.isArray(_.category)?$=_.category.filter(se=>se&&se.trim()!==""):typeof _.category=="string"&&_.category.trim()!==""&&($=[_.category])),$.length===0&&($=["General Service"]);const w=_.city||((z=_.location)==null?void 0:z.city)||"",A=_.state||((L=_.location)==null?void 0:L.state)||"",N=_.country||((W=_.location)==null?void 0:W.country)||"",P=[w,A,N].filter(se=>se&&se.trim()!=="").join(", ")||"Location not specified",B=_.profileImage||_.profilePicture||_.avatar||_.image||"",U=_.rating||_.averageRating||_.avgRating||0,D=_.reviewCount||_.totalReviews||0,M=_.hourlyRate||_.rate||_.price||0,J=_.priceRange||(M>0?`${M}/hr`:"Contact for pricing");return{id:q,_id:_._id||_.id,name:v,email:_.email||`${v.toLowerCase().replace(/\s+/g,".")}@example.com`,services:$,hourlyRate:M,averageRating:U,city:w,state:A,country:N,profileImage:B,profilePicture:_.profilePicture,avatar:_.avatar,isAvailableNow:_.isAvailableNow!==void 0?_.isAvailableNow:!0,experience:_.experience||"",phoneNumber:_.phoneNumber||_.phone||"",address:_.address||"",reviewCount:D,completedJobs:_.completedJobs||0,isVerified:_.isVerified||!1,isTopRated:_.isTopRated||!1,responseTime:_.responseTime||"Contact for availability",rating:U,priceRange:J,location:P}},C=_=>{const Z=`fallback-${Date.now()}-${_}`;return{id:Z,_id:Z,name:`Provider ${_+1}`,email:`provider${_+1}@example.com`,services:["General Service"],hourlyRate:0,averageRating:0,city:"",state:"",country:"",profileImage:"",isAvailableNow:!1,experience:"",phoneNumber:"",address:"",reviewCount:0,completedJobs:0,isVerified:!1,isTopRated:!1,responseTime:"Contact for availability",rating:0,priceRange:"Contact for pricing",location:"Location not specified"}},R=()=>{try{const _=localStorage.getItem("favoriteProviders");if(_){const Z=JSON.parse(_);return Array.isArray(Z)?Z:[]}}catch(_){console.error("Error reading local favorites:",_)}return[]},G=()=>{let _=[...o];x&&(_=_.filter(Z=>Z.name.toLowerCase().includes(x.toLowerCase())||Z.services.some(q=>q.toLowerCase().includes(x.toLowerCase()))||Z.location&&Z.location.toLowerCase().includes(x.toLowerCase()))),k!=="all"&&(_=_.filter(Z=>Z.services.some(q=>q.toLowerCase().includes(k.toLowerCase())))),_.sort((Z,q)=>{switch(b){case"rating":return(q.rating||0)-(Z.rating||0);case"price":return(Z.hourlyRate||0)-(q.hourlyRate||0);case"recent":return 0;default:return 0}}),u(_)},K=async _=>{if(y!==_)try{f(_);const Z=a||localStorage.getItem("authToken")||localStorage.getItem("token");if(!Z){alert("Please log in to update favorites");return}console.log(" Removing favorite:",_);const q=o.filter($=>$.id!==_);i(q);const v=await fetch(`${An}/api/providers/${_}/favorite`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(console.log("Response status:",v.status),v.ok){const $=await v.json();console.log("Remove favorite response:",$),$.success?(console.log(" Successfully removed from favorites"),t&&t(_),localStorage.setItem("favoriteProviders",JSON.stringify(q))):(console.error(" Backend returned success: false",$),T(),alert(`Failed to remove from favorites: ${$.message||"Unknown error"}`))}else{T();let $="Failed to remove from favorites";try{$=(await v.json()).message||$}catch{}alert(`Failed to remove from favorites: ${$}`)}}catch(Z){console.error(" Error removing favorite:",Z),T(),alert("Error removing from favorites. Please try again.")}finally{f(null)}},X=()=>{const _=o.flatMap(q=>q.services||[]);return["all",...Array.from(new Set(_.filter(q=>q&&q.trim()!=="")))].slice(0,10)};return d?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx($s,{className:"w-16 h-16 text-pink-400 animate-pulse",fill:"none",stroke:"currentColor"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full blur-xl opacity-30"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Loading your favorites..."}),e.jsx("p",{className:"text-gray-500",children:"Fetching your saved providers"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-rose-50 via-pink-50 to-red-50 rounded-3xl p-8",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx($s,{className:"w-6 h-6 text-white",fill:"#ffffff",stroke:"none"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-rose-800 to-pink-800 bg-clip-text text-transparent",children:"Favorite Providers"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[o.length," saved ",o.length===1?"provider":"providers"]})]})]}),e.jsx("p",{className:"text-gray-700 text-lg font-medium max-w-md",children:"Your saved service providers for easy access and quick booking"})]}),o.length>0&&e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsxs("button",{onClick:()=>j("rating"),className:`group bg-gradient-to-r from-rose-500 via-pink-600 to-red-600 text-white px-8 py-3 rounded-2xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg ${b==="rating"?"ring-2 ring-white ring-opacity-50":""}`,children:[e.jsx(Te,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),e.jsx("span",{children:"Sort by Rating"})]})})]})})}),o.length>0&&e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search your favorites...",value:x,onChange:_=>E(_.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent"}),e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x&&e.jsx("button",{onClick:()=>E(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Ae,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(so,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:k,onChange:_=>F(_.target.value),className:"bg-white border border-gray-200 rounded-xl px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"all",children:"All Services"}),X().filter(_=>_!=="all").map(_=>e.jsx("option",{value:_,children:_},_))]})]}),e.jsxs("select",{value:b,onChange:_=>j(_.target.value),className:"bg-white border border-gray-200 rounded-xl px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"recent",children:"Recently Added"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"price",children:"Price: Low to High"})]})]})]})}),g.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:x?`Search Results (${g.length})`:"Your Favorites"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",g.length," of ",o.length," providers"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((_,Z)=>e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300 relative",style:{animationDelay:`${Z*100}ms`},children:[y===_.id&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl z-10 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Mt,{className:"w-8 h-8 text-pink-500 animate-spin"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Removing from favorites..."})]})}),e.jsx(Xy,{provider:_,serviceType:"immediate",onBook:s,onToggleFavorite:K,onMessage:r,onCall:n,isFavorite:!0,authToken:a,currentUser:l})]},_.id))})]}):o.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx($s,{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Ct,{className:"w-4 h-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No favorites yet"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto text-lg",children:"Save providers you like to easily find them later. Look for the heart icon on any provider card."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{className:"bg-gradient-to-r from-rose-500 to-pink-600 text-white px-8 py-4 rounded-2xl hover:shadow-xl hover:scale-105 transition-all duration-300 flex items-center justify-center mx-auto space-x-3 text-lg font-semibold",onClick:()=>window.location.href="/search",children:[e.jsx(_s,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse Services"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tip: Click the  on any provider to add them to your favorites"})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-rose-100 to-pink-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-16 h-16 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No matching favorites"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"No favorites match your search criteria. Try adjusting your filters."}),e.jsx("button",{onClick:()=>{E(""),F("all"),j("recent")},className:"bg-gradient-to-r from-gray-600 to-gray-800 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Clear Filters"})]})]})},qa="https://backendhomeheroes.onrender.com",tb=({onSendMessage:t,onStartConversation:s,onSetActiveConversation:r,currentUser:n=null})=>{var P,B,U;const[a,l]=c.useState(null),[o,i]=c.useState([]),[d,h]=c.useState([]),[g,u]=c.useState(""),[x,E]=c.useState(""),[k,F]=c.useState(!1),[b,j]=c.useState(!1),[y,f]=c.useState(!1),T=c.useRef(null),S=zt(),p=()=>{if(n!=null&&n._id)return n._id;if(n!=null&&n.id)return n.id;try{const D=localStorage.getItem("authToken");if(D)return JSON.parse(atob(D.split(".")[1])).id}catch(D){console.error("Error getting user ID from token:",D)}return null};c.useEffect(()=>{G()},[]),c.useEffect(()=>{a&&(K(a._id),r&&r(a._id))},[a]),c.useEffect(()=>{R()},[d]),c.useEffect(()=>{var D;if((D=S.state)!=null&&D.activeConversationId){console.log(" Location state has active conversation:",S.state.activeConversationId);const M=o.find(J=>J._id===S.state.activeConversationId);M?(l(M),F(!0)):C(S.state.activeConversationId)}},[S.state,o]);const C=async D=>{try{const M=localStorage.getItem("authToken"),J=await fetch(`${qa}/api/messages/conversation/${D}`,{headers:{Authorization:`Bearer ${M}`}});if(J.ok){const z=await J.json();z.success&&z.data.conversation&&(l(z.data.conversation),F(!0))}}catch(M){console.error("Error fetching conversation:",M)}},R=()=>{var D;(D=T.current)==null||D.scrollIntoView({behavior:"smooth"})},G=async()=>{var D;try{j(!0);const M=localStorage.getItem("authToken"),J=await fetch(`${qa}/api/messages/conversations`,{headers:{Authorization:`Bearer ${M}`}});if(J.ok){const z=await J.json();z.success&&(i(z.data.conversations||[]),console.log(" Loaded conversations:",((D=z.data.conversations)==null?void 0:D.length)||0))}else console.error("Failed to fetch conversations")}catch(M){console.error("Error fetching conversations:",M)}finally{j(!1)}},K=async D=>{var M,J;try{j(!0);const z=localStorage.getItem("authToken"),L=await fetch(`${qa}/api/messages/conversation/${D}?limit=100`,{headers:{Authorization:`Bearer ${z}`}});if(L.ok){const W=await L.json(),se=p();if(console.log("=== DEBUG MESSAGE FETCH ==="),console.log("Current User ID:",se),console.log("Raw messages:",(M=W.data)==null?void 0:M.messages),(J=W.data)!=null&&J.messages){const ne=W.data.messages.map(ee=>{let V="";typeof ee.senderId=="string"?V=ee.senderId:ee.senderId&&typeof ee.senderId=="object"&&(V=ee.senderId._id||ee.senderId.id||"");const O=V===se;return{...ee,isMe:O,isProvider:O}});h(ne)}}}catch(z){console.error("Error fetching messages:",z)}finally{j(!1)}},X=async()=>{if(!(!g.trim()||!a))try{if(f(!0),t)await t(a._id,g.trim());else{const D=localStorage.getItem("authToken");(await fetch(`${qa}/api/messages/send`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({conversationId:a._id,content:g.trim(),messageType:"text"})})).ok&&(K(a._id),G())}u("")}catch(D){console.error("Error sending message:",D)}finally{f(!1)}},_=D=>{l(D),F(!0)},Z=()=>{F(!1),l(null),h([])},q=D=>{const M=p();return M?D.participants.find(J=>(J._id||J.id)!==M):D.participants[0]},v=D=>{if(!D)return"Just now";const M=new Date(D),L=(new Date().getTime()-M.getTime())/(1e3*60*60);return L<1?`${Math.floor(L*60)}m ago`:L<24?`${Math.floor(L)}h ago`:M.toLocaleDateString()},$=o.filter(D=>{var z;const M=q(D);return(z=M==null?void 0:M.name)==null?void 0:z.toLowerCase().includes(x.toLowerCase())}),w=D=>new Date(D).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),A=D=>{if(D.isMe)switch(D.status){case"sent":return e.jsx(Ie,{className:"w-3 h-3 text-blue-300"});case"delivered":return e.jsx(Gr,{className:"w-3 h-3 text-blue-300"});case"read":return e.jsx(xh,{className:"w-3 h-3 text-blue-200"});default:return null}return null},N=D=>D.isMe?"right":"left",m=D=>N(D)==="right"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/90 backdrop-blur-sm text-gray-900 border border-gray-200";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-2 sm:py-4 lg:py-8",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 overflow-hidden h-[calc(100vh-16px)] sm:h-[calc(100vh-80px)] lg:h-[calc(100vh-200px)] flex",children:[e.jsxs("div",{className:`w-full lg:w-2/5 border-r border-gray-200 flex flex-col ${k?"hidden lg:flex":"flex"}`,children:[e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 border-b border-gray-200 bg-white/50",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"w-4 h-4 sm:w-5 sm:h-5 absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:x,onChange:D=>E(D.target.value),className:"w-full pl-9 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-200 rounded-xl sm:rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 transition-all duration-200"})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:b?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):$.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 px-4",children:[e.jsx(ns,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:"No conversations yet"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Start a conversation by messaging a provider"})]}):e.jsx("div",{className:"space-y-1 sm:space-y-2 p-2",children:$.map(D=>{var J,z;const M=q(D);return e.jsx("button",{onClick:()=>_(D),className:`w-full p-3 sm:p-4 rounded-xl sm:rounded-2xl text-left transition-all duration-300 group ${(a==null?void 0:a._id)===D._id?"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 shadow-sm":"hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl flex items-center justify-center text-white font-bold text-base sm:text-lg bg-gradient-to-br from-blue-500 to-purple-600",children:((J=M==null?void 0:M.name)==null?void 0:J.charAt(0))||"U"}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 sm:-bottom-1 sm:-right-1 w-3 h-3 sm:w-4 sm:h-4 rounded-full border-2 border-white bg-blue-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors truncate text-sm sm:text-base",children:(M==null?void 0:M.name)||"Unknown User"}),e.jsx("span",{className:"text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full flex-shrink-0 bg-blue-100 text-blue-800",children:"Customer"})]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:D.lastMessage&&v(D.lastMessage.timestamp)})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:((z=D.lastMessage)==null?void 0:z.content)||"No messages yet"})]})]})},D._id)})})})]}),e.jsx("div",{className:`flex-1 flex flex-col ${k?"flex":"hidden lg:flex"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 border-b border-gray-200 bg-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[e.jsx("button",{onClick:Z,className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-200",children:e.jsx(to,{className:"w-5 h-5"})}),e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl flex items-center justify-center text-white font-bold text-base sm:text-lg bg-gradient-to-br from-blue-500 to-purple-600",children:((B=(P=q(a))==null?void 0:P.name)==null?void 0:B.charAt(0))||"U"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg truncate",children:((U=q(a))==null?void 0:U.name)||"Unknown User"}),e.jsx("span",{className:"text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full flex-shrink-0 bg-blue-100 text-blue-800",children:"Customer"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{children:"Online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("button",{className:"w-9 h-9 sm:w-12 sm:h-12 bg-green-100 hover:bg-green-200 text-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center transition-all duration-200",children:e.jsx(ot,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{className:"w-9 h-9 sm:w-12 sm:h-12 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded-xl sm:rounded-2xl flex items-center justify-center transition-all duration-200",children:e.jsx(ha,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 lg:p-6 space-y-3 sm:space-y-4 bg-gradient-to-b from-white/30 to-blue-50/30",children:[b?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(ns,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:"No messages yet"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Start a conversation by sending a message"})]}):d.map(D=>{const M=N(D),J=m(D);return e.jsx("div",{className:`flex ${M==="right"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] sm:max-w-md px-3 sm:px-4 py-2 sm:py-3 rounded-xl sm:rounded-2xl shadow-sm relative ${J}`,children:[M==="left"&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Customer"})}),e.jsx("p",{className:"text-xs sm:text-sm leading-relaxed break-words",children:D.content}),e.jsxs("div",{className:`flex items-center justify-end mt-1 sm:mt-2 text-xs gap-1 ${M==="right"?"text-white/80":"text-gray-500"}`,children:[e.jsx("span",{children:w(D.timestamp)}),A(D)]})]})},D._id)}),e.jsx("div",{ref:T})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 border-t border-gray-200 bg-white/50",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx("button",{className:"w-9 h-9 sm:w-12 sm:h-12 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl sm:rounded-2xl flex items-center justify-center transition-all duration-200 flex-shrink-0",children:e.jsx(yh,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",placeholder:"Type your message...",value:g,onChange:D=>u(D.target.value),onKeyPress:D=>D.key==="Enter"&&X(),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-200 rounded-xl sm:rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 transition-all duration-200",disabled:y})}),e.jsx("button",{onClick:X,disabled:!g.trim()||y,className:`w-9 h-9 sm:w-12 sm:h-12 rounded-xl sm:rounded-2xl transition-all duration-200 flex items-center justify-center flex-shrink-0 ${g.trim()&&!y?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:scale-110":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:e.jsx(Na,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-100 p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ns,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-2",children:"Select a Conversation"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Choose a provider to start messaging"})]})})})]})})})},sb=({onSendMessage:t,onStartConversation:s,onSetActiveConversation:r})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-cyan-50 via-blue-50 to-indigo-50 rounded-3xl p-8",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-full blur-3xl transform translate-x-1/2 translate-y-1/2"})]}),e.jsxs("div",{className:"relative flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-600 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(ns,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-cyan-800 to-blue-800 bg-clip-text text-transparent",children:"Messages"})]}),e.jsx("p",{className:"text-gray-700 text-lg font-medium max-w-md",children:"Communicate with your service providers and stay connected"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{className:"group bg-white/80 backdrop-blur-sm border border-white/50 text-gray-700 px-6 py-3 rounded-2xl hover:bg-white hover:shadow-xl transition-all duration-300 flex items-center space-x-2 font-semibold",children:[e.jsx(Dt,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300"}),e.jsx("span",{children:"Search Messages"})]}),e.jsxs("button",{className:"group bg-gradient-to-r from-cyan-600 via-blue-600 to-indigo-700 text-white px-8 py-3 rounded-2xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg",children:[e.jsx(bt,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),e.jsx("span",{children:"Chat Settings"})]})]})]})]}),e.jsx(tb,{onSendMessage:t,onStartConversation:s,onSetActiveConversation:r})]}),Wt="https://backendhomeheroes.onrender.com",rb=({isOpen:t,provider:s,currentUser:r,onClose:n,onConfirm:a,serviceType:l,authToken:o})=>{const[i,d]=c.useState(!1),[h,g]=c.useState(null),[u,x]=c.useState({serviceType:s.services[0]||"",description:"",date:"",time:"",location:r.address||"",budget:s.priceRange||`${s.hourlyRate||0}`,contactPhone:r.phoneNumber||"",contactEmail:r.email||"",specialRequests:""});if(!t)return null;const E=C=>{if(!C)return s.hourlyRate||1e3;const R=C.replace(/[^\d.]/g,"");return parseFloat(R)||s.hourlyRate||1e3},k=async C=>{var R,G,K,X,_;try{d(!0),g(null),console.log(" Starting booking and payment process...");const Z=o||localStorage.getItem("authToken")||localStorage.getItem("token");if(!Z)throw new Error("Authentication required. Please log in again.");console.log(" Creating booking...",C);const q=await fetch(`${Wt}/api/bookings`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(C)});if(console.log(" Booking response status:",q.status),!q.ok){const P=await q.text();console.error(" Booking creation failed:",P);let B=`Failed to create booking: ${q.status}`;try{B=JSON.parse(P).message||B}catch{B=P||B}throw new Error(B)}const v=await q.json();if(console.log(" Full booking response:",v),!v.success)throw new Error(v.message||"Failed to create booking");const $=((G=(R=v.data)==null?void 0:R.booking)==null?void 0:G._id)||((K=v.data)==null?void 0:K._id)||((X=v.booking)==null?void 0:X._id)||v._id;if(console.log(" Booking created successfully. Booking ID:",$),!$)throw console.error(" No booking ID found in response:",v),new Error("Booking created but no booking ID returned");console.log(" Initializing Paystack payment for booking:",$);const w={bookingId:$,amount:C.amount||C.price,email:r.email,currency:"NGN"};console.log(" Payment payload:",w);const A=await fetch(`${Wt}/api/bookings/${$}/create-payment`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(console.log(" Payment response status:",A.status),!A.ok){const P=await A.text();console.error(" Payment initialization failed:",P);let B=`Payment initialization failed: ${A.status}`;try{B=JSON.parse(P).message||B}catch{B=P||B}throw new Error(B)}const N=await A.json();if(console.log(" Full payment response:",N),!N.success)throw new Error(N.message||"Payment initialization failed");const m=((_=N.data)==null?void 0:_.authorizationUrl)||N.authorizationUrl;if(console.log(" Authorization URL:",m),!m)throw console.error(" No authorization URL in response. Full response:",N),new Error("Payment service did not return a payment URL");if(!m.includes("checkout.paystack.com"))throw console.error(" Invalid Paystack URL:",m),new Error("Invalid payment URL received");console.log(" Immediately redirecting to Paystack payment page..."),n(),window.location.href=m}catch(Z){console.error(" Booking and payment error:",Z),g(Z instanceof Error?Z.message:"Failed to process booking and payment"),d(!1)}},F=async C=>{C.preventDefault();const R=u.location||r.address||"Location not specified",G={providerId:s._id,providerName:s.name,providerEmail:s.email,serviceType:u.serviceType,description:u.description,location:R,timeframe:l==="immediate"?"ASAP":u.date?`${u.date} at ${u.time}`:"Flexible",budget:u.budget,contactInfo:{phone:u.contactPhone,email:u.contactEmail,name:r.name},specialRequests:u.specialRequests,bookingType:l,requestedAt:new Date().toISOString(),amount:E(u.budget),price:E(u.budget),status:"awaiting_payment"};console.log(" Booking data prepared:",G),await k(G)},b=C=>{const{name:R,value:G}=C.target;x(K=>({...K,[R]:G}))},j=C=>C.split(" ").map(R=>R[0]).join("").toUpperCase(),y=C=>[...Array(5)].map((R,G)=>e.jsx(Te,{className:`w-4 h-4 transition-colors ${G<Math.floor(C)?"text-amber-400 fill-current":"text-gray-300"}`},G)),f=s.averageRating||0,T=s.reviewCount||0,S=s.address||`${s.city}, ${s.state}`,p=E(u.budget);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden border border-gray-200/50 shadow-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 via-green-600 to-pink-600 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Book ",s.name]}),e.jsx("button",{onClick:n,disabled:i,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-xl disabled:opacity-50",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-white font-bold text-xl",children:s.profileImage?e.jsx("img",{src:Yi(s.profileImage),alt:s.name,className:"w-16 h-16 rounded-2xl object-cover"}):j(s.name)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:s.name}),s.isVerified&&e.jsx(Le,{className:"w-4 h-4 text-green-200"}),s.isTopRated&&e.jsx(os,{className:"w-4 h-4 text-amber-300"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center",children:y(f)}),e.jsx("span",{className:"text-sm font-medium text-white",children:f.toFixed(1)}),e.jsxs("span",{className:"text-sm text-white/70",children:["(",T," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[e.jsx("span",{children:S}),e.jsx("span",{children:s.experience}),s.isAvailableNow&&l==="immediate"&&e.jsx("span",{className:"bg-emerald-500/30 text-emerald-200 px-2 py-1 rounded-lg text-xs font-medium",children:"Available Now"})]})]})]})]}),e.jsxs("form",{onSubmit:F,className:"flex flex-col h-full",children:[e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-6",children:[h&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Payment Error"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h}),e.jsx("button",{type:"button",onClick:()=>g(null),className:"text-red-600 text-sm underline mt-2",children:"Try again"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Et,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Secure Escrow Payment"}),e.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"1."}),e.jsx("span",{children:"Pay now - funds held securely in escrow"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"2."}),e.jsx("span",{children:"Provider accepts & travels to you"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"3."}),e.jsx("span",{children:'Confirm "Hero Here" when provider arrives'})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"4."}),e.jsx("span",{children:"Payment released: 85% to provider, 15% service fee"})]})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Service Type *"}),e.jsx("select",{name:"serviceType",value:u.serviceType,onChange:b,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm",required:!0,disabled:i,children:s.services.map((C,R)=>e.jsx("option",{value:C,children:C},R))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:u.description,onChange:b,placeholder:"Describe what you need help with...",rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm resize-none",disabled:i})]}),l==="long-term"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(Me,{className:"w-4 h-4 inline mr-1"}),"Preferred Date"]}),e.jsx("input",{type:"date",name:"date",value:u.date,onChange:b,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm",disabled:i})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(Ie,{className:"w-4 h-4 inline mr-1"}),"Preferred Time"]}),e.jsx("input",{type:"time",name:"time",value:u.time,onChange:b,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm",disabled:i})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(We,{className:"w-4 h-4 inline mr-1"}),"Service Location *"]}),e.jsx("input",{type:"text",name:"location",value:u.location,onChange:b,placeholder:"Enter your address where service is needed",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm",required:!0,disabled:i}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Service will be performed at this location"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(wt,{className:"w-4 h-4 inline mr-1"}),"Budget Range"]}),e.jsx("input",{type:"text",name:"budget",value:u.budget,onChange:b,placeholder:"e.g., 5,000 - 10,000",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm",disabled:i})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name"}),e.jsx("input",{type:"text",value:r.name,disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/80 backdrop-blur-sm text-gray-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(ut,{className:"w-4 h-4 inline mr-1"}),"Email Address"]}),e.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/80 backdrop-blur-sm text-gray-600"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(ot,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),e.jsx("input",{type:"tel",name:"contactPhone",value:u.contactPhone,onChange:b,placeholder:"Enter your phone number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm",required:!0,disabled:i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Special Requests or Notes"}),e.jsx("textarea",{name:"specialRequests",value:u.specialRequests,onChange:b,placeholder:"Any special requirements, tools needed, or additional information...",rows:2,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white/80 backdrop-blur-sm resize-none",disabled:i})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,disabled:i,className:"px-6 py-3 text-gray-600 border border-gray-200 rounded-xl hover:bg-gray-100 transition-all duration-200 font-medium disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-gradient-to-r from-green-600 via-purple-600 to-pink-600 text-white rounded-xl hover:scale-105 transition-all duration-300 font-semibold shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2 min-w-[200px]",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Xt,{className:"w-4 h-4 animate-spin"}),"Redirecting to Paystack..."]}):`Pay ${p.toLocaleString()} to Book`})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-50 border border-green-200/50 rounded-2xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Service:"}),e.jsx("span",{className:"font-medium",children:u.serviceType||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Type:"}),e.jsx("span",{className:"font-medium capitalize",children:l})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Provider:"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Location:"}),e.jsx("span",{className:"font-medium text-right max-w-[150px] truncate",children:u.location||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Amount to pay:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["",p.toLocaleString()]})]}),l==="immediate"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Availability:"}),e.jsx("span",{className:"font-medium text-emerald-600",children:"Available Now"})]})]})]})]})}),e.jsx("div",{className:"bg-gray-50/80 backdrop-blur-sm border-t border-gray-200/50 p-6 mt-auto",children:i&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"You will be redirected to Paystack to complete your payment securely."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"After payment, you'll be redirected back to your bookings page."})]})})]})]})})},Yi=t=>{if(t)return t.startsWith("http")?t:t.startsWith("/")?`${Wt}${t}`:`${Wt}/uploads/${t}`},_m=t=>t.fullImageUrl&&t.fullImageUrl.startsWith("http")?t.fullImageUrl:t.imageUrl&&t.imageUrl.startsWith("http")?t.imageUrl:t.imageUrl?t.imageUrl.startsWith("/")?`${Wt}${t.imageUrl}`:`${Wt}/uploads/${t.imageUrl}`:"https://via.placeholder.com/400x300?text=Image+Not+Available",nb=()=>{const{providerId:t}=Up(),s=Ut(),[r,n]=c.useState(null),[a,l]=c.useState(!0),[o,i]=c.useState(null),[d,h]=c.useState("overview"),[g,u]=c.useState([]),[x,E]=c.useState([]),[k,F]=c.useState(null),[b,j]=c.useState(!1),[y,f]=c.useState(!1),[T,S]=c.useState(!1),[p,C]=c.useState("immediate"),[R,G]=c.useState(null),[K,X]=c.useState(!1),[_,Z]=c.useState({id:"current-user-id",name:"John Doe",email:"john.doe@example.com",phoneNumber:"+234 123 456 7890",address:"Lagos, Nigeria"}),q=async()=>{try{if(l(!0),i(null),t){console.log(" Fetching provider profile for:",t);const L=await fetch(`${Wt}/api/providers/${t}`);if(!L.ok)throw new Error("Failed to fetch provider profile");const W=await L.json();if(W.success)console.log(" Provider profile data:",W.data),n(W.data);else throw new Error(W.message||"Failed to load provider profile")}}catch(L){console.error(" Error fetching provider profile:",L),i(L instanceof Error?L.message:"An error occurred")}finally{l(!1)}},v=async()=>{if(t)try{X(!0),console.log(" Fetching REAL performance stats for provider:",t);const L=await fetch(`${Wt}/api/providers/${t}/stats`);if(L.ok){const W=await L.json();console.log(" REAL Performance stats:",W),W.success&&W.data?G(W.data):(console.log(" No real performance stats available"),G(null))}else console.log(" Performance stats fetch failed:",L.status),G(null)}catch(L){console.error(" Error fetching performance stats:",L),G(null)}finally{X(!1)}},$=async()=>{var L,W;if(t)try{j(!0),console.log(" Fetching REAL gallery for provider:",t);const se=[`${Wt}/api/providers/${t}/gallery`,`${Wt}/api/gallery?userId=${t}`,`${Wt}/api/gallery/provider/${t}`];let ne=null;for(const ee of se)try{console.log(` Trying gallery endpoint: ${ee}`);const V=await fetch(ee);if(V.ok){const O=await V.json();if(console.log(` Gallery response from ${ee}:`,O),O.success){ne=((L=O.data)==null?void 0:L.docs)||((W=O.data)==null?void 0:W.images)||O.data||O.images||[],console.log(" Gallery data found:",ne.length,"images"),ne.length>0&&console.log(" First gallery image structure:",ne[0]);break}}}catch(V){console.log(` Gallery endpoint failed: ${ee}`,V);continue}ne&&Array.isArray(ne)?(console.log(" Setting gallery images:",ne.length),u(ne)):(console.log(" No gallery images found"),u([]))}catch(se){console.error(" Error fetching gallery:",se),u([])}finally{j(!1)}},w=async()=>{var L,W;if(t)try{f(!0),console.log(" Fetching REAL reviews for provider:",t);const se=await fetch(`${Wt}/api/providers/${t}/reviews`);if(se.ok){const ne=await se.json();if(console.log(" REAL Reviews response:",ne),ne.success){const ee=((L=ne.data)==null?void 0:L.reviews)||((W=ne.data)==null?void 0:W.docs)||ne.data||[];console.log(" Raw reviews data:",ee);const V=ee.map(O=>{var qe,Ze,ze,te,ae,ge,Se,je,Y,re,xe,ve;console.log(" Processing review:",O);const I=((qe=O.customerId)==null?void 0:qe.name)||O.customerName||((Ze=O.userId)==null?void 0:Ze.name)||((ze=O.customer)==null?void 0:ze.name)||"Customer",Q=((te=O.customerId)==null?void 0:te.profileImage)||O.customerProfileImage||((ae=O.userId)==null?void 0:ae.profileImage)||((ge=O.customer)==null?void 0:ge.profileImage)||null,ie=((Se=O.customerId)==null?void 0:Se._id)||((je=O.customerId)==null?void 0:je.id)||((Y=O.userId)==null?void 0:Y._id)||((re=O.customer)==null?void 0:re._id)||"unknown",pe=O.rating||O.providerRating||O.overallRating||O.score||0,le=O.comment||O.providerComment||O.reviewText||O.feedback||"",ke=O.serviceType||((xe=O.bookingId)==null?void 0:xe.serviceType)||((ve=O.service)==null?void 0:ve.type)||"General Service";return{_id:O._id||O.id||`review-${Date.now()}-${Math.random()}`,customerId:{_id:ie,name:I,profileImage:Q},rating:Math.max(1,Math.min(5,pe)),comment:le,serviceType:ke,createdAt:O.createdAt||O.ratedAt||O.date||new Date().toISOString(),helpful:O.helpful||O.likes||O.helpfulCount||0,verified:O.verified||!1}}).filter(O=>O.rating>0);console.log(" Transformed REAL reviews:",V),E(V)}else console.log(" Reviews API error:",ne.message),E([])}else console.log(" Reviews fetch failed:",se.status),E([])}catch(se){console.error(" Error fetching reviews:",se),E([])}finally{f(!1)}};c.useEffect(()=>{const L=localStorage.getItem("userData");if(L)try{const W=JSON.parse(L);Z(se=>({...se,id:W._id||W.id,name:W.name||se.name,email:W.email||se.email,phoneNumber:W.phoneNumber||se.phoneNumber,address:W.address||se.address}))}catch(W){console.error("Error parsing user data:",W)}},[]),c.useEffect(()=>{t&&q()},[t]),c.useEffect(()=>{r&&(console.log(" Provider loaded, fetching additional data..."),v(),$(),w())},[r]);const A=()=>{r&&(C(r.isAvailableNow?"immediate":"long-term"),S(!0))},N=async L=>{try{const W=localStorage.getItem("authToken")||localStorage.getItem("token"),se=await fetch(`${Wt}/api/bookings`,{method:"POST",headers:{"Content-Type":"application/json",...W&&{Authorization:`Bearer ${W}`}},body:JSON.stringify(L)});if(se.ok)await se.json(),alert("Booking request submitted successfully! The provider will be notified."),S(!1);else throw new Error("Failed to submit booking request")}catch(W){throw console.error("Booking error:",W),W}},m=(L,W="w-4 h-4")=>{const se=Math.min(Math.max(L,0),5);return[...Array(5)].map((ne,ee)=>e.jsx(Te,{className:`${W} ${ee<Math.floor(se)?"text-yellow-400 fill-current":"text-gray-300"}`},ee))},P=L=>{const W=L.target;console.error(" Image failed to load:",W.src),W.style.display="none";const se=W.parentElement;if(se){const ne=se.querySelector(".fallback-initials");ne&&(ne.style.display="flex")}},B=L=>{console.log(" Image loaded successfully:",L.currentTarget.src)},U=(L,W)=>{const se=L.currentTarget;if(console.error(" Gallery image failed to load:",{src:se.src,imageId:W._id,title:W.title,fullImageUrl:W.fullImageUrl,imageUrl:W.imageUrl}),W.fullImageUrl&&se.src!==W.fullImageUrl){console.log(" Trying fullImageUrl:",W.fullImageUrl),se.src=W.fullImageUrl;return}console.log(" Using placeholder for:",W.title),se.src="https://via.placeholder.com/400x300?text="+encodeURIComponent(W.title||"Image Not Available")},D=[{id:"overview",name:"Overview"},{id:"services",name:"Services"},{id:"gallery",name:`Gallery ${g.length>0?`(${g.length})`:""}`},{id:"reviews",name:`Reviews ${x.length>0?`(${x.length})`:""}`}],J=(()=>{const L={5:0,4:0,3:0,2:0,1:0};return x.forEach(W=>{W.rating>=1&&W.rating<=5&&L[W.rating]++}),L})(),z=x.length;return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading provider profile..."})]})}):o||!r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(rt,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Provider Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o||"The provider profile could not be loaded."}),e.jsx("button",{onClick:()=>s(-1),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Go Back"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>s(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(to,{className:"w-5 h-5 text-gray-600"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:"Provider Profile"})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-8 mb-4 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 sm:gap-6",children:[e.jsxs("div",{className:"relative mx-auto sm:mx-0",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl sm:text-2xl overflow-hidden relative",children:r.profileImage?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:Yi(r.profileImage),alt:r.name,className:"w-full h-full object-cover",onError:P,onLoad:B}),e.jsx("div",{className:"fallback-initials absolute inset-0 bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-bold text-xl sm:text-2xl",style:{display:"none"},children:r.name.charAt(0).toUpperCase()})]}):r.name.charAt(0).toUpperCase()}),r.isAvailableNow&&e.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 w-5 h-5 sm:w-6 sm:h-6 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsx(dt,{className:"w-2 h-2 sm:w-3 sm:h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r.name}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[r.isVerified&&e.jsx(Le,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"}),r.isTopRated&&e.jsx(os,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-500"})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[m(r.averageRating,"w-4 h-4 sm:w-5 sm:h-5"),e.jsx("span",{className:"font-bold text-gray-900",children:r.averageRating.toFixed(1)}),e.jsxs("span",{className:"text-gray-600 text-sm",children:["(",r.reviewCount," reviews)"]})]})}),e.jsxs("div",{className:"space-y-2 text-sm sm:text-base text-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[r.city,", ",r.state,", ",r.country]})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[e.jsx(Ie,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsxs("span",{children:["Response time: ",r.responseTime||"Within 1 hour"]})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[e.jsx(zs,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsxs("span",{children:[r.completedJobs," jobs completed"]})]}),r.joinedDate&&e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[e.jsx(Me,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsxs("span",{children:["Member since ",r.joinedDate]})]})]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsx("button",{onClick:A,className:"bg-gradient-to-r from-green-600 to-green-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200 flex-1 sm:flex-none",children:"Book Now"})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 mb-4 sm:mb-8",children:[e.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:e.jsx("nav",{className:"flex px-4 sm:px-6 min-w-max sm:min-w-0",children:D.map(L=>e.jsx("button",{onClick:()=>h(L.id),className:`py-3 sm:py-4 px-4 sm:px-6 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${d===L.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:L.name},L.id))})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[d==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Services Offered"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:r.services.map((L,W)=>e.jsx("div",{className:"bg-green-50 text-green-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg font-medium text-center text-sm",children:L},W))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Professional Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Experience"}),e.jsx("p",{className:"text-gray-900",children:r.experience})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Rate"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:["",r.hourlyRate]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[R&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Performance Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-gray-600",children:"Completed Jobs"})]}),e.jsx("span",{className:"font-bold text-gray-900",children:R.completedJobs})]}),R.onTimeDelivery>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bf,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-gray-600",children:"On-time Delivery"})]}),e.jsxs("span",{className:"font-bold text-green-600",children:[R.onTimeDelivery,"%"]})]}),R.responseRate>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ar,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-gray-600",children:"Response Rate"})]}),e.jsxs("span",{className:"font-bold text-green-600",children:[R.responseRate,"%"]})]}),R.totalEarnings>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-gray-600",children:"Total Earnings"})]}),e.jsxs("span",{className:"font-bold text-gray-900",children:["",R.totalEarnings.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm break-all",children:r.email})]}),r.phoneNumber&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 text-sm",children:r.phoneNumber})]}),r.address&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:r.address})]})]})]})]})]}),d==="services"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"All Services"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.services.map((L,W)=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("h4",{className:"font-bold text-gray-900 text-base sm:text-lg",children:L})]}),e.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:["Professional ",L.toLowerCase()," services with years of experience and quality guarantee."]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-green-600",children:["",r.hourlyRate]}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"per hour"})]})]},W))})]}),d==="gallery"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Work Gallery"}),e.jsxs("span",{className:"text-gray-600 text-sm",children:[g.length," projects"]})]}),b?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:[...Array(8)].map((L,W)=>e.jsx("div",{className:"aspect-square bg-gray-200 rounded-xl sm:rounded-2xl animate-pulse"},W))}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:g.map(L=>e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden cursor-pointer hover:shadow-lg transition-all duration-300",onClick:()=>F(L),children:[e.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[e.jsx("img",{src:_m(L),alt:L.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:W=>U(W,L),onLoad:W=>console.log(" Gallery image loaded:",W.currentTarget.src)}),L.featured&&e.jsx("div",{className:"absolute top-2 left-2 bg-amber-500 text-white px-2 py-1 rounded-lg text-xs font-medium",children:"Featured"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h4",{className:"text-white font-semibold text-sm mb-1 line-clamp-2",children:L.title}),e.jsx("p",{className:"text-gray-300 text-xs line-clamp-2",children:L.description}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-gray-300 text-xs capitalize",children:L.category}),(L.likes||L.views)&&e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[L.likes&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zo,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:L.likes})]}),L.views&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:L.views})]})]})]})]})})]},L._id))}),g.length===0&&!b&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gh,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500",children:"No gallery images available"})]})]}),d==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Customer Reviews"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Based on ",x.length," verified reviews"]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-green-50 px-4 py-2 rounded-xl w-fit",children:[e.jsx("div",{className:"flex items-center gap-1",children:m(r.averageRating,"w-4 h-4 sm:w-5 sm:h-5")}),e.jsx("span",{className:"font-bold text-gray-900 text-sm sm:text-base",children:r.averageRating.toFixed(1)})]})]}),z>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Rating Breakdown"}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(L=>{const W=J[L],se=z>0?W/z*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 w-16",children:[e.jsx("span",{className:"text-sm text-gray-600 w-4",children:L}),e.jsx(Te,{className:"w-4 h-4 text-yellow-400 fill-current"})]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${se}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[W," (",se.toFixed(0),"%)"]})]},L)})})]}),y?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((L,W)=>e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-24 sm:w-32"}),e.jsx("div",{className:"h-2 sm:h-3 bg-gray-200 rounded w-16 sm:w-24"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-3/4"})]})]},W))}):e.jsx("div",{className:"space-y-4",children:x.map(L=>{var W,se,ne,ee;return e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm sm:text-base overflow-hidden flex-shrink-0",children:(W=L.customerId)!=null&&W.profileImage?e.jsx("img",{src:Yi(L.customerId.profileImage),alt:((se=L.customerId)==null?void 0:se.name)||"Customer",className:"w-full h-full object-cover"}):(((ne=L.customerId)==null?void 0:ne.name)||"C").charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base truncate",children:((ee=L.customerId)==null?void 0:ee.name)||"Anonymous Customer"}),L.verified&&e.jsx(Le,{className:"w-4 h-4 text-green-500"})]}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:new Date(L.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center gap-1",children:m(L.rating)}),e.jsx("span",{className:"text-xs sm:text-sm text-green-600 font-medium",children:L.serviceType||"General Service"})]})]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base mb-3",children:L.comment}),L.helpful&&L.helpful>0&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(zo,{className:"w-3 h-3"}),e.jsxs("span",{children:[L.helpful," people found this helpful"]})]})]},L._id)})}),x.length===0&&!y&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Te,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500",children:"No reviews yet"})]})]})]})]})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate pr-4",children:k.title}),e.jsx("button",{onClick:()=>F(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:e.jsx(Ae,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"p-4 sm:p-6 max-h-[calc(90vh-80px)] overflow-y-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl overflow-hidden",children:e.jsx("img",{src:_m(k),alt:k.title,className:"w-full h-full object-cover",onError:L=>U(L,k)})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[k.views&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsxs("span",{children:[k.views," views"]})]}),k.likes&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zo,{className:"w-4 h-4"}),e.jsxs("span",{children:[k.likes," likes"]})]})]}),e.jsx("span",{className:"text-gray-500",children:new Date(k.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Project Details"}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:k.description||"No description available for this project."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-xl",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Category"}),e.jsx("p",{className:"font-semibold text-gray-900 capitalize text-sm sm:text-base",children:k.category})]}),e.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-xl",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Status"}),e.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:k.featured?"Featured":"Standard"})]})]}),e.jsx("button",{onClick:()=>{F(null),A()},className:"w-full bg-gradient-to-r from-green-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Book Similar Service"})]})]})})]})}),T&&e.jsx(rb,{isOpen:T,provider:r,currentUser:_,onClose:()=>S(!1),onConfirm:N,serviceType:p})]})};class Kr{constructor(){this.apiKey="AIzaSyCzCXLK2_d7OT0rlw-L7TObYIS1LqDh2_Q",this.map=null,this.markers=[],this.isLoaded=!1,this.loadPromise=null}static getInstance(){return Kr.instance||(Kr.instance=new Kr),Kr.instance}async loadGoogleMaps(){var s;return this.isLoaded&&((s=window.google)!=null&&s.maps)?!0:this.loadPromise?this.loadPromise:(this.loadPromise=new Promise(r=>{if(window.google&&window.google.maps){console.log(" Google Maps already available globally"),this.isLoaded=!0,this.loadPromise=null,r(!0);return}if(document.querySelector('script[src*="maps.googleapis.com/maps/api/js"]')){console.log(" Google Maps script already exists, waiting for load...");const l=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(l),this.isLoaded=!0,this.loadPromise=null,console.log(" Existing Google Maps script loaded successfully"),r(!0))},100);setTimeout(()=>{var o;clearInterval(l),(o=window.google)!=null&&o.maps||(console.error(" Timeout waiting for Google Maps to load"),this.loadPromise=null,r(!1))},1e4);return}console.log(" Loading Google Maps script...");const a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${this.apiKey}&libraries=places,geometry`,a.async=!0,a.defer=!0,a.onload=()=>{console.log(" Google Maps script loaded successfully"),setTimeout(()=>{this.isLoaded=!0,this.loadPromise=null,r(!0)},100)},a.onerror=l=>{console.error(" Failed to load Google Maps script:",l),this.isLoaded=!1,this.loadPromise=null,r(!1)},document.head.appendChild(a)}),this.loadPromise)}initializeMap(s,r={}){var a;if(!this.isLoaded||!((a=window.google)!=null&&a.maps))throw new Error("Google Maps not loaded. Call loadGoogleMaps() first.");(!s.offsetParent||s.offsetWidth===0||s.offsetHeight===0)&&console.warn("Map container might not be visible or have dimensions");const n={zoom:12,center:{lat:6.5244,lng:3.3792},mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}],...r};try{return console.log(" Initializing map..."),this.map=new google.maps.Map(s,n),console.log(" Map initialized successfully"),this.map}catch(l){throw console.error(" Error initializing map:",l),l}}addMarker(s,r,n=!1,a=!0){var i;if(!this.map||!((i=window.google)!=null&&i.maps))return console.warn("Map not initialized when adding marker"),null;const l=n?"#EF4444":a?"#10B981":"#6B7280",o=new google.maps.Marker({position:s,map:this.map,title:r,icon:{url:`data:image/svg+xml;base64,${btoa(`
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="20" cy="20" r="18" fill="${l}" stroke="white" stroke-width="3"/>
            <circle cx="20" cy="20" r="8" fill="white"/>
            ${n?`<circle cx="20" cy="20" r="4" fill="${l}"/>`:""}
          </svg>
        `)}`,scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,20)},animation:n?google.maps.Animation.BOUNCE:void 0});return this.markers.push(o),o}addProviderMarker(s,r=!1,n){if(!s.coordinates||s.coordinates.length!==2)return console.warn(`Provider ${s.name} missing coordinates`),null;const a={lat:s.coordinates[0],lng:s.coordinates[1]},l=this.addMarker(a,s.name,r,s.isAvailableNow);return l&&n&&l.addListener("click",()=>{n(s)}),l}clearMarkers(){this.markers.forEach(s=>{s&&s.setMap(null)}),this.markers=[]}setMapCenter(s,r){this.map&&(this.map.setCenter(s),r!==void 0&&this.map.setZoom(r))}fitBounds(s){this.map&&s&&!s.isEmpty()&&this.map.fitBounds(s)}calculateDistance(s,r){var n,a;if(!((a=(n=window.google)==null?void 0:n.maps)!=null&&a.geometry))return console.warn("Google Maps geometry library not loaded"),0;try{const l=new google.maps.LatLng(s.lat,s.lng),o=new google.maps.LatLng(r.lat,r.lng);return google.maps.geometry.spherical.computeDistanceBetween(l,o)}catch(l){return console.error("Error calculating distance:",l),0}}destroy(){console.log(" Cleaning up Google Maps service..."),this.clearMarkers(),this.map=null}isGoogleMapsLoaded(){var s;return this.isLoaded&&!!((s=window.google)!=null&&s.maps)}getMap(){return this.map}reset(){this.destroy(),this.isLoaded=!1,this.loadPromise=null}}const it=Kr.getInstance(),Dm="https://backendhomeheroes.onrender.com",ab=({providers:t,userLocation:s,selectedProvider:r,onProviderSelect:n,searchRadius:a,searchQuery:l})=>{const[o,i]=c.useState(!1),[d,h]=c.useState(""),[g,u]=c.useState(!0),[x,E]=c.useState(!1),[k,F]=c.useState(t),b=Ut(),j=c.useRef(!0),y=c.useRef(null),f=c.useRef(!1),T=c.useRef(`map-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),S=c.useRef([]),p=c.useRef([]),C=c.useRef(!1);c.useEffect(()=>{console.log(" StandaloneMapView - Providers received:",{totalProviders:t.length,providersWithCoordinates:t.filter(v=>v.coordinates&&v.coordinates.length===2).length,providers:t.map(v=>({name:v.name,coordinates:v.coordinates,hasCoordinates:!!(v.coordinates&&v.coordinates.length===2)}))})},[t]),c.useEffect(()=>{if(!l.trim())F(t);else{const v=l.toLowerCase().trim(),$=t.filter(w=>{var D,M,J,z;const N=(w.services||[]).some(L=>L.toLowerCase().includes(v)),m=(D=w.name)==null?void 0:D.toLowerCase().includes(v),P=(M=w.businessName)==null?void 0:M.toLowerCase().includes(v),B=(J=w.category)==null?void 0:J.toLowerCase().includes(v),U=(z=w.specialty)==null?void 0:z.toLowerCase().includes(v);return N||m||P||B||U});F($),console.log(` Filtered ${$.length} providers for query: "${l}"`)}},[t,l]);const R=c.useCallback(()=>{S.current.forEach(v=>{v&&v.close()}),S.current=[]},[]),G=c.useCallback(v=>{console.log(" Navigating to provider profile:",v._id||v.id),b(`/customer/provider/${v._id||v.id}`,{state:{provider:v}})},[b]),K=c.useCallback(v=>{document.querySelectorAll(".provider-card").forEach(A=>{A.classList.remove("border-blue-500","bg-blue-50","ring-2","ring-blue-200"),A.classList.add("border-gray-200","bg-white")});const w=document.querySelector(`[data-provider-id="${v.id||v._id}"]`);w&&(w.classList.remove("border-gray-200","bg-white"),w.classList.add("border-blue-500","bg-blue-50","ring-2","ring-blue-200"),w.scrollIntoView({behavior:"smooth",block:"nearest"}))},[]),X=c.useCallback(v=>{console.log(" Sidebar provider clicked:",v.name),C.current=!0,n(v);const $=p.current.findIndex((w,A)=>{const N=k[A];return N&&(N.id===v.id||N._id===v._id)});if(console.log(" Found marker index:",$),$!==-1&&p.current[$])if(R(),v.coordinates&&v.coordinates.length===2){const w={lat:v.coordinates[0],lng:v.coordinates[1]};console.log(" Centering map on:",w),it.setMapCenter(w,15);const A=p.current[$],N=S.current[$];N&&A?(console.log(" Opening info window for provider:",v.name),N.open(it.getMap(),A),K(v)):console.warn(" Info window or marker not found for provider:",v.name)}else console.warn(" Provider missing coordinates:",v.name,v.coordinates);else console.warn(" No marker found for provider:",v.name),console.log(" Available markers:",p.current.length),console.log(" Available providers:",k.map(w=>w.name));setTimeout(()=>{C.current=!1},100)},[n,k,R,K]),_=c.useCallback(async()=>{if(!(!j.current||f.current))try{console.log(" Starting map initialization..."),u(!0),h(""),console.log(" Loading Google Maps API...");const v=await it.loadGoogleMaps();if(!j.current)return;if(!v)throw new Error("Failed to load Google Maps. Please check your internet connection.");console.log(" Google Maps loaded, creating map container..."),await new Promise(A=>setTimeout(A,1e3));let $=document.getElementById(T.current);if($)console.log(" Map section already exists, reusing it");else{const A=[document.querySelector("main"),document.querySelector('[class*="container"]'),document.querySelector('[class*="main"]'),document.querySelector('[class*="content"]'),document.body].filter(Boolean);let N=null;for(const m of A)if(m){N=m;break}if(!N)throw new Error("Cannot find suitable container for map");console.log(" Found target container:",N.tagName,N.className),$=document.createElement("div"),$.id=T.current,$.className="standalone-map-section",$.innerHTML=`
          <div class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="bg-white rounded-lg p-4 shadow-sm border">
                <div class="flex items-center space-x-3">
                  <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </div>
                  <div>
                    <p class="text-sm text-gray-600">${l?"Matching Providers":"Total Providers"}</p>
                    <p class="text-2xl font-bold text-gray-900">${k.length}</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-white rounded-lg p-4 shadow-sm border">
                <div class="flex items-center space-x-3">
                  <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <div>
                    <p class="text-sm text-gray-600">Available Now</p>
                    <p class="text-2xl font-bold text-gray-900">${k.filter(m=>m.isAvailableNow).length}</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-white rounded-lg p-4 shadow-sm border">
                <div class="flex items-center space-x-3">
                  <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                    </svg>
                  </div>
                  <div>
                    <p class="text-sm text-gray-600">Search Radius</p>
                    <p class="text-2xl font-bold text-gray-900">${a} miles</p>
                  </div>
                </div>
              </div>
            </div>

            ${l?`
              <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <div class="flex items-center justify-between">
                  <div class="flex items-center space-x-3">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <div>
                      <p class="text-sm font-medium text-blue-900">Showing results for: <span class="font-bold">"${l}"</span></p>
                      <p class="text-xs text-blue-700">Found ${k.length} provider${k.length!==1?"s":""}</p>
                    </div>
                  </div>
                  ${k.length===0?`
                    <button id="clear-search-${T.current}" class="text-blue-600 hover:text-blue-800 text-sm font-medium cursor-pointer">
                      Clear Search
                    </button>
                  `:""}
                </div>
              </div>
            `:""}

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
              <div class="lg:col-span-2">
                <div class="bg-white rounded-xl shadow-sm border overflow-hidden">
                  <div class="p-4 border-b">
                    <h3 class="font-semibold text-gray-900 flex items-center space-x-2">
                      <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                      </svg>
                      <span>${l?`"${l}" Providers`:"Provider Locations"}</span>
                    </h3>
                    <p class="text-sm text-gray-600 mt-1">
                      ${k.length===0?"No providers found matching your search criteria":"Click on any marker to view provider details"}
                    </p>
                  </div>
                  <div class="relative h-96">
                    <div id="${T.current}-map" class="w-full h-full bg-gray-100" style="min-height: 384px;">
                      <div class="w-full h-full flex items-center justify-center">
                        <div class="text-center">
                          <div class="w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"></div>
                          <p class="text-gray-500 text-sm">Loading map...</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="space-y-4" id="${T.current}-sidebar">
                <div class="bg-white rounded-xl shadow-sm border p-4">
                  <h3 class="font-semibold text-gray-900 mb-3 flex items-center space-x-2">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span>${l?`Matching Providers (${k.length})`:`Available Providers (${k.length})`}</span>
                  </h3>
                  <div class="space-y-3" id="${T.current}-provider-list">
                    ${k.length===0?`
                      <div class="text-center py-8">
                        <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3">
                          <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/>
                          </svg>
                        </div>
                        <p class="text-gray-500 text-sm mb-2">No providers found for "${l}"</p>
                        <p class="text-gray-400 text-xs">Try adjusting your search terms or location</p>
                      </div>
                    `:k.map(m=>{var P,B,U;return`
                      <div class="provider-card p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer bg-white" data-provider-id="${m.id||m._id}">
                        <div class="flex items-center space-x-3">
                          <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold overflow-hidden">
                            ${m.profileImage||m.profilePicture||m.avatar?`<img src="${(P=m.profileImage)!=null&&P.startsWith("http")?m.profileImage:((B=m.profileImage)!=null&&B.startsWith("/")?Dm+m.profileImage:m.profileImage)||m.profilePicture||m.avatar}" 
                                    alt="${m.name}" 
                                    class="w-full h-full object-cover"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                              >`:""}
                            <div class="absolute inset-0 flex items-center justify-center ${m.profileImage||m.profilePicture||m.avatar?"hidden":"flex"}">
                              ${m.name.charAt(0)}
                            </div>
                          </div>
                          <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                              <h4 class="font-semibold text-gray-900 truncate">${m.name}</h4>
                              ${m.isAvailableNow?`
                                <div class="flex items-center space-x-1">
                                  <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                                  <span class="text-xs text-green-600 font-medium">Available</span>
                                </div>
                              `:""}
                            </div>
                            <p class="text-sm text-gray-600 truncate">${((U=m.services)==null?void 0:U.slice(0,2).join(", "))||"Service Provider"}</p>
                            <div class="flex items-center space-x-2 mt-1">
                              <div class="flex items-center space-x-1">
                                <svg class="w-3 h-3 text-yellow-500 fill-current" viewBox="0 0 20 20">
                                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <span class="text-xs font-medium text-gray-700">${(m.rating||m.averageRating||0).toFixed(1)}</span>
                              </div>
                              <span class="text-xs text-gray-500"></span>
                              <span class="text-xs text-gray-500">${m.reviewCount||0} reviews</span>
                            </div>
                          </div>
                        </div>
                        ${m.priceRange?`
                          <div class="mt-2 flex items-center justify-between">
                            <span class="text-sm font-semibold text-green-600">${m.priceRange}</span>
                            <button class="text-blue-600 hover:text-blue-700 text-xs font-medium view-profile-btn">
                              View Profile
                            </button>
                          </div>
                        `:""}
                      </div>
                    `}).join("")}
                  </div>
                </div>
              </div>
            </div>
          </div>
        `,N.appendChild($),console.log(" Map section inserted into DOM")}await new Promise(A=>setTimeout(A,500));const w=document.getElementById(`${T.current}-map`);if(!w)throw new Error("Map container not found after DOM insertion");if(y.current=w,console.log(" Map container ready, initializing map..."),it.getMap()?console.log(" Map already initialized, reusing existing map"):it.initializeMap(w,{zoom:10,center:s?{lat:s[0],lng:s[1]}:{lat:6.5244,lng:3.3792}}),!j.current)return;f.current=!0,i(!0),E(!0),u(!1),console.log(" Map initialized successfully!"),setTimeout(()=>{const A=document.querySelectorAll(".provider-card");console.log(` Found ${A.length} provider cards in sidebar`),A.forEach((B,U)=>{B.replaceWith(B.cloneNode(!0))}),document.querySelectorAll(".provider-card").forEach(B=>{B.addEventListener("click",U=>{if(!U.target.classList.contains("view-profile-btn")){const M=B.getAttribute("data-provider-id"),J=k.find(z=>z.id===M||z._id===M);J&&(console.log(" Provider card clicked:",J.name),X(J))}})}),document.querySelectorAll(".view-profile-btn").forEach(B=>{B.addEventListener("click",U=>{U.stopPropagation();const D=U.target.closest(".provider-card");if(D){const M=D.getAttribute("data-provider-id"),J=k.find(z=>z.id===M||z._id===M);J&&G(J)}})});const P=document.getElementById(`clear-search-${T.current}`);P&&P.addEventListener("click",()=>{console.log("Clear search requested")})},100)}catch(v){console.error(" Map initialization failed:",v),j.current&&(h(v instanceof Error?v.message:"Failed to initialize map"),u(!1))}},[s,k,a,l,X,G]),Z=c.useCallback(()=>{var v;if(!((v=window.google)!=null&&v.maps)||!it.getMap()){console.log(" Google Maps not ready for markers");return}try{console.log(" Creating markers for",k.length,"filtered providers"),console.log(" Providers with coordinates:",k.filter(N=>N.coordinates&&N.coordinates.length===2).length),p.current.forEach(N=>{N&&N.setMap(null)}),p.current=[],R();const $=new window.google.maps.LatLngBounds;let w=!1,A=0;if(k.forEach((N,m)=>{var P;if(N.coordinates&&N.coordinates.length===2){const B={lat:N.coordinates[0],lng:N.coordinates[1]};console.log(` Creating marker for provider: ${N.name} at`,B),$.extend(B),w=!0,A++;const U=N.profileImage||N.profilePicture||N.avatar,D=U!=null&&U.startsWith("http")?U:U!=null&&U.startsWith("/")?`${Dm}${U}`:U,M=new window.google.maps.Marker({position:B,map:it.getMap(),title:N.name,icon:{url:`data:image/svg+xml;base64,${btoa(`
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="20" cy="20" r="18" fill="${N.isAvailableNow?"#10B981":"#6B7280"}" stroke="white" stroke-width="3"/>
                  <circle cx="20" cy="20" r="8" fill="white"/>
                  ${(r==null?void 0:r.id)===N.id?`<circle cx="20" cy="20" r="4" fill="${N.isAvailableNow?"#10B981":"#6B7280"}"/>`:""}
                </svg>
              `)}`,scaledSize:new window.google.maps.Size(40,40),anchor:new window.google.maps.Point(20,20)},animation:(r==null?void 0:r.id)===N.id?window.google.maps.Animation.BOUNCE:void 0});p.current.push(M);const J=new window.google.maps.InfoWindow({content:`
              <div class="p-4 max-w-xs bg-white rounded-lg shadow-lg">
                <div class="flex justify-between items-start mb-3">
                  <h3 class="font-bold text-gray-900 text-lg">${N.name}</h3>
                  <button id="close-info-${N.id}" class="text-gray-400 hover:text-gray-600 text-lg font-bold cursor-pointer" style="border: none; background: none; outline: none;">
                    
                  </button>
                </div>
                <div class="flex items-center space-x-3 mb-3">
                  <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold overflow-hidden">
                    ${D?`<img src="${D}" 
                            alt="${N.name}" 
                            class="w-full h-full object-cover"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                      >`:""}
                    <div class="absolute inset-0 flex items-center justify-center ${D?"hidden":"flex"}">
                      ${N.name.charAt(0)}
                    </div>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm text-gray-600">${((P=N.services)==null?void 0:P.slice(0,2).join(", "))||"Service Provider"}</p>
                    <div class="flex items-center space-x-1 mt-1">
                      <span class="text-yellow-500"></span>
                      <span class="text-sm font-medium">${(N.rating||N.averageRating||0).toFixed(1)}</span>
                      <span class="text-xs text-gray-500">(${N.reviewCount||0})</span>
                    </div>
                  </div>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm text-gray-600">Price Range</p>
                    <p class="font-bold text-green-600">${N.priceRange||"Contact for pricing"}</p>
                  </div>
                  <button id="view-profile-${N.id}" class="text-blue-600 hover:text-blue-700 text-sm font-medium cursor-pointer" style="border: none; background: none; outline: none;">
                    View Profile
                  </button>
                </div>
                ${N.isAvailableNow?`
                  <div class="flex items-center space-x-1 mt-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-sm text-green-600 font-medium">Available Now</span>
                  </div>
                `:""}
              </div>
            `});S.current.push(J),M.addListener("click",()=>{console.log(" Marker clicked for provider:",N.name),R(),n(N),it.setMapCenter(B,15),J.open(it.getMap(),M),K(N),setTimeout(()=>{const z=document.getElementById(`close-info-${N.id}`);z&&z.addEventListener("click",()=>{J.close()});const L=document.getElementById(`view-profile-${N.id}`);L&&L.addEventListener("click",()=>{G(N),J.close()})},100)})}else console.warn(` Provider ${N.name} missing coordinates:`,N.coordinates)}),console.log(` Created ${A} markers out of ${k.length} filtered providers`),w)k.length>1?it.fitBounds($):k.length===1&&it.setMapCenter({lat:k[0].coordinates[0],lng:k[0].coordinates[1]},14);else if(k.length===0){const N=s?{lat:s[0],lng:s[1]}:{lat:6.5244,lng:3.3792};it.setMapCenter(N,10)}}catch($){console.error(" Error creating markers:",$)}},[k,r,n,G,R,K,s]);c.useEffect(()=>{var v,$;if(!o||!x||!((v=window.google)!=null&&v.maps)){console.log(" Map not ready for markers:",{isGoogleMapsLoaded:o,mapInitialized:x,googleMaps:!!(($=window.google)!=null&&$.maps)});return}if(k.length===0){console.log(" No providers to show, clearing markers"),p.current.forEach(w=>{w&&w.setMap(null)}),p.current=[],R();return}console.log(" Creating markers for filtered providers"),Z()},[o,x,k,Z,R]),c.useEffect(()=>{j.current=!0,f.current=!1,console.log(" StandaloneMapView mounted");const v=setTimeout(()=>{j.current&&!f.current&&_()},500);return()=>{if(C.current){console.log(" Skipping cleanup during click handling");return}console.log(" StandaloneMapView unmounting..."),j.current=!1,clearTimeout(v);const $=document.getElementById(T.current);$&&$.remove(),p.current.forEach(w=>{w&&w.setMap(null)}),p.current=[],R()}},[_,R]);const q=()=>{console.log(" Retrying map initialization..."),h(""),u(!0),E(!1),i(!1),f.current=!1,it.reset(),setTimeout(()=>{j.current&&_()},500)};return e.jsxs("div",{style:{display:"none"},children:[g&&e.jsx("div",{className:"h-96 bg-gray-100 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Google Maps..."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Initializing map service"}),e.jsx("button",{onClick:q,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Retry"})]})}),d&&e.jsx("div",{className:"h-96 bg-gray-100 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(Pe,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Map Loading Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:d}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("button",{onClick:q,className:"w-full px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Reload Page"})]})]})})]})},lb="https://backendhomeheroes.onrender.com",ob=()=>{const[t,s]=c.useState("processing"),[r,n]=c.useState(null),a=zt(),l=Ut();c.useEffect(()=>{const g=new URLSearchParams(a.search),u=g.get("bookingId");g.get("processor");const x=g.get("reference"),E=g.get("trxref");u&&o(u,x||E)},[a]);const o=async(g,u,x)=>{try{if(!u){s("failed");return}const k=await(await fetch(`${lb}/api/payments/verify-paystack`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({reference:u,bookingId:g})})).json();k.success?(s("success"),n(k.data.booking),setTimeout(()=>{l("/customer")},3e3)):s("failed")}catch(E){console.error("Payment verification error:",E),s("failed")}},i=g=>{const u=g*.2,x=g*.8;return{total:g,commission:u,providerAmount:x}};if(t==="processing")return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center",children:[e.jsx(Ie,{className:"w-16 h-16 text-blue-500 mx-auto mb-4 animate-pulse"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Payment"}),e.jsx("p",{className:"text-gray-600",children:"We're verifying your payment details..."})]})});if(t==="failed")return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center",children:[e.jsx(us,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue processing your payment."}),e.jsx("button",{onClick:()=>l("/customer"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"Return to Home"})]})});const d=(r==null?void 0:r.amount)||(r==null?void 0:r.price)||0,h=i(d);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center mb-6",children:[e.jsx(Ne,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Your payment has been processed successfully"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5"}),"Payment Breakdown"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),e.jsxs("span",{className:"font-semibold text-lg",children:["",h.total.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Platform Commission (20%):"}),e.jsxs("span",{className:"font-semibold text-amber-600",children:["",h.commission.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Provider Receives:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["",h.providerAmount.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5"}),"How Payment Works"]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"1"}),e.jsx("p",{children:"Your payment is held securely in escrow until service completion"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"2"}),e.jsx("p",{children:"After service completion, confirm you're satisfied with the work"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mt-0.5",children:"3"}),e.jsx("p",{children:"We release payment to the provider (minus 20% platform fee)"})]})]})]}),e.jsx("button",{onClick:()=>l("/customer"),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-semibold text-lg hover:bg-green-700 transition-colors",children:"Continue to Home"}),e.jsx("p",{className:"text-center text-gray-500 text-sm mt-4",children:"Redirecting automatically in 3 seconds..."})]})})},he={houseCleaning:{low:2e3,high:15e3},plumbing:{low:8e3,high:15e3},electrical:{low:1e4,high:2e4},gardenCare:{low:1500,high:4e3},handyman:{low:3e3,high:8e3},painting:{low:5e3,high:12e3},acRepair:{low:12e3,high:35e3},generatorRepair:{low:15e3,high:5e4},carpentry:{low:7e3,high:25e3},tiling:{low:8e3,high:3e4},masonry:{low:1e4,high:4e4},welding:{low:6e3,high:2e4},pestControl:{low:12e3,high:25e3},autoMechanic:{low:1e4,high:8e4},panelBeater:{low:15e3,high:1e5},autoElectrician:{low:8e3,high:35e3},vulcanizer:{low:500,high:3e3},carWash:{low:1500,high:5e3},hairStylist:{low:2e3,high:15e3},makeupArtist:{low:5e3,high:25e3},nailTechnician:{low:2e3,high:8e3},massageTherapist:{low:4e3,high:12e3},tailor:{low:1500,high:1e4},nanny:{low:15e3,high:4e4},cook:{low:1e4,high:35e3},laundry:{low:2e3,high:6e3},gardener:{low:2500,high:8e3},securityGuard:{low:2e4,high:6e4},cctvInstaller:{low:15e3,high:5e4},solarTechnician:{low:25e3,high:15e4},inverterTechnician:{low:8e3,high:3e4},itSupport:{low:5e3,high:25e3},interiorDesigner:{low:2e4,high:1e5},tvRepair:{low:6e3,high:25e3}},Oo={houseCleaning:15e3,plumbingRepair:25e3,gardenMaintenance:12e3,interiorPainting:35e3,deepCleaning:18e3,smartHomeSetup:28e3,wallPainting:32e3,electricalRepair:3e4,handymanService:2e4},Ce=(t,s)=>`${t.toLocaleString()}-${s.toLocaleString()}`,Vo=t=>`${t.toLocaleString()}`,ib=()=>[{id:"1",name:"House Cleaning",description:"Professional residential cleaning services",icon:"",averagePrice:Ce(he.houseCleaning.low,he.houseCleaning.high),providers:127},{id:"2",name:"Plumbing",description:"Repairs, installations, and maintenance",icon:"",averagePrice:Ce(he.plumbing.low,he.plumbing.high),providers:89},{id:"3",name:"Electrical",description:"Wiring, fixtures, and electrical repairs",icon:"",averagePrice:Ce(he.electrical.low,he.electrical.high),providers:76},{id:"20",name:"Hair Stylist",description:"Women's hair care and styling",icon:"",averagePrice:Ce(he.hairStylist.low,he.hairStylist.high),providers:134},{id:"8",name:"Generator Repairer",description:"Essential due to frequent power outages",icon:"",averagePrice:Ce(he.generatorRepair.low,he.generatorRepair.high),providers:32},{id:"9",name:"Carpenter",description:"Furniture making and repairs",icon:"",averagePrice:Ce(he.carpentry.low,he.carpentry.high),providers:67},{id:"17",name:"Vulcanizer",description:"Tyre repair and inflation",icon:"",averagePrice:Ce(he.vulcanizer.low,he.vulcanizer.high),providers:88},{id:"18",name:"Car Wash",description:"Professional vehicle cleaning services",icon:"",averagePrice:Ce(he.carWash.low,he.carWash.high),providers:203},{id:"4",name:"Garden Care",description:"Landscaping and garden maintenance",icon:"",averagePrice:Ce(he.gardenCare.low,he.gardenCare.high),providers:94},{id:"5",name:"Handyman",description:"General repairs and maintenance",icon:"",averagePrice:Ce(he.handyman.low,he.handyman.high),providers:156},{id:"6",name:"Painting",description:"Interior and exterior painting services",icon:"",averagePrice:Ce(he.painting.low,he.painting.high),providers:68},{id:"7",name:"AC/Fridge Technician",description:"Installation and repair of cooling systems",icon:"",averagePrice:Ce(he.acRepair.low,he.acRepair.high),providers:45},{id:"10",name:"Tiler",description:"Floor and wall tiling for homes and offices",icon:"",averagePrice:Ce(he.tiling.low,he.tiling.high),providers:53},{id:"11",name:"Mason/Bricklayer",description:"Building and structural repairs",icon:"",averagePrice:Ce(he.masonry.low,he.masonry.high),providers:41},{id:"12",name:"Welder",description:"Gates, burglar proofs, and metal works",icon:"",averagePrice:Ce(he.welding.low,he.welding.high),providers:48},{id:"13",name:"Pest Control",description:"Fumigation and pest management",icon:"",averagePrice:Ce(he.pestControl.low,he.pestControl.high),providers:39},{id:"14",name:"Auto Mechanic",description:"Car repair and maintenance",icon:"",averagePrice:Ce(he.autoMechanic.low,he.autoMechanic.high),providers:112},{id:"15",name:"Panel Beater",description:"Body repairs for cars",icon:"",averagePrice:Ce(he.panelBeater.low,he.panelBeater.high),providers:34},{id:"16",name:"Auto Electrician",description:"Vehicle wiring and electrical diagnostics",icon:"",averagePrice:Ce(he.autoElectrician.low,he.autoElectrician.high),providers:28},{id:"21",name:"Makeup Artist",description:"Events and personal makeup services",icon:"",averagePrice:Ce(he.makeupArtist.low,he.makeupArtist.high),providers:92},{id:"22",name:"Nail Technician",description:"Manicure, pedicure, nail art",icon:"",averagePrice:Ce(he.nailTechnician.low,he.nailTechnician.high),providers:78},{id:"23",name:"Spa/Massage Therapist",description:"Body massage and skincare",icon:"",averagePrice:Ce(he.massageTherapist.low,he.massageTherapist.high),providers:65},{id:"24",name:"Tailor",description:"Clothing design and alterations",icon:"",averagePrice:Ce(he.tailor.low,he.tailor.high),providers:117},{id:"25",name:"Nanny/Babysitter",description:"Childcare services",icon:"",averagePrice:Ce(he.nanny.low,he.nanny.high),providers:143},{id:"26",name:"Cook/Chef",description:"Home or event cooking",icon:"",averagePrice:Ce(he.cook.low,he.cook.high),providers:96},{id:"27",name:"Laundry Worker",description:"Washing and ironing clothes",icon:"",averagePrice:Ce(he.laundry.low,he.laundry.high),providers:124},{id:"28",name:"Gardener",description:"Lawn care and flower maintenance",icon:"",averagePrice:Ce(he.gardener.low,he.gardener.high),providers:87},{id:"29",name:"Security Guard",description:"Home and compound security",icon:"",averagePrice:Ce(he.securityGuard.low,he.securityGuard.high),providers:112},{id:"30",name:"CCTV Installer",description:"Security camera installation",icon:"",averagePrice:Ce(he.cctvInstaller.low,he.cctvInstaller.high),providers:41},{id:"31",name:"Solar Panel Technician",description:"Solar panel installation and repair",icon:"",averagePrice:Ce(he.solarTechnician.low,he.solarTechnician.high),providers:29},{id:"32",name:"Inverter Technician",description:"Inverter repair and maintenance",icon:"",averagePrice:Ce(he.inverterTechnician.low,he.inverterTechnician.high),providers:36},{id:"33",name:"IT Support",description:"Computer repair and IT services",icon:"",averagePrice:Ce(he.itSupport.low,he.itSupport.high),providers:54},{id:"34",name:"Interior Designer",description:"Home and office decoration",icon:"",averagePrice:Ce(he.interiorDesigner.low,he.interiorDesigner.high),providers:47},{id:"35",name:"TV Repairer",description:"Television repair and maintenance",icon:"",averagePrice:Ce(he.tvRepair.low,he.tvRepair.high),providers:31}],cb=()=>[{id:"1",name:"Sarah Johnson",rating:4.9,reviewCount:67,services:["House Cleaning","Deep Cleaning"],location:"2.3 miles away",priceRange:Ce(he.houseCleaning.low,he.houseCleaning.high),responseTime:"< 30 min",isVerified:!0,isTopRated:!0,avatar:"SJ",completedJobs:134,isAvailableNow:!0,coordinates:[37.7849,-122.4094],distance:2.3},{id:"2",name:"Mike Rodriguez",rating:4.8,reviewCount:45,services:["Plumbing","Handyman"],location:"1.8 miles away",priceRange:Ce(he.plumbing.low,he.plumbing.high),responseTime:"< 1 hr",isVerified:!0,isTopRated:!0,avatar:"MR",completedJobs:89,isAvailableNow:!0,coordinates:[37.7649,-122.4294],distance:1.8},{id:"3",name:"Alex Chen",rating:4.7,reviewCount:32,services:["Electrical","Smart Home"],location:"3.1 miles away",priceRange:Ce(he.electrical.low,he.electrical.high),responseTime:"< 2 hrs",isVerified:!0,isTopRated:!1,avatar:"AC",completedJobs:56,isAvailableNow:!1,coordinates:[37.7949,-122.3994],distance:3.1},{id:"4",name:"Emma Wilson",rating:4.9,reviewCount:78,services:["Garden Care","Landscaping"],location:"1.2 miles away",priceRange:Ce(he.gardenCare.low,he.gardenCare.high),responseTime:"< 45 min",isVerified:!0,isTopRated:!0,avatar:"EW",completedJobs:167,isAvailableNow:!0,coordinates:[37.7549,-122.4394],distance:1.2},{id:"5",name:"David Park",rating:4.6,reviewCount:23,services:["Painting","Interior Design"],location:"4.2 miles away",priceRange:Ce(he.painting.low,he.painting.high),responseTime:"< 3 hrs",isVerified:!0,isTopRated:!1,avatar:"DP",completedJobs:41,isAvailableNow:!0,coordinates:[37.8049,-122.4494],distance:4.2},{id:"6",name:"Lisa Martinez",rating:4.8,reviewCount:56,services:["House Cleaning","Organization"],location:"2.8 miles away",priceRange:Ce(he.houseCleaning.low,he.houseCleaning.high),responseTime:"< 1 hr",isVerified:!0,isTopRated:!0,avatar:"LM",completedJobs:98,isAvailableNow:!1,coordinates:[37.7449,-122.4594],distance:2.8}],db=()=>[{id:"1",provider:"Sarah Johnson",service:"House Cleaning",date:"Today",time:"2:00 PM",status:"upcoming",price:Vo(Oo.houseCleaning)},{id:"2",provider:"Mike Rodriguez",service:"Plumbing Repair",date:"Tomorrow",time:"10:30 AM",status:"upcoming",price:Vo(Oo.plumbingRepair)},{id:"3",provider:"Emma Wilson",service:"Garden Maintenance",date:"Dec 18",time:"9:00 AM",status:"completed",price:Vo(Oo.gardenMaintenance)}],mb=ib();cb();db();const Zt="https://backendhomeheroes.onrender.com",ub=()=>{const[t,s]=c.useState(""),[r,n]=c.useState(""),[a,l]=c.useState({query:"",location:"",serviceType:"immediate",searchRadius:10}),[o,i]=c.useState(!1),[d,h]=c.useState("immediate"),[g,u]=c.useState(!1),[x,E]=c.useState(!1),[k,F]=c.useState(null),[b,j]=c.useState("list"),[y,f]=c.useState(10),[T,S]=c.useState(null),[p,C]=c.useState(null),[R,G]=c.useState(null),[K,X]=c.useState([]),_=Ut(),Z=c.useRef(null),[q,v]=c.useState({id:"user-1",name:"John Doe",email:"john.doe@email.com",phone:"+1 (555) 123-4567",address:"123 Main St, City, State 12345",bio:"Homeowner looking for reliable service providers for regular maintenance and repairs.",avatar:null}),[$,w]=c.useState({conversations:[],activeConversation:null,messages:{}}),[A,N]=c.useState({show:!1,message:"",providerName:""}),m=$.conversations.reduce((te,ae)=>te+(ae.unreadCount||0),0),P=c.useCallback(async()=>{try{const te=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!te)return;const ae=new URLSearchParams;a.query&&ae.append("service",a.query),a.location&&ae.append("location",a.location),a.serviceType&&ae.append("serviceType",a.serviceType),ae.append("radius",a.searchRadius.toString());const ge=await fetch(`${Zt}/api/providers?${ae.toString()}`,{headers:{Authorization:`Bearer ${te}`}});if(ge.ok){const Se=await ge.json();if(Se.success){const je=Se.data.providers.map(Y=>({id:Y._id||Y.id,_id:Y._id,name:Y.name||"Unknown Provider",avatar:Y.profileImage||Y.avatar||"P",rating:Y.rating||0,reviewCount:Y.reviewCount||0,location:Y.address||Y.location||"Location not specified",coordinates:Y.coordinates||[6.5244,3.3792],services:Y.services||Y.skills||[],priceRange:Y.priceRange||"Contact for pricing",isAvailableNow:Y.isAvailable||Y.isAvailableNow||!1,isVerified:Y.isVerified||!1,isTopRated:Y.rating>=4.5||!1,phoneNumber:Y.phoneNumber||Y.contactNumber}));X(je)}}else console.error("Failed to fetch providers"),X([])}catch(te){console.error("Error fetching providers:",te),X([])}},[a,R]),B=async()=>{try{const te=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!te)return;const ae=await fetch(`${Zt}/api/messages/conversations`,{headers:{Authorization:`Bearer ${te}`}});if(ae.ok){const ge=await ae.json();if(ge.success){const Se=ge.data.conversations.map(je=>{var re;const Y=je.participants.find(xe=>xe._id!==q.id);return{id:je._id,providerId:Y==null?void 0:Y._id,providerName:(Y==null?void 0:Y.name)||"Unknown Provider",providerService:((re=Y==null?void 0:Y.services)==null?void 0:re[0])||"Service Provider",providerAvatar:(Y==null?void 0:Y.profileImage)||"",isOnline:!0,unreadCount:0,lastMessage:je.lastMessage?{id:je.lastMessage._id,senderId:je.lastMessage.senderId._id,content:je.lastMessage.content,timestamp:new Date(je.lastMessage.timestamp),status:je.lastMessage.status}:{id:"temp",senderId:"system",content:"No messages yet",timestamp:new Date,status:"sent"}}});w(je=>({...je,conversations:Se}))}}}catch(te){console.error("Error fetching conversations:",te)}},U=async te=>{try{const ae=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!ae)return;const ge=await fetch(`${Zt}/api/messages/conversation/${te}?limit=100`,{headers:{Authorization:`Bearer ${ae}`}});if(ge.ok){const Se=await ge.json();if(Se.success){const je=Se.data.messages.map(Y=>({id:Y._id,senderId:Y.senderId._id,content:Y.content,timestamp:new Date(Y.timestamp),status:Y.status,isMe:Y.senderId._id===q.id}));w(Y=>({...Y,messages:{...Y.messages,[te]:je}}))}}}catch(ae){console.error("Error fetching messages:",ae)}},D=async(te,ae)=>{try{const ge=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!ge){alert("Please log in to send messages");return}(await fetch(`${Zt}/api/messages/send`,{method:"POST",headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"},body:JSON.stringify({conversationId:te,content:ae,messageType:"text"})})).ok?(await U(te),await B()):alert("Failed to send message")}catch(ge){console.error("Error sending message:",ge),alert("Error sending message")}},M=async te=>{var ae,ge,Se;try{const je=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!je){alert("Please log in to message providers");return}console.log(" Starting conversation with provider:",te);const re=await(await fetch(`${Zt}/api/messages/conversation`,{method:"POST",headers:{Authorization:`Bearer ${je}`,"Content-Type":"application/json"},body:JSON.stringify({participantId:te})})).json();if(re.success){const xe=((ge=(ae=re.data)==null?void 0:ae.conversation)==null?void 0:ge._id)||((Se=re.conversation)==null?void 0:Se._id);console.log(" Conversation started with ID:",xe),await B(),xe&&J(xe)}else console.error(" Failed to start conversation:",re.message),alert("Failed to start conversation: "+re.message)}catch(je){console.error("Error starting conversation:",je),alert("Error starting conversation")}},J=async te=>{w(ae=>({...ae,activeConversation:te})),await U(te)},z=(te,ae)=>{N({show:!0,message:`Customer is approaching! Distance: ${Math.round(te)}m, ETA: ${Math.round(ae/60)} minutes`,providerName:(p==null?void 0:p.name)||""}),"Notification"in window&&Notification.permission==="granted"&&new Notification("Customer Approaching",{body:`Customer is ${Math.round(te)}m away from ${p==null?void 0:p.name}. ETA: ${Math.round(ae/60)}min`,icon:"/favicon.ico"})},L=()=>{N({show:!0,message:"Customer has arrived at your location!",providerName:(p==null?void 0:p.name)||""}),"Notification"in window&&Notification.permission==="granted"&&new Notification("Customer Arrived",{body:`Customer has arrived at ${p==null?void 0:p.name}'s location`,icon:"/favicon.ico"}),setTimeout(()=>{N(te=>({...te,show:!1}))},5e3)};c.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]),c.useEffect(()=>{if($.activeConversation){const te=setInterval(()=>{U($.activeConversation),B()},5e3);return()=>clearInterval(te)}},[$.activeConversation]),c.useEffect(()=>{R&&B()},[R]),c.useEffect(()=>{R&&P()},[R,a,P]);const W=async te=>{try{console.log(" Validating token...");const ae=await fetch(`${Zt}/api/auth/profile`,{headers:{Authorization:`Bearer ${te}`}});return ae.status===401?(console.log(" Token invalid (401)"),!1):ae.ok?(console.log(" Token is valid"),!0):(console.log(` Token validation failed with status: ${ae.status}`),!1)}catch(ae){return console.error(" Token validation error:",ae),!1}};c.useEffect(()=>{const te=localStorage.getItem("authToken")||localStorage.getItem("token");(async()=>{if(te)try{console.log(" Checking token validity..."),await W(te)?(G(te),await se(te),await B(),await P(),console.log(" App initialized successfully")):(console.log(" Token invalid, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("token"),_("/login"))}catch(ge){console.error(" Error initializing app:",ge),localStorage.removeItem("authToken"),localStorage.removeItem("token"),_("/login")}else console.log(" No token found, redirecting to login"),_("/login")})()},[_]);const se=async te=>{try{const ae=await fetch(`${Zt}/api/auth/profile`,{headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"}});if(ae.ok){const ge=await ae.json();ge.success&&ge.data.user&&v({id:ge.data.user._id,name:ge.data.user.name,email:ge.data.user.email,phone:ge.data.user.phoneNumber||"+1 (555) 123-4567",address:ge.data.user.address||"123 Main St, City, State 12345",bio:"Homeowner looking for reliable service providers for regular maintenance and repairs.",avatar:ge.data.user.profileImage||null})}}catch(ae){console.error("Error loading user profile:",ae)}},ne=async()=>{try{const te=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(te&&!(await fetch(`${Zt}/api/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"}})).ok)throw new Error("Logout failed")}catch(te){console.error("Logout error:",te)}finally{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),localStorage.removeItem("favorites"),G(null),_("/login")}},ee=te=>{s(te.name),O(te.name,r,d)},V=te=>{n(te.address),te.coordinates&&te.coordinates.length===2&&S([te.coordinates[0],te.coordinates[1]])},O=c.useCallback((te,ae,ge)=>{if(console.log(" Performing search with:",{query:te,location:ae,searchServiceType:ge}),l({query:te||"",location:ae||"",serviceType:ge,searchRadius:y}),h(ge),Z.current){const Y=Z.current.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:Y,behavior:"smooth"})}},[y]),I=c.useCallback(te=>{console.log(" Service type changed to:",te),h(te),O(t,r,te)},[t,r,O]),Q=c.useCallback(te=>{console.log(" Search radius changed to:",te),f(te),O(t,r,d)},[t,r,d,O]),ie=te=>{if(!(R||localStorage.getItem("authToken")||localStorage.getItem("token"))){alert("Please log in to book a service");return}F(te),E(!0)},pe=async te=>{try{const ae=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!ae){alert("Please log in to book a service");return}const ge=await fetch(`${Zt}/api/bookings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae}`},body:JSON.stringify(te)}),Se=await ge.json();if(ge.ok&&Se.success)alert("Booking request sent successfully!"),E(!1),F(null);else throw new Error(Se.message||"Failed to book service")}catch(ae){console.error("Booking error:",ae);const ge=ae instanceof Error?ae.message:"Unknown error occurred";throw alert(`Failed to book service: ${ge}`),ae}},le=async te=>{var ae;try{const ge=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!ge){alert("Please log in to update favorites");return}const je=!1?"DELETE":"POST",Y=await fetch(`${Zt}/api/providers/${te}/favorite`,{method:je,headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"}});if(Y.ok){const re=await Y.json();alert(re.message||((ae=re.data)!=null&&ae.isFavorite?"Added to favorites!":"Removed from favorites!"))}else{const re=await Y.json();alert(re.message||"Failed to update favorites")}}catch(ge){console.error("Error toggling favorite:",ge),alert("Failed to update favorites. Please try again.")}},ke=async te=>{var ae,ge;try{const Se=R||localStorage.getItem("authToken")||localStorage.getItem("token");if(!Se){alert("Please log in to post a job");return}const je=te.budget&&parseInt(te.budget.replace(/[^\d]/g,""))||0,Y={serviceType:te.serviceType,description:te.description,location:te.location,urgency:te.urgency,timeframe:te.timeframe,budget:te.budget,budgetAmount:je,category:te.category,skillsRequired:te.skillsRequired,estimatedDuration:te.estimatedDuration,preferredSchedule:te.preferredSchedule,status:"pending"},xe=await(await fetch(`${Zt}/api/service-requests`,{method:"POST",headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"},body:JSON.stringify(Y)})).json();if(xe.success){const ve=xe.data._id||xe.data.id;if(je>0)try{const de=(ae=q.address)!=null&&ae.toLowerCase().includes("nigeria")?"Nigeria":(ge=q.address)!=null&&ge.toLowerCase().includes("uk")?"UK":"Nigeria";console.log(" Initiating payment with country:",de);const Re=await(await fetch(`${Zt}/api/jobs/${ve}/create-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({amount:je,customerCountry:de})})).json();if(Re.success)Re.data.authorizationUrl?window.location.href=Re.data.authorizationUrl:Re.data.clientSecret&&(console.log("Stripe payment client secret:",Re.data.clientSecret),alert("Job posted successfully! Payment initiated."));else throw new Error(Re.message||"Failed to create payment")}catch(de){console.error("Payment initiation error:",de),alert("Job posted successfully but payment initiation failed. Please contact support.")}else alert("Job posted successfully!");s(""),u(!1),O("",r,d)}else alert("Failed to post job: "+xe.message)}catch(Se){console.error("Error posting job:",Se);const je=Se instanceof Error?Se.message:"Unknown error occurred";alert("Error posting job: "+je)}},qe=te=>{C(te)},Ze=te=>{const ae=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ge=te.phoneNumber||"+1 (555) 000-0000",Se=ge.replace(/\D/g,"");ae?window.location.href=`tel:${Se}`:window.confirm(`Call ${te.name}?

Phone: ${ge}

Click OK to copy the number to clipboard, or Cancel to close.`)&&navigator.clipboard.writeText(ge).then(()=>{alert(`Phone number ${ge} copied to clipboard!`)}).catch(()=>{prompt("Copy this phone number:",ge)})},ze=async te=>{try{await M(te._id||te.id),_("/customer/messages")}catch(ae){console.error("Error starting conversation:",ae),alert("Error starting conversation. Please try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A.show&&e.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white p-4 rounded-lg shadow-lg max-w-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Customer Alert"}),e.jsx("p",{className:"text-sm",children:A.message})]}),e.jsx("button",{onClick:()=>N(te=>({...te,show:!1})),className:"text-white hover:text-gray-200",children:""})]})}),e.jsx(Zf,{isMenuOpen:o,setIsMenuOpen:i,unreadMessagesCount:m,onLogout:ne}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(Gc,{children:[e.jsx(Be,{index:!0,element:e.jsxs("div",{className:"space-y-8",children:[e.jsx(ry,{serviceType:d,setServiceType:I,searchQuery:t,setSearchQuery:s,onLocationChange:V,currentLocation:r,onSearch:O,viewMode:b,onViewModeChange:j,searchRadius:y,onSearchRadiusChange:Q,onPostJob:()=>u(!0)}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d==="immediate"?"Available Now":"Popular Services"}),e.jsxs("button",{className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[e.jsx("span",{children:"View all"}),e.jsx(_s,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:mb.map(te=>e.jsx(ny,{service:te,serviceType:d,onClick:ee},te.id))})]}),e.jsxs("div",{ref:Z,className:"space-y-6",id:"providers-section",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d==="immediate"?"Available Providers":"Top Rated Providers"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Ml,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter"})]})})]}),b==="map"?e.jsx(ab,{providers:K,userLocation:T,selectedProvider:p,onProviderSelect:qe,onBook:ie,onMessage:ze,onCall:Ze,searchRadius:y,searchQuery:t,onCustomerDetected:z,onCustomerArrived:L}):e.jsx(oy,{serviceType:a.serviceType,searchQuery:a.query,location:a.location,onBook:ie,onMessage:ze,onCall:Ze,onToggleFavorite:le,authToken:R||void 0,currentUser:q,searchRadius:a.searchRadius,userLocation:T})]})]})}),e.jsx(Be,{path:"bookings",element:e.jsx(Yy,{})}),e.jsx(Be,{path:"/customer/payment-status",element:e.jsx(ob,{})}),e.jsx(Be,{path:"provider/:providerId",element:e.jsx(nb,{})}),e.jsx(Be,{path:"jobs",element:e.jsx(Qy,{authToken:R,userId:q.id})}),e.jsx(Be,{path:"profile",element:e.jsx(Qf,{profileData:{...q,avatar:q.avatar??void 0},onProfileUpdate:te=>v({...te,id:q.id,avatar:te.avatar??null})})}),e.jsx(Be,{path:"favorites",element:e.jsx(eb,{onToggleFavorite:le,onBook:ie,onMessage:ze,onCall:Ze,authToken:R||void 0,currentUser:q})}),e.jsx(Be,{path:"messages",element:e.jsx(sb,{onSendMessage:D,onStartConversation:M,onSetActiveConversation:J})})]}),e.jsx(jh,{isOpen:g,onClose:()=>u(!1),onSubmit:ke,userCountry:q.address}),k&&e.jsx(Nh,{isOpen:x,provider:k,currentUser:q,onClose:()=>{E(!1),F(null)},onConfirm:pe,serviceType:d,authToken:R||void 0})]})]})},xb=()=>e.jsx(ub,{}),hb=()=>{const[t,s]=c.useState({name:"",email:"",phone:"",location:"",userType:"customer"}),[r,n]=c.useState(!1),[a,l]=c.useState(!1);c.useEffect(()=>{const d=document.createElement("script");return d.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js",d.onload=()=>{window.emailjs.init("saHD3teB_50Q5qcEb")},document.head.appendChild(d),()=>{document.head.removeChild(d)}},[]);const o=d=>{const{name:h,value:g}=d.target;s(u=>({...u,[h]:g}))},i=async d=>{d.preventDefault(),l(!0);try{await window.emailjs.send("service_f88ijhp","template_2e9xh29",{name:t.name,email:t.email,phone:t.phone,location:t.location,userType:t.userType,joinDate:new Date().toLocaleDateString(),waitlistNumber:Math.floor(Math.random()*1e3)+1300},"saHD3teB_50Q5qcEb"),l(!1),n(!0)}catch(h){console.error("Failed to submit:",h),l(!1),alert("Failed to join waitlist. Please try again.")}};return r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center px-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width=%2760%22%20height=%2760%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cdefs%3E%3Cpattern%20id=%22confetti%22%20width=%2760%22%20height=%2760%22%20patternUnits=%22userSpaceOnUse%22%3E%3Ccircle%20cx=%2210%22%20cy=%2210%22%20r=%221%22%20fill=%22%23dbeafe%22/%3E%3Ccircle%20cx=%2750%22%20cy=%2750%22%20r=%221.5%22%20fill=%22%23dcfce7%22/%3E%3Cpolygon%20points=%2230,5%2032,10%2028,10%22%20fill=%22%23fef3c7%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect%20width=%22100%25%22%20height=%22100%25%22%20fill=%22url(%23confetti)%22/%3E%3C/svg%3E')] opacity-30"}),e.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 max-w-md w-full text-center",children:[e.jsx("div",{className:"animate-bounce mb-6",children:e.jsx(Ne,{className:"w-20 h-20 text-green-500 mx-auto animate-pulse"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"You're In! "}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Welcome to the HomeHero family! We'll notify you as soon as we launch in your area."}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 mb-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 text-left",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Get early access to our platform"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Exclusive launch promotions"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Priority onboarding support"]})]})]}),e.jsxs("button",{onClick:()=>n(!1),className:"group bg-gradient-to-r from-blue-600 to-green-600 text-white px-8 py-3 rounded-xl hover:shadow-lg transition-all duration-300 font-medium flex items-center justify-center mx-auto transform hover:scale-105",children:[e.jsx(to,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Form"]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center px-4 py-12",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width=%2220%22%20height=%2220%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cdefs%3E%3Cpattern%20id=%22grid%22%20width=%2220%22%20height=%2220%22%20patternUnits=%22userSpaceOnUse%22%3E%3Cpath%20d=%22M%2020%200%20L%200%200%200%2020%22%20fill=%22none%22%20stroke=%22%23e5e7eb%22%20stroke-width=%221%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect%20width=%22100%25%22%20height=%22100%25%22%20fill=%22url(%23grid)%22/%3E%3C/svg%3E')] opacity-30"}),e.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl mb-4 animate-pulse",children:e.jsx(Ct,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Join the Waitlist"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Be the first to experience HomeHero when we launch. Get exclusive early access and special offers!"})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-4 mb-8 border border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"}),e.jsx("span",{className:"font-medium",children:"1,300 people waiting"})]}),e.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full"}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),e.jsx("span",{className:"font-medium",children:"Launching Soon"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(st,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),e.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:t.name,onChange:o,required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/80 hover:bg-white"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),e.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:t.email,onChange:o,required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/80 hover:bg-white"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),e.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:t.phone,onChange:o,required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/80 hover:bg-white"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(We,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),e.jsx("input",{type:"text",name:"location",placeholder:"City, State",value:t.location,onChange:o,required:!0,className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/80 hover:bg-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I'm interested as a:"}),e.jsxs("select",{name:"userType",value:t.userType,onChange:o,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white/80 hover:bg-white",children:[e.jsx("option",{value:"customer",children:"Customer (Need Services)"}),e.jsx("option",{value:"provider",children:"Service Provider"}),e.jsx("option",{value:"both",children:"Both"})]})]})]}),e.jsx("button",{onClick:i,disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white py-4 rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Joining Waitlist..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Join Waitlist"}),e.jsx(Ct,{className:"w-5 h-5 animate-pulse"})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["By joining, you agree to receive updates about HomeHero's launch.",e.jsx("br",{}),"We respect your privacy and won't spam you."]})})]})]})},Ho="https://backendhomeheroes.onrender.com",gb=({sidebarOpen:t,setSidebarOpen:s})=>{const r=zt(),n=Ut(),[a,l]=c.useState({name:"",profileImage:"",userType:"provider"}),[o,i]=c.useState({messages:0,total:0}),d=[{id:"dashboard",label:"Dashboard",icon:Wi,path:"/provider/dashboard"},{id:"jobs",label:"Jobs",icon:Tr,path:"/provider/jobs"},{id:"schedule",label:"Schedule",icon:Me,path:"/provider/schedule"},{id:"messages",label:"Messages",icon:ns,path:"/provider/messages"},{id:"earnings",label:"Earnings",icon:wt,path:"/provider/earnings"},{id:"gallery",label:"Gallery",icon:gh,path:"/provider/gallery"},{id:"profile",label:"Profile",icon:st,path:"/provider/profile"},{id:"settings",label:"Settings",icon:bt,path:"/provider/settings"}],h={id:"admin",label:"Admin Panel",icon:Le,path:"/provider/verification"},g=a.name.toLowerCase().includes("peter vjj"),u=g?[...d,h]:d,x=async()=>{try{const f=localStorage.getItem("authToken")||localStorage.getItem("token");if(!f)return;const T=await fetch(`${Ho}/api/auth/profile`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(T.ok){const S=await T.json();if(S.success&&S.data.user){const p=S.data.user;l({name:p.name||"User",profileImage:p.profileImage||p.profilePicture||"",userType:p.userType||"provider"})}}}catch(f){console.error("Sidebar profile fetch error:",f)}},E=async()=>{var f,T;try{const S=localStorage.getItem("authToken")||localStorage.getItem("token");if(!S)return;const p=await fetch(`${Ho}/api/messages/unread-count`,{headers:{Authorization:`Bearer ${S}`}}),C=await fetch(`${Ho}/api/notifications/unread-count`,{headers:{Authorization:`Bearer ${S}`}});let R=0,G=0;p.ok&&(R=((f=(await p.json()).data)==null?void 0:f.count)||0),C.ok&&(G=((T=(await C.json()).data)==null?void 0:T.count)||0),i({messages:R,total:G})}catch(S){console.error("Sidebar notification count fetch error:",S)}};c.useEffect(()=>{x(),E();const f=()=>{x()},T=()=>{E()};window.addEventListener("profileUpdated",f),window.addEventListener("notificationUpdated",T);const S=setInterval(x,3e4),p=setInterval(E,15e3);return()=>{window.removeEventListener("profileUpdated",f),window.removeEventListener("notificationUpdated",T),clearInterval(S),clearInterval(p)}},[]);const k=()=>{window.innerWidth<1024&&s(!1)},F=async()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userData"),s(!1),n("/provider-login")}catch(f){console.error("Logout error:",f),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userData"),n("/provider-login")}},b=f=>{switch(f){case"messages":return o.messages;case"dashboard":return o.total>0?o.total:0;default:return 0}},j=f=>b(f)>0,y=f=>{const T=b(f);return T===0?"":T>9?"9+":T.toString()};return e.jsxs(e.Fragment,{children:[t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>s(!1)}),e.jsxs("div",{className:`
        fixed lg:relative inset-y-0 left-0 z-50 w-64 bg-white shadow-xl flex flex-col
        transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        border-r border-gray-200 overflow-y-auto
      `,children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-green-50 to-white",children:[e.jsx(Je,{to:"/",className:"flex items-center outline-none focus:outline-none",children:e.jsx("img",{src:ga,alt:"HomeHeroes Logo",className:"w-8 h-8 object-contain rounded-lg"})}),e.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:e.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-green-50",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg truncate",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${a.userType==="provider"||a.userType==="both","bg-green-100 text-green-800"}`,children:a.userType==="both"?"Provider & Customer":a.userType}),g&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-medium bg-green-100 text-green-800",children:"Admin"}),o.total>0&&e.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium animate-pulse",children:[o.total," new"]})]})]})})}),e.jsx("nav",{className:"flex-1 p-4",children:e.jsx("div",{className:"space-y-2",children:u.map(f=>{const T=f.icon,S=r.pathname===f.path,p=j(f.id),C=y(f.id),R=f.id==="admin";return e.jsxs(Je,{to:f.path,onClick:k,className:`group relative flex items-center space-x-4 px-4 py-3 rounded-xl transition-all duration-200 ${S?R?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg transform scale-[1.02]":"bg-gradient-to-r from-green-500 to-green-500 text-white shadow-lg transform scale-[1.02]":R?"text-purple-600 hover:bg-gradient-to-r hover:from-green-50 hover:to-purple-50 hover:text-purple-900 hover:shadow-md border border-purple-200":"text-gray-600 hover:bg-gradient-to-r hover:from-green-50 hover:to-green-50 hover:text-gray-900 hover:shadow-md"}`,children:[e.jsx(T,{className:`w-5 h-5 transition-colors relative z-10 flex-shrink-0 ${S?"text-white":R?"text-purple-500 group-hover:text-purple-600":"text-gray-400 group-hover:text-green-600"}`}),e.jsx("span",{className:`font-medium relative z-10 flex-1 ${S?"text-white":R?"text-purple-700":"text-gray-700"}`,children:f.label}),p&&e.jsx("span",{className:`relative z-10 text-xs font-bold px-2 py-1 rounded-full min-w-[20px] text-center flex-shrink-0 ${S?R?"bg-white text-purple-600":"bg-white text-green-600":"bg-red-500 text-white animate-pulse"}`,children:C}),R&&!p&&e.jsx("span",{className:"relative z-10 text-xs font-bold px-2 py-1 rounded-full bg-purple-100 text-purple-600 flex-shrink-0",children:"Admin"})]},f.id)})})}),e.jsx("div",{className:"p-4 border-t border-gray-200 ",children:e.jsxs("button",{onClick:F,className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-red-50 rounded-xl transition-all duration-200 group hover:text-red-600 hover:shadow-sm border border-transparent hover:border-red-200",children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0",children:e.jsx(fh,{className:"w-4 h-4 group-hover:text-red-500 transition-colors"})}),e.jsx("span",{className:"font-medium group-hover:text-red-500 transition-colors flex-1 text-left",children:"Sign Out"})]})})]})]})},Mr="https://backendhomeheroes.onrender.com",pb=({notifications:t,setSidebarOpen:s})=>{const r=zt(),n=c.useRef(null),[a,l]=c.useState({name:"",profileImage:""}),[o,i]=c.useState(!1),[d,h]=c.useState([]),[g,u]=c.useState(0),x=()=>{const p=r.pathname;return p.includes("/dashboard")?"Dashboard":p.includes("/jobs")?"Jobs":p.includes("/schedule")?"Schedule":p.includes("/messages")?"Messages":p.includes("/earnings")?"Earnings":p.includes("/gallery")?"Gallery":p.includes("/profile")?"Profile":p.includes("/settings")?"Settings":"Dashboard"},E=async()=>{try{const p=localStorage.getItem("authToken")||localStorage.getItem("token");if(!p)return;const C=await fetch(`${Mr}/api/auth/profile`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(C.ok){const R=await C.json();if(R.success&&R.data.user){const G=R.data.user;l({name:G.name||"",profileImage:G.profileImage||G.profilePicture||""})}}}catch(p){console.error("TopBar profile fetch error:",p)}},k=async()=>{try{const p=localStorage.getItem("authToken")||localStorage.getItem("token");if(!p)return;const C=await fetch(`${Mr}/api/notifications?limit=10`,{headers:{Authorization:`Bearer ${p}`}});if(C.ok){const R=await C.json();R.success&&h(R.data.notifications)}}catch(p){console.error("Fetch notifications error:",p)}},F=async()=>{try{const p=localStorage.getItem("authToken")||localStorage.getItem("token");if(!p)return;const C=await fetch(`${Mr}/api/notifications/unread-count`,{headers:{Authorization:`Bearer ${p}`}});if(C.ok){const R=await C.json();R.success&&u(R.data.count)}}catch(p){console.error("Fetch unread count error:",p)}},b=async p=>{try{const C=localStorage.getItem("authToken")||localStorage.getItem("token");if(!C)return;await fetch(`${Mr}/api/notifications/${p}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${C}`}}),h(R=>R.map(G=>G._id===p?{...G,isRead:!0}:G)),u(R=>Math.max(0,R-1))}catch(C){console.error("Mark as read error:",C)}},j=async()=>{try{const p=localStorage.getItem("authToken")||localStorage.getItem("token");if(!p)return;await fetch(`${Mr}/api/notifications/mark-all-read`,{method:"PATCH",headers:{Authorization:`Bearer ${p}`}}),h(C=>C.map(R=>({...R,isRead:!0}))),u(0)}catch(p){console.error("Mark all as read error:",p)}},y=p=>{switch(p){case"message":return e.jsx(ns,{className:"w-4 h-4 text-blue-500"});case"booking":return e.jsx(Me,{className:"w-4 h-4 text-green-500"});case"job_accepted":case"job_applied":return e.jsx(Tr,{className:"w-4 h-4 text-purple-500"});default:return e.jsx(Rs,{className:"w-4 h-4 text-gray-500"})}},f=p=>{const C=new Date(p),K=(new Date().getTime()-C.getTime())/(1e3*60*60);return K<1?`${Math.floor(K*60)}m ago`:K<24?`${Math.floor(K)}h ago`:C.toLocaleDateString()};c.useEffect(()=>{const p=C=>{n.current&&!n.current.contains(C.target)&&i(!1)};return o&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[o]),c.useEffect(()=>{E(),k(),F();const p=setInterval(()=>{F(),o&&k()},3e4);return()=>clearInterval(p)},[o]);const T=p=>p.split(" ").map(C=>C[0]).join("").toUpperCase()||"U",S=p=>p?p.startsWith("/")?`${Mr}${p}`:p:"";return e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>s(!0),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(ro,{className:"w-5 h-5 text-gray-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:x()})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",ref:n,children:[e.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",onClick:()=>i(!o),children:[e.jsx(Rs,{className:"w-6 h-6 text-gray-600 hover:text-gray-900"}),g>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center animate-pulse",children:g>9?"9+":g})]}),o&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-[9999]",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),g>0&&e.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all as read"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:d.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx(Rs,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No notifications"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:d.map(p=>e.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${p.isRead?"":"bg-blue-50"}`,onClick:()=>b(p._id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:y(p.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:f(p.createdAt)})]}),!p.isRead&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})]})},p._id))})}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsx("a",{href:"/provider/notifications",className:"block text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all notifications"})})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center hover:shadow-lg transition-all duration-200 hover:scale-105 overflow-hidden",children:a.profileImage?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:S(a.profileImage),alt:"Profile",className:"w-full h-full object-cover",onError:p=>{const C=p.target;C.style.display="none";const R=C.nextElementSibling;R&&R.classList.remove("hidden")}}),e.jsx(st,{className:"w-4 h-4 text-white hidden"})]}):e.jsx("span",{className:"text-white font-bold text-sm",children:T(a.name)})}),e.jsx("div",{className:"absolute right-0 top-full mt-2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:a.name||"Profile"})]})]})]})})},Fh=({isOpen:t,onClose:s,onVerify:r,isSubmitting:n=!1,showStatus:a=!0})=>{const[l,o]=c.useState({nin:"",nepaBill:null,selfie:null,consent:!1}),[i,d]=c.useState({}),[h,g]=c.useState(null),[u,x]=c.useState(null),[E,k]=c.useState(!1),[F,b]=c.useState(!1);c.useEffect(()=>{t&&(o({nin:"",nepaBill:null,selfie:null,consent:!1}),d({}),b(!1),g(null),x(null))},[t]);const j=R=>{const G=R.target.value.replace(/\D/g,"");if(o(K=>({...K,nin:G})),i.nin&&d(K=>({...K,nin:""})),G.length===11){const K=/^\d{11}$/.test(G);b(K),d(K?X=>({...X,nin:""}):X=>({...X,nin:"NIN must contain only numbers"}))}else G.length>0&&G.length<11&&d(K=>({...K,nin:`NIN must be 11 digits (${G.length}/11)`})),b(!1)},y=(R,G)=>{var X;const K=((X=R.target.files)==null?void 0:X[0])||null;if(K){const _=["image/jpeg","image/png","application/pdf"];if(G==="selfie"&&!K.type.startsWith("image/")){d(v=>({...v,selfie:"Please upload a valid image file for selfie"}));return}if(G==="nepaBill"&&!_.includes(K.type)){d(v=>({...v,[G]:"Please upload a JPEG, PNG, or PDF file"}));return}if(K.size>5242880){d(v=>({...v,[G]:"File size must be less than 5MB"}));return}o(v=>({...v,[G]:K})),d(v=>({...v,[G]:""}));const q=new FileReader;q.onload=v=>{var $,w;G==="selfie"?g(($=v.target)==null?void 0:$.result):x((w=v.target)==null?void 0:w.result)},q.readAsDataURL(K)}},f=R=>{o(G=>({...G,[R]:null})),d(G=>({...G,[R]:""})),R==="selfie"?g(null):x(null)},T=R=>{o(G=>({...G,consent:R.target.checked})),i.consent&&d(G=>({...G,consent:""}))},S=()=>{const R={};return l.nin.trim()?l.nin.length!==11?R.nin="NIN must be exactly 11 digits":F||(R.nin="Please enter a valid NIN"):R.nin="NIN is required",l.selfie||(R.selfie="Selfie photo is required for verification"),l.consent||(R.consent="You must consent to identity verification"),d(R),Object.keys(R).length===0},p=async R=>{if(R.preventDefault(),!!S()){k(!0);try{await r(l)}catch(G){console.error("Verification error:",G),d(K=>({...K,submit:G instanceof Error?G.message:"Failed to submit verification. Please try again."}))}finally{k(!1)}}},C=()=>{!n&&!E&&(o({nin:"",nepaBill:null,selfie:null,consent:!1}),d({}),b(!1),g(null),x(null),s())};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Identity Verification"}),e.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:n||E,type:"button",children:e.jsx(Ae,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ne,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Verify your identity to apply for jobs"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This helps build trust with customers. Your information is secure and will only be used for verification purposes."}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Pe,{className:"w-4 h-4 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Document Requirements"}),e.jsxs("ul",{className:"text-xs text-blue-700 mt-1 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"NIN:"})," 11-digit National Identification Number"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Selfie:"})," Clear photo for identity confirmation"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Utility Bill:"})," Optional for address verification"]})]})]})]})})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nin",className:"block text-sm font-medium text-gray-700 mb-1",children:"National Identification Number (NIN) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"nin",maxLength:11,value:l.nin,onChange:j,placeholder:"Enter your 11-digit NIN",className:`w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i.nin?"border-red-300":F?"border-green-300":"border-gray-300"} pr-10`,disabled:n||E}),F&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ne,{className:"w-4 h-4 text-green-500"})})]}),i.nin&&e.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),i.nin]}),F&&e.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[e.jsx("p",{className:"text-green-800 font-medium",children:" NIN Format Valid"}),e.jsx("p",{className:"text-green-600 text-xs mt-1",children:"Your NIN will be saved for verification"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"selfie",className:"block text-sm font-medium text-gray-700 mb-1",children:"Selfie Photo for Verification *"}),l.selfie?e.jsx("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[h?e.jsx("img",{src:h,alt:"Selfie preview",className:"w-10 h-10 rounded-full object-cover mr-3"}):e.jsx(st,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"Selfie photo ready"})]}),e.jsx("button",{type:"button",onClick:()=>f("selfie"),className:"text-red-600 hover:text-red-800 text-sm font-medium",disabled:n||E,children:"Retake"})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",id:"selfie",onChange:R=>y(R,"selfie"),accept:"image/*",capture:"user",className:"hidden",disabled:n||E}),e.jsxs("label",{htmlFor:"selfie",className:"cursor-pointer block",children:[e.jsx(Kc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Take a clear selfie photo"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required for identity confirmation  Max 5MB"}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" Use camera for best results"})]})]}),i.selfie&&e.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),i.selfie]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Take a clear selfie for identity confirmation"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nepaBill",className:"block text-sm font-medium text-gray-700 mb-1",children:"Utility Bill (Optional - For Address Verification)"}),l.nepaBill?e.jsx("div",{className:"border border-blue-200 bg-blue-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[u&&u.startsWith("data:image/")?e.jsx("img",{src:u,alt:"Utility bill preview",className:"w-8 h-8 object-cover rounded mr-2"}):e.jsx(wa,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:l.nepaBill.name})]}),e.jsx("button",{type:"button",onClick:()=>f("nepaBill"),className:"text-red-600 hover:text-red-800 text-sm font-medium",disabled:n||E,children:"Remove"})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",id:"nepaBill",onChange:R=>y(R,"nepaBill"),accept:".jpg,.jpeg,.png,.pdf",className:"hidden",disabled:n||E}),e.jsxs("label",{htmlFor:"nepaBill",className:"cursor-pointer block",children:[e.jsx($f,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Upload utility bill"}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, PDF  Max 5MB"})]})]}),i.nepaBill&&e.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),i.nepaBill]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"consent",checked:l.consent,onChange:T,className:"mt-1 mr-3 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:n||E}),e.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"I consent to identity verification"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"I authorize HomeHeroes to store my verification documents for provider verification purposes. I understand this information is encrypted and stored securely in compliance with data protection regulations."})]})]}),i.consent&&e.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),i.consent]})]}),i.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2 flex-shrink-0"}),i.submit]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",disabled:n||E,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n||E||!l.nin||!F||!l.selfie||!l.consent,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:n||E?e.jsxs(e.Fragment,{children:[e.jsx(Xt,{className:"w-4 h-4 text-white mr-2 animate-spin"}),"Saving..."]}):"Save Verification"})]})]})]})]})}):null},It="https://backendhomeheroes.onrender.com",fb=({isOpen:t,booking:s,onClose:r,onSubmit:n,type:a})=>{const[l,o]=c.useState(0),[i,d]=c.useState(""),[h,g]=c.useState(0),[u,x]=c.useState(!1),E=async()=>{if(l===0){alert("Please select a rating");return}x(!0);try{await n(l,i),r(),o(0),d("")}catch(b){console.error("Rating submission error:",b)}finally{x(!1)}};if(!t)return null;const k=a==="customer"?"Rate Customer":"Rate Your Experience",F=a==="customer"?`How was your experience with ${s.customerName}?`:`How was your service with ${s.providerName}?`;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 sm:p-8 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white fill-current"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:k}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:F})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 hover:bg-gray-200 rounded-xl sm:rounded-2xl flex items-center justify-center transition-colors",children:e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})}),e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:[1,2,3,4,5].map(b=>e.jsx("button",{type:"button",onClick:()=>o(b),onMouseEnter:()=>g(b),onMouseLeave:()=>g(0),className:"p-2 transition-transform hover:scale-110",children:e.jsx(Te,{className:`w-8 h-8 sm:w-10 sm:h-10 ${b<=(h||l)?"text-yellow-500 fill-current":"text-gray-300"}`})},b))}),a==="provider"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Comment (Optional)"}),e.jsx("textarea",{value:i,onChange:b=>d(b.target.value),placeholder:"Share your experience...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Service:"}),e.jsx("span",{children:s.serviceType})]})]}),e.jsxs("div",{className:"p-6 sm:p-8 border-t border-gray-100 flex gap-4",children:[e.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl sm:rounded-2xl hover:bg-gray-50 transition-all duration-200 font-semibold",disabled:u,children:"Cancel"}),e.jsx("button",{onClick:E,disabled:u||l===0,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-600 text-white rounded-xl sm:rounded-2xl hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:u?"Submitting...":"Submit Rating"})]})]})})},yb=()=>{const[t,s]=c.useState(!1),[r,n]=c.useState([]),[a,l]=c.useState(null),[o,i]=c.useState(!0),[d,h]=c.useState(null),[g,u]=c.useState([]),[x,E]=c.useState(null),[k,F]=c.useState(!1),[b,j]=c.useState([]),[y,f]=c.useState(!1),[T,S]=c.useState(null),[p,C]=c.useState("provider"),[R,G]=c.useState(null),[K,X]=c.useState(null),[_,Z]=c.useState(!1),[q,v]=c.useState(!1),[$,w]=c.useState(null),A=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],N={dayOfWeek:"Monday",startTime:"09:00",endTime:"17:00",isAvailable:!0,serviceTypes:[],notes:""},m=(H,ce)=>{const ue=ce.toLocaleDateString("en-US",{weekday:"long"});if(H.dayOfWeek!==ue)return!1;const[fe,we]=H.startTime.split(":").map(Number),[nt,xt]=H.endTime.split(":").map(Number),fn=ce.getHours(),Vs=ce.getMinutes(),yn=fn*60+Vs,bn=fe*60+we;let Sa=nt*60+xt;if(Sa<bn){Sa+=24*60;let io=yn;return fn<5&&(io+=24*60),io>=bn&&io<=Sa}return yn>=bn&&yn<=Sa},P=()=>{try{if(!r||r.length===0){console.log("No business hours configured"),G(!1);return}const H=new Date,ce=H.toLocaleDateString("en-US",{weekday:"long"});console.log("Current time:",H.toLocaleTimeString()),console.log("Current day:",ce);const ue=r.find(we=>we.dayOfWeek===ce);if(!ue||!ue.isAvailable){console.log("No business hours for today or marked unavailable"),G(!1);return}console.log("Today's hours:",ue);const fe=m(ue,H);console.log("Calculated availability:",fe),G(fe)}catch(H){console.error("Error calculating availability:",H),G(!1)}},B=async()=>{try{const H=localStorage.getItem("authToken")||localStorage.getItem("token");if(!H){console.log(" No token found for verification fetch");return}console.log(" Fetching verification status...");const ce=await fetch(`${It}/api/auth/verification-status`,{headers:{Authorization:`Bearer ${H}`}});if(!ce.ok){console.error(" Failed to fetch verification status:",ce.status);return}const ue=await ce.json();console.log(" Verification data received:",ue.data),X(ue.data)}catch(H){console.error(" Error fetching verification status:",H)}},U=()=>K?K.isNinVerified===!0:!1,D=async H=>{console.log(" Starting verification process"),v(!0);try{const ce=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ce)throw new Error("No authentication token found");const ue=new FormData;ue.append("nin",H.nin),ue.append("consent",H.consent.toString()),H.selfie&&ue.append("selfie",H.selfie),H.nepaBill&&ue.append("nepaBill",H.nepaBill);const fe=await fetch(`${It}/api/verification/submit`,{method:"POST",headers:{Authorization:`Bearer ${ce}`},body:ue});if(!fe.ok)throw new Error(`Verification submission failed: ${fe.status}`);X(we=>we?{...we,hasSubmittedVerification:!0,verificationStatus:"pending"}:null),Z(!1),$&&(console.log(" Executing pending action after verification"),setTimeout(async()=>{U()?$.action==="confirm"?await re($.bookingId,"confirmed"):$.action==="complete"&&await re($.bookingId,"completed"):alert("Please wait for your verification to be processed."),w(null)},100)),alert("Verification submitted successfully! Your documents are under review.")}catch(ce){console.error("Verification error:",ce),alert(ce instanceof Error?ce.message:"Verification failed")}finally{v(!1)}},M=H=>r.find(ue=>ue.dayOfWeek===H)||{...N,dayOfWeek:H},J=(H,ce)=>{const ue=[...r];H.forEach(fe=>{const we=ue.findIndex(xt=>xt.dayOfWeek===fe),nt=M(fe);we>=0?ue[we]={...ue[we],...ce,dayOfWeek:fe}:ue.push({...nt,...ce,dayOfWeek:fe})}),n(ue)};c.useEffect(()=>{console.log(" Dashboard mounted - checking verification state"),console.log(" Current userVerification:",K),console.log(" Is user verified?",U())},[]);const z=async()=>{var H,ce;try{i(!0),h(null);const ue=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ue)throw new Error("No authentication token found. Please log in again.");const fe=await fetch(`${It}/api/user/dashboard?refresh=${Date.now()}`,{headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"}});if(console.log("Dashboard response status:",fe.status),fe.status===401||fe.status===403)throw localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userData"),new Error("Your session has expired. Please log in again.");if(!fe.ok)throw new Error(`HTTP error! status: ${fe.status}`);const we=await fe.json();if(console.log("Dashboard API response:",we),we.success===!1&&((H=we.message)!=null&&H.includes("token")))throw localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userData"),new Error("Authentication failed. Please log in again.");l(we),n(we.businessHours||[]),j(we.schedule||[]),((ce=we.user)==null?void 0:ce.isAvailableNow)!==void 0&&G(we.user.isAvailableNow)}catch(ue){const fe=ue instanceof Error?ue.message:"An unknown error occurred";h(fe),console.error("Dashboard fetch error:",ue),(fe.includes("session")||fe.includes("Authentication")||fe.includes("token"))&&setTimeout(()=>{window.location.href="/login"},2e3)}finally{i(!1)}};c.useEffect(()=>{z(),B()},[]),c.useEffect(()=>{a&&r.length>0&&P()},[a,r]);const L=["House Cleaning","Plumbing Repair","Garden Maintenance","Electrical Work","Painting","General Maintenance","Barber","AC Repair","Generator Repair","Carpentry","Tiling","Masonry","Welding","Pest Control","Auto Mechanic","Panel Beater","Auto Electrician","Vulcanizer","Car Wash","Hair Stylist","Makeup Artist","Nail Technician","Massage Therapist","Tailor","Nanny","Cook","Laundry","Gardener","Security Guard","CCTV Installer","Solar Technician","Inverter Technician","IT Support","Interior Designer","TV Repair","Other"],W=()=>{s(!0),u([])},se=async()=>{try{const H=localStorage.getItem("authToken")||localStorage.getItem("token");if(!H)throw new Error("No authentication token found");const ce=await fetch(`${It}/api/business-hours/bulk`,{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({businessHours:r})});if(!ce.ok)throw new Error("Failed to save business hours");const ue=await ce.json();n(ue.data.businessHours||[]),s(!1),P(),alert("Business hours saved successfully!")}catch(H){const ce=H instanceof Error?H.message:"Failed to save business hours";h(ce),alert(`Error: ${ce}`)}},ne=async()=>{try{const H=localStorage.getItem("authToken")||localStorage.getItem("token");if(!H)throw new Error("No authentication token found");const ce=await fetch(`${It}/api/schedule`,{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(!ce.ok)throw new Error(`HTTP error! status: ${ce.status}`);const ue=await ce.json();console.log(" Fetched schedule data:",ue),ue.success&&ue.data?j(ue.data.schedule||ue.data||[]):j(ue.schedule||[])}catch(H){console.error("Failed to fetch schedule:",H)}};c.useEffect(()=>{a&&ne()},[a]);const ee=()=>{s(!1),u([])},V=H=>new Date(`2000-01-01T${H}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),O=H=>new Date(H).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),I=H=>{switch(H){case"completed":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"confirmed":return"bg-blue-100 text-blue-700 border-blue-200";case"accepted":return"bg-blue-100 text-blue-700 border-blue-200";case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";case"rejected":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},Q=H=>{switch(H){case"high":return"border-red-400 bg-red-50";case"medium":return"border-amber-400 bg-amber-50";case"low":return"border-green-400 bg-green-50";default:return"border-blue-400 bg-blue-50"}},ie=H=>{switch(H){case"cleaning":return"";case"handyman":return"";case"gardening":return"";case"petcare":return"";case"childcare":return"";default:return""}},pe=H=>H.split(" ").map(ce=>ce[0]).join("").toUpperCase(),le=H=>{u(ce=>ce.includes(H)?ce.filter(ue=>ue!==H):[...ce,H])},ke=()=>{u(g.length===A.length?[]:[...A])},qe=H=>{if(g.length===0){alert("Please select at least one day first");return}const ce=M(g[0]).serviceTypes,ue=ce.includes(H)?ce.filter(fe=>fe!==H):[...ce,H];J(g,{serviceTypes:ue})},Ze=H=>{E(H),F(!0)},ze=H=>({"House Cleaning":{duration:"3-4 hours",hours:3.5},"Deep Cleaning":{duration:"4-6 hours",hours:5},"Plumbing Repair":{duration:"2-3 hours",hours:2.5},"Garden Maintenance":{duration:"2-4 hours",hours:3},"Electrical Work":{duration:"2-3 hours",hours:2.5},Painting:{duration:"5-8 hours",hours:6.5},"General Maintenance":{duration:"2-4 hours",hours:3},Other:{duration:"2-3 hours",hours:2.5}})[H]||{duration:"2-3 hours",hours:2.5},te=(H,ce)=>{const[ue,fe]=H.split(" ");let[we,nt]=ue.split(":").map(Number);fe==="PM"&&we!==12&&(we+=12),fe==="AM"&&we===12&&(we=0);const{hours:xt}=ze(ce),fn=we*60+nt+Math.round(xt*60);let Vs=Math.floor(fn/60)%24;const yn=fn%60,bn=Vs>=12?"PM":"AM";return Vs>12&&(Vs-=12),Vs===0&&(Vs=12),`${Vs}:${yn.toString().padStart(2,"0")} ${bn}`},ae=async H=>{try{const ce=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ce)throw new Error("Authentication token not found");const{duration:ue}=ze(H.serviceType),fe={title:H.serviceType,client:H.customerName,phone:H.customerPhone,location:H.location,date:new Date().toISOString().split("T")[0],time:"10:00 AM",endTime:te("10:00 AM",H.serviceType),duration:ue,payment:H.budget,status:"confirmed",notes:H.specialRequests||H.description,category:H.serviceType.toLowerCase().includes("clean")?"cleaning":"handyman",priority:"medium",providerId:H.providerId,customerId:H.customerId,bookingId:H._id};console.log(" Sending schedule data:",fe);const we=await fetch(`${It}/api/schedule`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify(fe)});if(!we.ok){const xt=await we.json().catch(()=>({}));throw console.error(" Schedule creation failed:",xt),new Error(xt.message||`Failed to add booking to schedule: ${we.status}`)}const nt=await we.json();console.log(" Schedule creation successful:",nt),nt.data&&(j(xt=>[...xt,nt.data]),await ne())}catch(ce){console.error(" Error adding booking to schedule:",ce)}},ge=async(H,ce,ue)=>{try{const fe=localStorage.getItem("authToken")||localStorage.getItem("token");if(!fe)throw new Error("Authentication token not found");if(!(await fetch(`${It}/api/ratings/customer`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:H,rating:ce,comment:ue})})).ok)throw new Error("Failed to submit rating");await z(),alert("Thank you for your rating!")}catch(fe){const we=fe instanceof Error?fe.message:"Failed to submit rating";throw h(we),console.error("Rating error:",fe),fe}},Se=async(H,ce)=>{try{const ue=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ue)throw new Error("Authentication token not found");if(!(await fetch(`${It}/api/ratings/provider`,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:H,rating:ce})})).ok)throw new Error("Failed to submit rating");await z(),alert("Customer rated successfully!")}catch(ue){const fe=ue instanceof Error?ue.message:"Failed to rate customer";throw h(fe),console.error("Provider rating error:",ue),ue}},je=async H=>{try{h(null);const ce=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ce)throw new Error("Authentication token not found");console.log(" Starting booking completion process for:",H);const ue=await fetch(`${It}/api/bookings/${H}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({status:"completed"})});if(!ue.ok){const we=await ue.json().catch(()=>({}));throw new Error(we.message||`HTTP error! status: ${ue.status}`)}const fe=await ue.json();if(fe.success){console.log(" Booking status updated to completed"),await Y(H);const we=await fetch(`${It}/api/bookings/${H}/complete`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(!we.ok)console.warn(" Failed to update dashboard, but booking was completed");else{const xt=await we.json();console.log(" Dashboard updated with earnings:",xt.data)}const nt=a==null?void 0:a.bookings.find(xt=>xt._id===H);nt&&(S(nt),C("customer"),f(!0)),await z(),h(null),F(!1),alert("Booking marked as completed! Removed from schedule. Earnings added to your dashboard. Please rate the customer.")}else throw new Error(fe.message||"Failed to update booking status")}catch(ce){const ue=ce instanceof Error?ce.message:"Failed to complete booking";h(ue),console.error(" Complete booking error:",ce),alert(`Error: ${ue}`)}},Y=async H=>{try{const ce=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ce)throw new Error("Authentication token not found");console.log(" Removing booking from schedule:",H);const ue=await fetch(`${It}/api/schedule/booking/${H}`,{method:"DELETE",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(ue.ok){const fe=await ue.json();console.log(" Booking removed from schedule:",fe),j(we=>we.filter(nt=>nt.bookingId!==H))}else{const fe=await ue.json().catch(()=>({}));console.warn(" Failed to remove from schedule (non-critical):",fe.message)}}catch(ce){console.error(" Error removing booking from schedule:",ce)}},re=async(H,ce)=>{if(console.log(" handleUpdateBookingStatus called with:",{bookingId:H,status:ce}),(ce==="confirmed"||ce==="completed")&&!U()){console.log(" VERIFICATION REQUIRED - Blocking action"),w({bookingId:H,action:ce}),Z(!0),F(!1);return}if(console.log(" Proceeding with booking action"),ce==="completed")await je(H);else try{h(null);const ue=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ue)throw new Error("Authentication token not found");const fe=await fetch(`${It}/api/bookings/${H}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify({status:ce})});if(!fe.ok){const nt=await fe.json().catch(()=>({}));throw new Error(nt.message||`HTTP error! status: ${fe.status}`)}const we=await fe.json();if(we.success){if(ce==="confirmed"&&x){await ae(x);try{(await fetch(`${It}/api/email/send-booking-confirmed`,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify({customerEmail:x.customerEmail,bookingData:{customerName:x.customerName,serviceType:x.serviceType,location:x.location,timeframe:x.timeframe,budget:x.budget,description:x.description,specialRequests:x.specialRequests},providerInfo:{name:(a==null?void 0:a.user.name)||"Service Provider",phone:(a==null?void 0:a.user.phoneNumber)||"Will contact you shortly",email:(a==null?void 0:a.user.email)||""}})})).ok||console.log(" Failed to send booking confirmation email")}catch(xt){console.error(" Email notification failed:",xt)}}await z(),h(null),F(!1);let nt=`Booking ${ce} successfully!`;ce==="confirmed"&&(nt+=" Added to schedule and customer has been notified."),alert(nt)}else throw new Error(we.message||"Failed to update booking status")}catch(ue){const fe=ue instanceof Error?ue.message:"Failed to update booking status";h(fe),console.error("Booking status update error:",ue),alert(`Error: ${fe}`)}},xe=async(H,ce)=>{if(T)try{p==="customer"?(await Se(T._id,H),await ve(T._id)):await ge(T._id,H,ce),await z()}catch(ue){throw console.error("Rating submission error:",ue),ue}},ve=async H=>{try{const ce=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ce)throw new Error("Authentication token not found");if((await fetch(`${It}/api/bookings/${H}/rating-prompt`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}})).ok){console.log(" Customer rating prompt triggered");const fe=T;fe&&(console.log(` Rating prompt should be sent to: ${fe.customerEmail}`),console.log(` Customer should be directed to rate provider: ${fe.providerName}`))}}catch(ce){console.error("Failed to trigger customer rating prompt:",ce)}},de=(H,ce)=>{ce==="email"?window.location.href=`mailto:${H.customerEmail}`:ce==="phone"&&(window.location.href=`tel:${H.customerPhone}`)},be=H=>`${H.toLocaleString()}`,Re=()=>{if(!(a!=null&&a.bookings))return[];const H=a.bookings.filter(ce=>["pending","confirmed"].includes(ce.status));return console.log(" Frontend - Upcoming bookings filtered:",{total:a.bookings.length,upcoming:H.length,pending:H.filter(ce=>ce.status==="pending").length,confirmed:H.filter(ce=>ce.status==="confirmed").length}),H};if(o)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})});if(d)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:d}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Retry"})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No data available"})]})});const Qt=Re();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0 gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16 bg-gradient-to-br from-green-600 to-green-700 rounded-xl sm:rounded-2xl md:rounded-3xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-sm sm:text-lg md:text-xl",children:pe(a.user.name)})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h1",{className:"text-lg sm:text-2xl md:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent leading-tight",children:[e.jsxs("span",{className:"block sm:inline",children:["Welcome back, ",a.user.name.split(" ")[0],"!"]}),e.jsx("span",{className:"inline sm:inline",children:""})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("p",{className:"text-gray-600 text-sm sm:text-base leading-relaxed",children:[e.jsx("span",{className:"hidden xs:inline",children:"Ready to make today productive? Here's your overview."}),e.jsx("span",{className:"xs:hidden",children:"Here's your overview for today."})]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white/80 rounded-lg border",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("span",{className:"text-xs font-medium text-gray-600"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[R!==null&&e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${R?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${R?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"font-medium text-sm",children:R?"Available Now":"Currently Unavailable"})]}),K&&e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${U()?"bg-green-100 text-green-800":K.hasSubmittedVerification?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${U()?"bg-green-500":K.hasSubmittedVerification?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"font-medium text-sm",children:U()?"Verified":K.hasSubmittedVerification?"Verification Pending":"Verification Required"})]}),e.jsxs("button",{onClick:W,className:"bg-gradient-to-r from-green-600 to-green-600 text-white px-6 py-3 sm:px-8 sm:py-4 rounded-xl sm:rounded-2xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-green-200 flex items-center justify-center gap-3 w-full sm:w-auto",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(dr,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("span",{children:"Set Business Hours"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br from-emerald-400 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg text-white",children:""}),e.jsx("div",{className:"text-emerald-600",children:e.jsx(Ar,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Earnings"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:be(a.stats.totalEarnings)}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsx("span",{className:"text-emerald-600 font-semibold",children:"+12%"}),e.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"from last month"}),e.jsx("span",{className:"text-gray-500 sm:hidden",children:"vs last"})]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br from-green-400 to-blue-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Ne,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white"})}),e.jsx("div",{className:"text-blue-600",children:e.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Jobs Completed"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:a.stats.jobsCompleted}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsx("span",{className:"text-blue-600 font-semibold",children:"+8"}),e.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"this week"}),e.jsx("span",{className:"text-gray-500 sm:hidden",children:"this week"})]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br from-amber-400 to-yellow-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Te,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white fill-current"})}),e.jsx("div",{className:"text-amber-600",children:e.jsx(os,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),e.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:[a.stats.averageRating>0?a.stats.averageRating.toFixed(1):"0.0"," "]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[e.jsxs("span",{className:"hidden sm:inline",children:["Based on ",a.stats.totalRatings," reviews"]}),e.jsx("span",{className:"sm:hidden",children:"reviews"})]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(zs,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white"})}),e.jsx("div",{className:"text-purple-600",children:e.jsx(ka,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Clients"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:a.stats.activeClients}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsx("span",{className:"text-purple-600 font-semibold",children:"+3"}),e.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"new this week"}),e.jsx("span",{className:"text-gray-500 sm:hidden",children:"new"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 sm:p-8 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-green-500 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Recent Jobs"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base hidden sm:block",children:"Your latest service activities"})]})]}),e.jsxs("button",{className:"text-green-600 hover:text-green-700 font-medium flex items-center gap-1 transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"View All"}),e.jsx("span",{className:"sm:hidden",children:"All"}),e.jsx(Vi,{className:"w-4 h-4"})]})]})}),e.jsx("div",{className:"p-4 sm:p-8",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.recentJobs&&a.recentJobs.map(H=>e.jsxs("div",{className:"group p-4 sm:p-6 bg-gradient-to-r from-green-50 to-green-50 rounded-xl sm:rounded-2xl hover:from-green-50 hover:to-green-50 transition-all duration-300 hover:shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col sm:hidden space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xs",children:pe(H.client)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-base",children:ie(H.category)}),e.jsx("h4",{className:"font-bold text-gray-900 text-sm group-hover:text-green-600 transition-colors",children:H.title})]}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:H.client})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:be(H.payment)}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold border ${I(H.status)}`,children:H.status})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[120px]",children:H.location})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),e.jsx("span",{children:H.time})]})})]})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-sm",children:pe(H.client)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("span",{className:"text-lg",children:ie(H.category)}),e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:H.title}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${I(H.status)}`,children:H.status})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:H.client}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:H.location})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 mb-1",children:be(H.payment)}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:H.date}),e.jsx(Ie,{className:"w-4 h-4"}),e.jsx("span",{children:H.time})]})]})]})]},H.id)),(!a.recentJobs||a.recentJobs.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"font-medium",children:"No recent jobs"}),e.jsx("p",{className:"text-sm",children:"Your completed jobs will appear here"})]})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 sm:p-8 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Fo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Recent Bookings"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base hidden sm:block",children:"Your upcoming appointments"})]})]}),e.jsxs("button",{className:"text-green-600 hover:text-green-700 font-medium flex items-center gap-1 transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"View All"}),e.jsx("span",{className:"sm:hidden",children:"All"}),e.jsx(Vi,{className:"w-4 h-4"})]})]})}),e.jsx("div",{className:"p-4 sm:p-8",children:e.jsxs("div",{className:"space-y-4",children:[Qt.map(H=>e.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-green-50 rounded-xl sm:rounded-2xl hover:from-green-50 hover:to-teal-50 transition-all duration-300 hover:shadow-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:pe(H.customerName)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base",children:H.serviceType}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:H.customerName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Me,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:O(H.requestedAt)})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(We,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:H.location})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600",children:H.budget}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold border ${I(H.status)}`,children:H.status}),e.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>Ze(H),className:"p-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"View Details",children:e.jsx(rt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{onClick:()=>de(H,"email"),className:"p-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Send Email",children:e.jsx(ut,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{onClick:()=>de(H,"phone"),className:"p-1.5 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors",title:"Call Customer",children:e.jsx(ot,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]})},H._id)),Qt.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Fo,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"font-medium",children:"No upcoming bookings"}),e.jsx("p",{className:"text-sm",children:"Your upcoming appointments will appear here"})]})]})})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Ie,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Today's Schedule"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[b.map(H=>e.jsxs("div",{className:`relative p-3 sm:p-4 rounded-xl sm:rounded-2xl border-l-4 ${Q(H.priority)} transition-all duration-200 hover:shadow-md`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-base sm:text-lg",children:ie(H.category)}),e.jsx("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm leading-tight",children:H.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${I(H.status)}`,children:H.status})]}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-1",children:H.client}),e.jsx("p",{className:"text-gray-500 text-xs mb-3",children:H.location}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-green-600",children:[e.jsx(Ie,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsxs("span",{children:[H.time," - ",H.endTime]})]}),e.jsx("span",{className:"text-xs bg-white/80 text-gray-600 px-2 py-1 rounded-lg",children:H.duration})]}),H.payment&&e.jsx("div",{className:"mt-2 flex items-center justify-between",children:e.jsx("span",{className:"text-xs font-medium text-green-600",children:H.payment})})]},H.id)),b.length===0&&e.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl sm:rounded-3xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Me,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:"No tasks scheduled"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Enjoy your free day!"})]})]})})]}),r.length>0&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Ct,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Business Hours"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Your weekly availability"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current time: ",new Date().toLocaleTimeString()]})]})]})}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx("div",{className:"space-y-3 sm:space-y-4",children:r.map((H,ce)=>{const ue=new Date,fe=H.dayOfWeek===ue.toLocaleDateString("en-US",{weekday:"long"}),we=fe?m(H,ue):!1;return e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl border ${fe?"border-green-300 bg-gradient-to-r from-green-50 to-emerald-50":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm",children:[H.dayOfWeek," ",fe&&""]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${H.isAvailable&&we?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-xs text-gray-600",children:H.isAvailable?we?"Open Now":"Available":"Unavailable"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-emerald-600 font-medium",children:[e.jsx(Ie,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsxs("span",{children:[V(H.startTime)," - ",V(H.endTime)]}),e.jsxs("span",{className:"text-gray-500 text-xs",children:["(",H.startTime," - ",H.endTime,")"]})]}),H.serviceTypes.length>0&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 font-medium",children:["Services: ",H.serviceTypes.join(", ")]}),H.notes&&e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2 italic",children:H.notes}),fe&&e.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Currently: ",we?"Within business hours":"Outside business hours"]})]})]},ce)})})})]})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 sm:p-8 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-600 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(dr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Set Business Hours"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Configure your weekly availability"})]})]}),e.jsx("button",{onClick:ee,className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 hover:bg-gray-200 rounded-xl sm:rounded-2xl flex items-center justify-center transition-colors",children:e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})}),e.jsxs("div",{className:"p-6 sm:p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["Select Days ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("button",{onClick:ke,className:"text-xs text-green-600 hover:text-green-700 font-medium",children:g.length===A.length?"Deselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:A.map(H=>e.jsx("button",{onClick:()=>le(H),className:`p-2 text-xs font-medium rounded-lg transition-all ${g.includes(H)?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:H.slice(0,3)},H))}),g.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",g.join(", ")]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Start Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",value:g.length>0?M(g[0]).startTime:"09:00",onChange:H=>J(g,{startTime:H.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",disabled:g.length===0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["End Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",value:g.length>0?M(g[0]).endTime:"17:00",onChange:H=>J(g,{endTime:H.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",disabled:g.length===0})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Available on selected days"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g.length>0?M(g[0]).isAvailable:!0,onChange:H=>J(g,{isAvailable:H.target.checked}),className:"sr-only peer",disabled:g.length===0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Service Types ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:L.map(H=>{const ce=g.length>0&&M(g[0]).serviceTypes.includes(H);return e.jsx("button",{type:"button",onClick:()=>qe(H),className:`p-2 text-xs font-medium rounded-lg transition-all ${ce?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,disabled:g.length===0,children:H},H)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:g.length>0?M(g[0]).notes:"",onChange:H=>J(g,{notes:H.target.value}),placeholder:"Any special requirements or notes...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",disabled:g.length===0})]})]}),e.jsxs("div",{className:"p-6 sm:p-8 border-t border-gray-100 flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx("button",{onClick:ee,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl sm:rounded-2xl hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),e.jsxs("button",{onClick:se,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-purple-600 text-white rounded-xl sm:rounded-2xl hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 font-semibold hover:scale-105",children:[e.jsx(no,{className:"w-5 h-5"}),e.jsx("span",{children:"Save All Hours"})]})]})]})}),k&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 sm:p-8 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Fo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Booking Details"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Appointment information"})]})]}),e.jsx("button",{onClick:()=>F(!1),className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 hover:bg-gray-200 rounded-xl sm:rounded-2xl flex items-center justify-center transition-colors",children:e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})}),e.jsxs("div",{className:"p-6 sm:p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client Name"}),e.jsx("p",{className:"text-gray-900",children:x.customerName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Service"}),e.jsx("p",{className:"text-gray-900",children:x.serviceType})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Requested"}),e.jsx("p",{className:"text-gray-900",children:O(x.requestedAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timeframe"}),e.jsx("p",{className:"text-gray-900",children:x.timeframe})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:x.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Budget"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.budget})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${I(x.status)}`,children:x.status})]}),x.description&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:x.description})]}),x.specialRequests&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Special Requests"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:x.specialRequests})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Email"}),e.jsx("p",{className:"text-gray-900",children:x.customerEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Phone"}),e.jsx("p",{className:"text-gray-900",children:x.customerPhone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Update Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>{console.log("Accept button clicked - verification status:",U()),re(x._id,"confirmed")},className:`w-full px-4 py-2 rounded-lg transition-colors text-sm font-medium ${U()?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!U()||x.status==="confirmed"||x.status==="completed",children:U()?"Accept Booking":"Verify Identity to Accept"}),e.jsx("button",{onClick:()=>re(x._id,"completed"),className:`w-full px-4 py-2 rounded-lg transition-colors text-sm font-medium ${U()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!U()||x.status==="completed"||x.status!=="confirmed",children:U()?"Complete & Rate":"Verify Identity to Complete"}),e.jsx("button",{onClick:()=>re(x._id,"cancelled"),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",disabled:x.status==="cancelled",children:"Cancel Booking"})]}),!U()&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-800 text-center",children:e.jsx("strong",{children:"Identity Verification Required"})}),e.jsx("button",{onClick:()=>{Z(!0),F(!1)},className:"w-full mt-2 px-4 py-2 bg-yellow-500 text-white rounded text-sm hover:bg-yellow-600 font-medium",children:K!=null&&K.hasSubmittedVerification?"Verification Pending":"Start Verification"})]})]})]}),e.jsx("div",{className:"p-6 sm:p-8 border-t border-gray-100",children:e.jsx("button",{onClick:()=>F(!1),className:"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-green-600 text-white rounded-xl sm:rounded-2xl hover:shadow-xl transition-all duration-200 font-semibold",children:"Close"})})]})}),e.jsx(fb,{isOpen:y,booking:T,onClose:()=>{f(!1),S(null)},onSubmit:xe,type:p}),e.jsx(Fh,{isOpen:_,onClose:()=>{Z(!1),w(null)},onVerify:D,isSubmitting:q,hasSubmittedVerification:(K==null?void 0:K.hasSubmittedVerification)||!1})]})})},In="https://backendhomeheroes.onrender.com",bb=({job:t,isOpen:s,onClose:r,onApply:n,userVerification:a})=>{var j,y,f,T,S,p;if(!s||!t)return null;const[l,o]=c.useState(!1),i=async()=>{o(!0);try{await n(t._id)}finally{o(!1)}},d=C=>{switch(C){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";default:return"bg-green-100 text-green-800"}},h=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"applied":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},g=C=>new Date(C).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=((j=t.customerId)==null?void 0:j.name)||"Unknown Customer",x=((y=t.customerId)==null?void 0:y.email)||"No email provided",E=(f=t.customerId)==null?void 0:f.phoneNumber,k=(T=t.customerId)==null?void 0:T.rating,F=(S=t.customerId)==null?void 0:S.reviewCount,b=(a==null?void 0:a.isVerified)||(a==null?void 0:a.verificationStatus)==="verified"||(a==null?void 0:a.isNinVerified)&&((p=a==null?void 0:a.details)==null?void 0:p.ninVerified);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.serviceType}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${h(t.status)}`,children:t.status==="accepted"?"Assigned":t.status}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d(t.urgency)}`,children:[t.urgency==="urgent"&&e.jsx(dt,{className:"w-3 h-3 mr-1"}),t.urgency]})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Pe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Service Description"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:t.location})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wt,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Budget"}),e.jsx("p",{className:"text-green-600 font-semibold",children:t.budget})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Timeframe"}),e.jsx("p",{className:"text-gray-900",children:t.timeframe})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Me,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Posted"}),e.jsx("p",{className:"text-gray-900",children:g(t.createdAt)})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:u.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u}),k&&e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsxs("span",{className:"text-sm text-gray-700 ml-1",children:[k," (",F," reviews)"]})]})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2",children:[E&&e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx(ot,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:E})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx(ut,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:x})]})]})]}),t.status==="pending"&&!b&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(pf,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Verification Required"}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"You need to verify your identity with your NIN before applying for jobs. This helps build trust with customers."})]})]})}),(t.status==="applied"||t.hasApplied)&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-800 font-medium",children:"Proposal Submitted"}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"You have already submitted a proposal for this job. The customer will review your application."})]})]})}),t.status==="accepted"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 font-medium",children:"Job Accepted"}),e.jsx("p",{className:"text-green-700 text-sm mt-1",children:"You have successfully accepted this job. Contact the customer to arrange the service."})]})]})})]}),e.jsx("div",{className:"border-t px-6 py-4 bg-gray-50",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),t.status==="pending"&&!t.hasApplied&&e.jsx("button",{onClick:i,disabled:l||!b,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wa,{className:"w-5 h-5 mr-2"}),b?"Submit Proposal":"Verify & Apply"]})}),t.status==="accepted"&&E&&e.jsxs("a",{href:`tel:${E}`,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[e.jsx(ot,{className:"w-5 h-5 mr-2"}),"Call Customer"]})]})})]})})},vb=({job:t,isOpen:s,onClose:r,onSubmit:n,isSubmitting:a})=>{const[l,o]=c.useState({proposedBudget:"",timeline:"",message:""});c.useEffect(()=>{t&&s&&o({proposedBudget:t.budget||"",timeline:t.timeframe||"",message:`Hello! I'm interested in helping you with your ${t.serviceType} service. I have experience in this area and I believe I can deliver quality work within your timeframe. I'm available to discuss the details further. Looking forward to working with you!`})},[t,s]);const i=async h=>{h.preventDefault(),await n(l)},d=()=>{o({proposedBudget:"",timeline:"",message:""}),r()};return!s||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submit Proposal"}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Apply for: ",t.serviceType]})]}),e.jsx("button",{onClick:d,disabled:a,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:e.jsx(Pe,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Job Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Customer's Budget: ",t.budget]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsxs("span",{children:["Timeframe: ",t.timeframe]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Urgency: ",t.urgency]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"proposedBudget",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Proposed Budget *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:""}),e.jsx("input",{type:"text",id:"proposedBudget",required:!0,value:l.proposedBudget,onChange:h=>o({...l,proposedBudget:h.target.value}),placeholder:"e.g., 15,000",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Consider the customer's budget of ",t.budget," when making your proposal"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"timeline",className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposed Timeline *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",id:"timeline",required:!0,value:l.timeline,onChange:h=>o({...l,timeline:h.target.value}),placeholder:"e.g., 2-3 days, Within 1 week, ASAP",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Proposal Message *"}),e.jsx("textarea",{id:"message",required:!0,rows:6,value:l.message,onChange:h=>o({...l,message:h.target.value}),placeholder:"Introduce yourself and explain why you're the right fit for this job. Mention your relevant experience and how you plan to approach the work...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-vertical"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A good proposal increases your chances of being hired. Be specific about your approach and qualifications."})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-2 flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Tips for a Great Proposal"]}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:" Mention specific experience relevant to this job"}),e.jsx("li",{children:" Explain your approach to the work"}),e.jsx("li",{children:" Be professional and friendly"}),e.jsx("li",{children:" Highlight what makes you the best choice"}),e.jsx("li",{children:" Include your availability"})]})]})]}),e.jsx("div",{className:"border-t px-6 py-4 bg-gray-50",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:d,disabled:a,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:i,disabled:a,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Na,{className:"w-5 h-5 mr-2"}),"Submit Proposal"]})})]})})]})})},wb=()=>{const[t,s]=c.useState([]),[r,n]=c.useState(!0),[a,l]=c.useState(null),[o,i]=c.useState({status:"pending",serviceType:"",location:"",minBudget:"",maxBudget:"",urgency:"",sortBy:"createdAt",sortOrder:"desc"}),[d,h]=c.useState(1),[g,u]=c.useState(1),[x,E]=c.useState(null),[k,F]=c.useState(!1),[b,j]=c.useState(null),[y,f]=c.useState(!1),[T]=c.useState(new Set),[S,p]=c.useState(null),[C,R]=c.useState(!1),[G,K]=c.useState(!1),[X,_]=c.useState(!1),[Z,q]=c.useState(""),v=()=>{var z,L,W;return x?x.isVerified||x.verificationStatus==="verified"||x.isNinVerified&&((z=x.details)==null?void 0:z.ninVerified)||((L=x.details)==null?void 0:L.ninVerified)&&((W=x.details)==null?void 0:W.selfieVerified):!1},$=async()=>{var z,L,W,se,ne,ee,V,O;try{const I=localStorage.getItem("authToken")||localStorage.getItem("token");if(!I){console.log("No token found, skipping verification fetch");return}console.log(" Fetching verification status...");const Q=await fetch(`${In}/api/auth/verification-status`,{headers:{Authorization:`Bearer ${I}`}});if(console.log(" Verification status response:",Q.status),Q.ok){const ie=await Q.json();console.log(" Verification data received:",ie.data);const pe=ie.data,le={hasSubmittedVerification:pe.hasSubmittedVerification,verificationStatus:pe.verificationStatus,isVerified:pe.isVerified,isNinVerified:pe.isVerified||((z=pe.details)==null?void 0:z.ninVerified)||!1,isNepaVerified:((L=pe.details)==null?void 0:L.nepaVerified)||!1,details:{ninVerified:((W=pe.details)==null?void 0:W.ninVerified)||!1,nepaVerified:((se=pe.details)==null?void 0:se.nepaVerified)||!1,selfieVerified:((ne=pe.details)==null?void 0:ne.selfieVerified)||!1,submittedAt:(ee=pe.details)==null?void 0:ee.submittedAt,reviewedAt:(V=pe.details)==null?void 0:V.reviewedAt,notes:((O=pe.details)==null?void 0:O.notes)||""}};console.log(" Mapped verification data:",le),E(le)}else console.log(" Failed to fetch verification status:",Q.status),E({hasSubmittedVerification:!1,verificationStatus:"not_submitted",isNinVerified:!1,isNepaVerified:!1,isVerified:!1,details:{ninVerified:!1,nepaVerified:!1,selfieVerified:!1}})}catch(I){console.error(" Error fetching verification status:",I),E({hasSubmittedVerification:!1,verificationStatus:"not_submitted",isNinVerified:!1,isNepaVerified:!1,isVerified:!1,details:{ninVerified:!1,nepaVerified:!1,selfieVerified:!1}})}},w=async()=>{try{n(!0);const z=localStorage.getItem("authToken")||localStorage.getItem("token");if(!z)throw new Error("Please log in to view jobs");const L=new URLSearchParams({page:d.toString(),limit:"10",...o}),W=await fetch(`${In}/api/jobs?${L}`,{headers:{Authorization:`Bearer ${z}`}});if(!W.ok)throw new Error("Failed to fetch jobs");const se=await W.json(),ne=se.data.jobs.map(ee=>({...ee,customerId:ee.customerId||{_id:"unknown",name:"Unknown Customer",email:"No email provided"}}));s(ne),u(se.data.totalPages)}catch(z){l(z instanceof Error?z.message:"An error occurred")}finally{n(!1)}};c.useEffect(()=>{w(),$()},[o,d]);const A=t.filter(z=>Z===""||z.serviceType.toLowerCase().includes(Z.toLowerCase())||z.description.toLowerCase().includes(Z.toLowerCase())||z.location.toLowerCase().includes(Z.toLowerCase())),N=async z=>{try{if(console.log("HandleApply called for job:",z),console.log("User verification status:",x),console.log("Is user verified?",v()),!v()){console.log("User needs verification, opening modal"),j(z),F(!0);return}console.log("User is verified, opening proposal modal");const L=t.find(W=>W._id===z);L&&(p(L),K(!0))}catch(L){console.error("Apply error:",L),alert("Error applying for job")}},m=async z=>{if(S)try{_(!0);const L=localStorage.getItem("authToken")||localStorage.getItem("token");console.log("Submitting proposal for job:",S._id),console.log("Proposal data:",z);const W=await fetch(`${In}/api/jobs/${S._id}/apply`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({proposedBudget:z.proposedBudget,timeline:z.timeline,message:z.message,proposedSchedule:z.proposedSchedule||"Flexible"})}),se=await W.json();if(W.ok)s(ne=>ne.map(ee=>ee._id===S._id?{...ee,status:"applied",hasApplied:!0}:ee)),K(!1),p(null),alert("Proposal submitted successfully! The customer will review your application.");else throw new Error(se.message||"Failed to submit proposal")}catch(L){console.error("Proposal submission error:",L),alert(L instanceof Error?L.message:"Error submitting proposal")}finally{_(!1)}},P=async z=>{console.log(" HandleIdentityVerify called with:",{nin:z.nin,hasSelfie:!!z.selfie,hasNepaBill:!!z.nepaBill,consent:z.consent}),f(!0);try{const L=localStorage.getItem("authToken")||localStorage.getItem("token"),W=new FormData;W.append("nin",z.nin),W.append("consent",z.consent.toString()),z.selfie&&(W.append("selfie",z.selfie),console.log(" Selfie file details:",{name:z.selfie.name,size:z.selfie.size,type:z.selfie.type})),z.nepaBill&&(W.append("nepaBill",z.nepaBill),console.log(" NEPA bill file details:",{name:z.nepaBill.name,size:z.nepaBill.size,type:z.nepaBill.type})),console.log(" Sending verification request to:",`${In}/api/verification/submit`);const se=await fetch(`${In}/api/verification/submit`,{method:"POST",headers:{Authorization:`Bearer ${L}`},body:W});console.log(" Response status:",se.status);const ne=await se.json();if(console.log(" Response data:",ne),se.ok){if(console.log(" Verification submitted successfully"),await $(),F(!1),b){const ee=t.find(V=>V._id===b);ee&&(p(ee),K(!0)),j(null)}alert("Verification submitted successfully! Your documents will be reviewed.")}else{console.error(" Verification submission failed:",ne);let ee=ne.message||"Verification submission failed";throw se.status===400?ee=`Validation error: ${ne.message}`:se.status===404?ee="Verification endpoint not found. Please contact support.":se.status===500&&(ee="Server error. Please try again later."),new Error(ee)}}catch(L){console.error(" Verification error:",L);let W="Verification failed. Please try again.";throw L instanceof TypeError&&L.message.includes("Failed to fetch")?W="Network error. Please check your internet connection and try again.":L instanceof Error&&(W=L.message),alert(W),L}finally{f(!1)}},B=z=>{p(z),R(!0)},U=()=>{if(!x)return null;const z=x.verificationStatus;x.isNinVerified;const L=x.isNepaVerified;return v()?L?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(bh,{className:"w-3 h-3 mr-1"}),"Fully Verified"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Basic Verification"]}):z==="pending"?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(Do,{className:"w-3 h-3 mr-1"}),"Verification Pending"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(Do,{className:"w-3 h-3 mr-1"}),"Unverified"]})},D=z=>{switch(z){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-green-100 text-green-800 border-green-200"}},M=z=>{switch(z){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"applied":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},J=z=>z.customerId?z.customerId:{name:"Unknown Customer",email:"No email provided",phoneNumber:void 0,rating:void 0,reviewCount:void 0};return r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):a?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx(Pe,{className:"w-12 h-12 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-red-700",children:a}),e.jsx("button",{onClick:w,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Try Again"})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Service Requests"}),e.jsx("p",{className:"text-gray-600",children:"Find and apply for service requests from customers"})]}),x&&e.jsxs("div",{className:"flex items-center space-x-2",children:[U(),!v()&&e.jsx("button",{onClick:()=>{console.log("Verify Now button clicked"),F(!0)},className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"Verify Now"})]})]}),x&&!v()&&e.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Do,{className:"w-5 h-5 text-yellow-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Identity Verification Required"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"You need to verify your identity with your NIN before applying for jobs. This helps build trust with customers."})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Jobs"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by service, description, or location...",value:Z,onChange:z=>q(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:o.status,onChange:z=>i({...o,status:z.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"pending",children:"Available"}),e.jsx("option",{value:"accepted",children:"My Accepted Jobs"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"all",children:"All Jobs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),e.jsx("input",{type:"text",placeholder:"e.g., Plumbing, Cleaning",value:o.serviceType,onChange:z=>i({...o,serviceType:z.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:o.sortBy,onChange:z=>i({...o,sortBy:z.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"createdAt",children:"Newest First"}),e.jsx("option",{value:"urgency",children:"Urgency"}),e.jsx("option",{value:"budget",children:"Budget"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",A.length," of ",t.length," jobs"]}),e.jsx("button",{onClick:()=>{q(""),i({status:"pending",serviceType:"",location:"",minBudget:"",maxBudget:"",urgency:"",sortBy:"createdAt",sortOrder:"desc"})},className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"Clear Filters"})]})]}),e.jsx("div",{className:"space-y-4",children:A.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx(zs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No jobs found matching your criteria"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Try adjusting your filters or check back later"})]}):A.map(z=>{const L=J(z),W=T.has(z._id),se=v();return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:z.serviceType}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${D(z.urgency)}`,children:[z.urgency==="urgent"&&e.jsx(dt,{className:"w-4 h-4 mr-1"}),z.urgency]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${M(z.status)}`,children:z.status==="accepted"?"Assigned to You":z.status})]})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:z.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(We,{className:"w-5 h-5 mr-2 text-gray-400"}),e.jsx("span",{children:z.location})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(wt,{className:"w-5 h-5 mr-2 text-gray-400"}),e.jsx("span",{className:"font-semibold text-green-600",children:z.budget})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ie,{className:"w-5 h-5 mr-2 text-gray-400"}),e.jsx("span",{children:z.timeframe})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-semibold",children:L.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:L.name}),L.rating&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Te,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),e.jsxs("span",{children:[L.rating," (",L.reviewCount," reviews)"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 min-w-[200px]",children:[z.status==="pending"&&!z.hasApplied&&e.jsx("button",{onClick:()=>N(z._id),disabled:W||!se,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:W?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wa,{className:"w-5 h-5 mr-2"}),se?"Submit Proposal":"Verify & Apply"]})}),z.status==="applied"||z.hasApplied?e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-green-600 font-medium",children:" Proposal Submitted"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Waiting for customer response"})]}):null,z.status==="accepted"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors w-full",children:"Mark Complete"}),L.phoneNumber&&e.jsxs("a",{href:`tel:${L.phoneNumber}`,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors w-full flex items-center justify-center",children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Call Customer"]})]}),e.jsxs("button",{onClick:()=>B(z),className:"text-green-600 hover:text-green-800 text-sm font-medium flex items-center justify-center",children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-sm text-gray-500",children:[e.jsx(Me,{className:"w-4 h-4 inline mr-1"}),"Posted ",new Date(z.createdAt).toLocaleDateString()]})]},z._id)})}),g>1&&e.jsxs("div",{className:"flex justify-center mt-8 space-x-2",children:[e.jsx("button",{onClick:()=>h(Math.max(1,d-1)),disabled:d===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,g)},(z,L)=>{const W=L+1;return e.jsx("button",{onClick:()=>h(W),className:`px-4 py-2 border rounded-md ${d===W?"bg-green-600 text-white border-green-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:W},W)}),e.jsx("button",{onClick:()=>h(Math.min(g,d+1)),disabled:d===g,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50 hover:bg-gray-50",children:"Next"})]}),e.jsx(Fh,{isOpen:k,onClose:()=>{console.log("Modal onClose called"),F(!1),j(null)},onVerify:P,isSubmitting:y}),e.jsx(bb,{job:S,isOpen:C,onClose:()=>R(!1),onApply:N,userVerification:x}),e.jsx(vb,{job:S,isOpen:G,onClose:()=>{K(!1),p(null)},onSubmit:m,isSubmitting:X})]})},zm="https://backendhomeheroes.onrender.com",jb=()=>{const[t,s]=c.useState(new Date);c.useState("week");const[r,n]=c.useState(""),[a,l]=c.useState("all"),[o,i]=c.useState([]),[d,h]=c.useState(!0),[g,u]=c.useState(null),[x,E]=c.useState(null),[k,F]=c.useState(!1),[b,j]=c.useState(null),[y,f]=c.useState(null);c.useEffect(()=>{const w=localStorage.getItem("authToken")||localStorage.getItem("token");E(w)},[]);const T=async()=>{var w;try{if(h(!0),u(null),!x)throw new Error("No authentication token found. Please log in again.");console.log(" Fetching schedule data...");const A=await fetch(`${zm}/api/schedule?refresh=${Date.now()}`,{method:"GET",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(console.log("Schedule response status:",A.status),A.status===401||A.status===403)throw localStorage.removeItem("authToken"),localStorage.removeItem("token"),E(null),new Error("Your session has expired. Please log in again.");if(A.ok){const N=await A.json();if(console.log("Schedule API response:",N),N.success){const m=((w=N.data)==null?void 0:w.schedule)||N.data||N.schedule||[];i(m),console.log(" Schedule data loaded:",m.length)}else throw new Error(N.message||"Failed to fetch schedule data")}else{console.log("Schedule endpoint failed, trying dashboard...");const N=await fetch(`${zm}/api/user/dashboard?refresh=${Date.now()}`,{method:"GET",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(!N.ok){const P=await N.json().catch(()=>({}));throw new Error(P.message||`HTTP error! status: ${N.status}`)}const m=await N.json();if(console.log("Dashboard schedule data:",m.schedule),m.schedule&&Array.isArray(m.schedule)){const P=m.schedule.map(B=>({id:B._id||B.id,title:B.title||B.serviceType||"Appointment",client:B.client||B.customerName||"Unknown Client",phone:B.phone||B.customerPhone||"No phone",location:B.location,date:B.date||new Date().toISOString().split("T")[0],time:B.time||"10:00 AM",endTime:B.endTime||"12:00 PM",duration:B.duration||"2 hours",payment:B.payment||"0",status:(B.status==="accepted"?"confirmed":B.status)||"confirmed",notes:B.notes||B.specialRequests||"",category:B.category||"other",priority:B.priority||"medium",bookingId:B.bookingId,providerId:B.providerId,customerId:B.customerId}));i(P),console.log(" Transformed appointments from dashboard:",P.length)}else throw new Error("No schedule data found in dashboard")}}catch(A){const N=A instanceof Error?A.message:"An unknown error occurred";u(N),console.error("Schedule fetch error:",A)}finally{h(!1)}};c.useEffect(()=>{x?T():h(!1)},[x]);const S=()=>{x&&T()},p=async w=>{f("new");try{console.log("Adding appointment:",w);const A={id:Date.now().toString(),title:w.title||"New Appointment",client:w.client||"New Client",phone:w.phone||"+234 000 000 0000",location:w.location||"Location",date:w.date||new Date().toISOString().split("T")[0],time:w.time||"10:00 AM",endTime:w.endTime||"12:00 PM",duration:w.duration||"2 hours",payment:w.payment||"0",status:"confirmed",notes:w.notes||"",category:w.category||"other",priority:w.priority||"medium"};i(N=>[...N,A]),F(!1),console.log(" New appointment added successfully")}catch(A){console.error("Error adding appointment:",A),u("Failed to add appointment")}finally{f(null)}},C=()=>{const w=new Date(t);w.setDate(t.getDate()-t.getDay());const A=[];for(let N=0;N<7;N++){const m=new Date(w);m.setDate(w.getDate()+N),A.push(m)}return A},R=w=>w.toISOString().split("T")[0],G=w=>o.filter(A=>A.date===w&&(a==="all"||A.status===a)&&(r===""||A.title.toLowerCase().includes(r.toLowerCase())||A.client.toLowerCase().includes(r.toLowerCase()))),K=async()=>{const w=localStorage.getItem("authToken")||localStorage.getItem("token");E(w),u(null),await T()},X=()=>{window.location.href="/login"};C();const _=R(new Date),Z=o.filter(w=>(a==="all"||w.status===a)&&(r===""||w.title.toLowerCase().includes(r.toLowerCase())||w.client.toLowerCase().includes(r.toLowerCase()))),q=G(_),v=Z.reduce((w,A)=>{const N=parseInt(A.payment.replace(/[^0-9]/g,""));return w+(isNaN(N)?0:N)},0),$=w=>`${w.toLocaleString()}`;return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your schedule..."})]})}):x?g&&o.length===0?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md p-6 bg-white rounded-xl shadow-lg",children:[e.jsx(Pe,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Schedule"}),e.jsx("p",{className:"text-gray-600 mb-4",children:g}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[e.jsx("button",{onClick:K,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Retry"}),e.jsx("button",{onClick:X,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Log In Again"})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 lg:gap-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-600 to-green-700 rounded-2xl sm:rounded-3xl flex items-center justify-center shadow-lg",children:e.jsx(Me,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent leading-tight",children:"Schedule Management"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg",children:"Organize your appointments and track your availability"}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white/80 rounded-lg border",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"NGN"})]})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:S,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[e.jsx(Mt,{className:"w-4 h-4"}),"Refresh"]}),e.jsxs("button",{onClick:()=>F(!0),className:"bg-gradient-to-r from-green-600 to-green-600 text-white px-6 py-3 sm:px-8 sm:py-4 rounded-xl sm:rounded-2xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-green-200 flex items-center justify-center gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-md sm:rounded-lg flex items-center justify-center",children:e.jsx(dr,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("span",{className:"text-sm sm:text-base",children:"Add Appointment"})]})]})]})}),g&&o.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"text-red-700",children:g})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:S,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Retry"}),e.jsx("button",{onClick:()=>u(null),className:"text-red-600 hover:text-red-800",children:e.jsx(Ae,{className:"w-5 h-5"})})]})]}),!g&&o.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-emerald-600"}),e.jsxs("p",{className:"text-emerald-700",children:["Loaded ",o.length," appointments from your schedule"]})]}),e.jsx("button",{onClick:S,className:"text-emerald-600 hover:text-emerald-800 text-sm font-medium",children:"Refresh"})]}),o.length===0&&!d&&!g&&e.jsxs("div",{className:"text-center py-12 bg-white/80 backdrop-blur-sm rounded-3xl shadow-sm border border-gray-100 mb-8",children:[e.jsx(Me,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No appointments scheduled"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have any upcoming appointments."}),e.jsx("button",{onClick:()=>F(!0),className:"bg-gradient-to-r from-green-600 to-green-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Create Your First Appointment"})]}),o.length>0&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-6 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Me,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"text-green-600",children:e.jsx(qn,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Appointments"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:q.length}),e.jsxs("div",{className:"text-sm text-gray-500",children:[q.filter(w=>w.status==="confirmed").length," confirmed"]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-6 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-400 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Ne,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"text-emerald-600",children:e.jsx(ka,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmed Jobs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.filter(w=>w.status==="confirmed").length}),e.jsx("div",{className:"text-sm text-emerald-600 font-semibold",children:"Ready to go!"})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-6 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-400 to-yellow-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Pe,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"text-amber-600",children:e.jsx(dt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.filter(w=>w.status==="pending").length}),e.jsx("div",{className:"text-sm text-amber-600 font-semibold",children:"Needs attention"})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-6 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:""})}),e.jsx("div",{className:"text-green-600",children:e.jsx(Ct,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expected Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:$(v)}),e.jsx("div",{className:"text-sm text-green-600 font-semibold",children:"This week"})]})]})]})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add New Appointment"}),e.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Ae,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter appointment title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter client name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),e.jsx("input",{type:"time",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{onClick:()=>F(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>p({}),disabled:y==="new",className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:y==="new"?e.jsx(Mt,{className:"w-4 h-4 animate-spin mx-auto"}):"Add Appointment"})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Appointment Details"}),e.jsx("button",{onClick:()=>j(null),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Ae,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Title:"})," ",b.title]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Client:"})," ",b.client]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",b.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"})," ",b.location]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Date:"})," ",b.date]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Time:"})," ",b.time," - ",b.endTime]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Payment:"})," ",b.payment]}),b.notes&&e.jsxs("div",{children:[e.jsx("strong",{children:"Notes:"})," ",b.notes]})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx("button",{onClick:()=>j(null),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Close"})})]})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md p-6 bg-white rounded-xl shadow-lg",children:[e.jsx(Pe,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view your schedule."}),e.jsx("button",{onClick:X,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Log In"})]})})},Wo="https://backendhomeheroes.onrender.com",Nb=({currentUser:t=null})=>{var w,A,N;const[s,r]=c.useState(null),[n,a]=c.useState([]),[l,o]=c.useState([]),[i,d]=c.useState(""),[h,g]=c.useState(""),[u,x]=c.useState(!1),[E,k]=c.useState(!1),[F,b]=c.useState(!1),j=c.useRef(null),y=()=>{if(t!=null&&t._id)return t._id;if(t!=null&&t.id)return t.id;try{const m=localStorage.getItem("authToken");if(m)return JSON.parse(atob(m.split(".")[1])).id}catch(m){console.error("Error getting user ID from token:",m)}return null};c.useEffect(()=>{T()},[]),c.useEffect(()=>{s&&S(s._id)},[s]),c.useEffect(()=>{f()},[l]);const f=()=>{var m;(m=j.current)==null||m.scrollIntoView({behavior:"smooth"})},T=async()=>{try{k(!0);const m=localStorage.getItem("authToken"),P=await fetch(`${Wo}/api/messages/conversations`,{headers:{Authorization:`Bearer ${m}`}});if(P.ok){const B=await P.json();a(B.data.conversations)}}catch(m){console.error("Error fetching conversations:",m)}finally{k(!1)}},S=async m=>{try{k(!0);const P=localStorage.getItem("authToken"),B=await fetch(`${Wo}/api/messages/conversation/${m}?limit=100`,{headers:{Authorization:`Bearer ${P}`}});if(B.ok){const U=await B.json(),D=y();console.log("=== DEBUG MESSAGE FETCH ==="),console.log("Current User ID:",D),console.log("Raw messages:",U.data.messages);const M=U.data.messages.map(J=>{var se;let z="";typeof J.senderId=="string"?z=J.senderId:J.senderId&&typeof J.senderId=="object"&&(z=J.senderId._id||J.senderId.id||"");const L=z===D;return console.log(`Message: "${J.content}" | Sender ID: ${z} | Current User ID: ${D} | IsMe: ${L} | Sender Name: ${(se=J.senderId)==null?void 0:se.name}`),{...J,isMe:L,isProvider:L}});o(M)}}catch(P){console.error("Error fetching messages:",P)}finally{k(!1)}},p=async()=>{if(!(!i.trim()||!s))try{b(!0);const m=localStorage.getItem("authToken");(await fetch(`${Wo}/api/messages/send`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({conversationId:s._id,content:i.trim(),messageType:"text"})})).ok&&(d(""),S(s._id),T())}catch(m){console.error("Error sending message:",m)}finally{b(!1)}},C=m=>{r(m),x(!0)},R=()=>{x(!1),r(null),o([])},G=m=>{const P=y();return P?m.participants.find(B=>(B._id||B.id)!==P):m.participants[0]},K=m=>(m!=null&&m.userType,"customer"),X=m=>{if(!m)return"Just now";const P=new Date(m),D=(new Date().getTime()-P.getTime())/(1e3*60*60);return D<1?`${Math.floor(D*60)}m ago`:D<24?`${Math.floor(D)}h ago`:P.toLocaleDateString()},_=n.filter(m=>{var U;const P=G(m);return(U=P==null?void 0:P.name)==null?void 0:U.toLowerCase().includes(h.toLowerCase())}),Z=m=>new Date(m).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),q=m=>{if(m.isMe)switch(m.status){case"sent":return e.jsx(Ie,{className:"w-3 h-3 text-green-300"});case"delivered":return e.jsx(Gr,{className:"w-3 h-3 text-green-300"});case"read":return e.jsx(xh,{className:"w-3 h-3 text-green-200"});default:return null}return null},v=m=>m.isMe?"right":"left",$=m=>v(m)==="right"?"bg-gradient-to-r from-green-600 to-green-600 text-white":"bg-white/90 backdrop-blur-sm text-gray-900 border border-gray-200";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-green-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-sm border border-gray-100 overflow-hidden h-[calc(100vh-200px)] flex",children:[e.jsxs("div",{className:`w-full lg:w-2/5 border-r border-gray-200 flex flex-col ${u?"hidden lg:flex":"flex"}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200 bg-white/50",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"w-5 h-5 absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:h,onChange:m=>g(m.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-gray-50 transition-all duration-200"})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:E?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):_.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 px-4",children:[e.jsx(ns,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"font-medium",children:"No conversations found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search"})]}):e.jsx("div",{className:"space-y-2 p-2",children:_.map(m=>{var B,U;const P=G(m);return K(P),e.jsx("button",{onClick:()=>C(m),className:`w-full p-4 rounded-2xl text-left transition-all duration-300 group ${(s==null?void 0:s._id)===m._id?"bg-gradient-to-r from-green-50 to-green-50 border border-green-200 shadow-sm":"hover:bg-gradient-to-r hover:from-gray-50 hover:to-green-50 hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg bg-gradient-to-br from-green-500 to-green-600",children:((B=P==null?void 0:P.name)==null?void 0:B.charAt(0))||"U"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white bg-green-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-green-600 transition-colors truncate",children:(P==null?void 0:P.name)||"Unknown User"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Customer"})]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:m.lastMessage&&X(m.lastMessage.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:((U=m.lastMessage)==null?void 0:U.content)||"No messages yet"})]})]})},m._id)})})})]}),e.jsx("div",{className:`flex-1 flex flex-col ${u?"flex":"hidden lg:flex"}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-6 border-b border-gray-200 bg-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[e.jsx("button",{onClick:R,className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-200",children:e.jsx(to,{className:"w-5 h-5"})}),e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg bg-gradient-to-br from-green-500 to-green-600",children:((A=(w=G(s))==null?void 0:w.name)==null?void 0:A.charAt(0))||"U"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg truncate",children:((N=G(s))==null?void 0:N.name)||"Unknown User"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Customer"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{children:"Online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-12 h-12 bg-green-100 hover:bg-green-200 text-green-600 rounded-2xl flex items-center justify-center transition-all duration-200",children:e.jsx(ot,{className:"w-5 h-5"})}),e.jsx("button",{className:"w-12 h-12 bg-green-100 hover:bg-green-200 text-green-600 rounded-2xl flex items-center justify-center transition-all duration-200",children:e.jsx(ha,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-white/30 to-green-50/30",children:[E?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):l.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(ns,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start a conversation by sending a message"})]}):l.map(m=>{const P=v(m),B=$(m);return console.log(`Rendering message: "${m.content}" | Alignment: ${P} | IsMe: ${m.isMe}`),e.jsx("div",{className:`flex ${P==="right"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-md px-4 py-3 rounded-2xl shadow-sm relative ${B}`,children:[P==="left"&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Customer"})}),e.jsx("p",{className:"text-sm leading-relaxed",children:m.content}),e.jsxs("div",{className:`flex items-center justify-end mt-2 text-xs gap-1 ${P==="right"?"text-white/80":"text-gray-500"}`,children:[e.jsx("span",{children:Z(m.timestamp)}),q(m)]})]})},m._id)}),e.jsx("div",{ref:j})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-white/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"w-12 h-12 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-2xl flex items-center justify-center transition-all duration-200",children:e.jsx(yh,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",placeholder:"Type your message...",value:i,onChange:m=>d(m.target.value),onKeyPress:m=>m.key==="Enter"&&p(),className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-gray-50 transition-all duration-200",disabled:F})}),e.jsx("button",{onClick:p,disabled:!i.trim()||F,className:`w-12 h-12 rounded-2xl transition-all duration-200 flex items-center justify-center ${i.trim()&&!F?"bg-gradient-to-r from-green-600 to-green-600 text-white hover:scale-110":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:e.jsx(Na,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ns,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Select a Conversation"}),e.jsx("p",{className:"text-gray-600",children:"Choose a client to start messaging"})]})})})]})})})},kb="https://backendhomeheroes.onrender.com",Sb=()=>{const[t,s]=c.useState("month"),[r,n]=c.useState(""),[a,l]=c.useState(!0),[o,i]=c.useState(null),[d,h]=c.useState(null),[g,u]=c.useState({total:0,thisWeek:0,thisMonth:0,thisQuarter:0,thisYear:0,lastMonth:0,pending:0,growth:0,avgPerJob:0,currency:"NGN"}),[x,E]=c.useState([]),[k,F]=c.useState([]),[b,j]=c.useState(!1);c.useEffect(()=>{const w=localStorage.getItem("authToken")||localStorage.getItem("token");h(w)},[]);const y=async(w=t)=>{try{if(l(!0),i(null),!d)throw new Error("No authentication token found. Please log in again.");console.log(" Fetching real earnings data...");const A=await fetch(`${kb}/api/user/dashboard?refresh=${Date.now()}`,{method:"GET",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(console.log("Dashboard response status:",A.status),A.status===401||A.status===403)throw localStorage.removeItem("authToken"),localStorage.removeItem("token"),h(null),new Error("Your session has expired. Please log in again.");if(!A.ok){const ee=await A.json().catch(()=>({}));throw new Error(ee.message||`HTTP error! status: ${A.status}`)}const N=await A.json();if(console.log(" Real dashboard data received:",N),!N.stats)throw new Error("No stats data found in dashboard response");const m=N.stats,P=N.bookings||[],B=N.schedule||[];console.log(" Dashboard stats:",m),console.log(" Bookings data:",P),console.log(" Schedule data:",B);const U=m.totalEarnings||0,D=m.jobsCompleted||0,M=P.filter(ee=>ee.status==="completed"),z=P.filter(ee=>ee.status==="confirmed"||ee.status==="pending").reduce((ee,V)=>ee+f(V.budget),0),L=D>0?Math.round(U/D):0,W={total:U,thisWeek:T(P,B),thisMonth:S(P,B),thisQuarter:Math.round(U*.6),thisYear:U,lastMonth:Math.round(U*.25),pending:z,growth:m.growth||12.5,avgPerJob:L,currency:"NGN"};console.log(" Real earnings data calculated:",W);const se=P.map((ee,V)=>{var I;const O=f(ee.budget);return{id:ee._id||V+1,client:ee.customerName||"Unknown Client",service:ee.serviceType||"Service",amount:O,date:((I=ee.requestedAt)==null?void 0:I.split("T")[0])||new Date().toISOString().split("T")[0],status:ee.status==="completed"?"completed":(ee.status==="confirmed","pending"),method:p(ee),category:C(ee.serviceType)}});console.log(" Real transactions created:",se);const ne=R(U,P);u(W),E(se),F(ne),console.log(" Real earnings data loaded successfully")}catch(A){const N=A instanceof Error?A.message:"An unknown error occurred";i(N),console.error(" Earnings fetch error:",A),u({total:0,thisWeek:0,thisMonth:0,thisQuarter:0,thisYear:0,lastMonth:0,pending:0,growth:0,avgPerJob:0,currency:"NGN"}),E([]),F([])}finally{l(!1)}},f=w=>{if(!w)return 0;if(console.log(" Extracting amount from budget:",w),typeof w=="number")return w;const A=w.toString().replace(/[$,]/g,"").replace(/\s/g,"").replace(/[^\d.]/g,"");console.log(" Cleaned numeric string:",A);const N=parseFloat(A);return console.log(" Parsed amount:",N),isNaN(N)?0:Math.round(N)},T=(w,A)=>{const N=new Date;return N.setDate(N.getDate()-7),w.filter(P=>new Date(P.requestedAt||P.date)>=N).reduce((P,B)=>P+f(B.budget),0)},S=(w,A)=>{const N=new Date;return N.setDate(1),w.filter(P=>new Date(P.requestedAt||P.date)>=N).reduce((P,B)=>P+f(B.budget),0)},p=w=>w.paymentMethod||"Bank Transfer",C=w=>{if(!w)return"other";const A=w.toLowerCase();return A.includes("clean")?"cleaning":A.includes("plumb")||A.includes("repair")||A.includes("handyman")?"handyman":A.includes("garden")||A.includes("lawn")?"gardening":A.includes("pet")?"petcare":A.includes("child")||A.includes("baby")?"childcare":"other"},R=(w,A)=>{const N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=new Date().getMonth();return N.slice(Math.max(0,m-5),m+1).map((P,B)=>{const D=A.filter(M=>new Date(M.requestedAt||M.date).getMonth()===m-(5-B)).reduce((M,J)=>M+f(J.budget),0);return{month:P,amount:D,growth:B>0?8.5+B*2:0}})};c.useEffect(()=>{d?y():l(!1)},[d]);const G=async w=>{s(w),await y(w)},K=()=>{d&&y()};x.filter(w=>w.client.toLowerCase().includes(r.toLowerCase())||w.service.toLowerCase().includes(r.toLowerCase()));const X=async()=>{try{if(j(!0),!d)throw new Error("No authentication token found.");const w=_();Z(w,`earnings-${t}-${new Date().toISOString().split("T")[0]}.csv`)}catch(w){const A=w instanceof Error?w.message:"Failed to export data";i(A),console.error("Export error:",w)}finally{j(!1)}},_=()=>{const w=["Date","Client","Service","Amount ()","Status","Payment Method","Category"],A=x.map(N=>[N.date,`"${N.client}"`,`"${N.service}"`,N.amount.toString(),N.status,N.method,N.category]);return[w,...A].map(N=>N.join(",")).join(`
`)},Z=(w,A)=>{const N=new Blob([w],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(N),P=document.createElement("a");P.setAttribute("href",m),P.setAttribute("download",A),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)},q=()=>{window.location.href="/login"},v=()=>{switch(t){case"week":return g.thisWeek;case"month":return g.thisMonth;case"quarter":return g.thisQuarter;case"year":return g.thisYear;default:return g.thisMonth}},$=()=>{switch(t){case"week":return"This Week";case"month":return"This Month";case"quarter":return"This Quarter";case"year":return"This Year";default:return"This Month"}};return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading earnings data..."})]})}):d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl sm:rounded-3xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg sm:text-2xl",children:""})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Earnings Overview"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"Track your income and financial performance"}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white/80 rounded-lg border",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"NGN"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["week","month","quarter","year"].map(w=>e.jsxs("button",{onClick:()=>G(w),className:`flex-1 sm:flex-none px-4 sm:px-6 py-3 rounded-xl sm:rounded-2xl font-medium transition-all duration-200 whitespace-nowrap ${t===w?"bg-green-600 text-white shadow-lg shadow-green-200":"bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-700 hover:bg-white hover:shadow-md"}`,children:[w==="week"&&"This Week",w==="month"&&"This Month",w==="quarter"&&"This Quarter",w==="year"&&"This Year"]},w))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:K,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Refresh"]}),e.jsxs("button",{onClick:X,disabled:b||x.length===0,className:"bg-gradient-to-r from-green-600 to-green-600 text-white px-6 sm:px-8 py-3 rounded-xl sm:rounded-2xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-green-200 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?e.jsx(Mt,{className:"w-5 h-5 animate-spin"}):e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Hi,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("span",{children:b?"Exporting...":"Export Data"})]})]})]})]})}),o&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"text-red-700",children:o})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:K,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Retry"}),e.jsx("button",{onClick:()=>i(null),className:"text-red-600 hover:text-red-800",children:e.jsx(Ae,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-emerald-400 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:""})}),e.jsx("div",{className:"text-emerald-600",children:e.jsx(ff,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",g.total.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsxs("span",{className:"text-emerald-600 font-semibold",children:["+",g.growth,"%"]}),e.jsx("span",{className:"text-gray-500",children:"from last period"})]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-green-400 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Me,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),e.jsx("div",{className:"text-green-600",children:e.jsx(Ar,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:$()}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",v().toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsxs("span",{className:"text-green-600 font-semibold",children:["+",g.growth,"%"]}),e.jsx("span",{className:"text-gray-500",children:"growth"})]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-amber-400 to-yellow-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Ie,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),e.jsx("div",{className:"text-amber-600",children:e.jsx(Ct,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",g.pending.toLocaleString()]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[x.filter(w=>w.status==="pending").length," payments processing"]})]})]}),e.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-green-400 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(ka,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),e.jsx("div",{className:"text-green-600",children:e.jsx(Ct,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Avg per Job"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["",g.avgPerJob.toLocaleString()]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["Based on ",x.filter(w=>w.status==="completed").length," completed jobs"]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md p-6 bg-white rounded-xl shadow-lg",children:[e.jsx(Pe,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view your earnings."}),e.jsx("button",{onClick:q,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Log In"})]})})},Rt="https://backendhomeheroes.onrender.com",Cb=()=>{var ee;const[t,s]=c.useState(!1),[r,n]=c.useState("overview"),[a,l]=c.useState(null),[o,i]=c.useState(!1),[d,h]=c.useState("all"),[g,u]=c.useState(!0),[x,E]=c.useState(null),[k,F]=c.useState(!1),[b,j]=c.useState(!1),y=c.useRef(null),[f,T]=c.useState({name:"",title:"",email:"",phoneNumber:"",address:"",location:"",city:"",state:"",country:"",coordinates:[0,0],rating:0,totalReviews:0,joinedDate:"",completedJobs:0,responseTime:"",verified:!1,successRate:0,repeatCustomers:0,services:[],Rate:0,experience:"",profileImage:""}),[S,p]=c.useState({name:"",phoneNumber:"",address:"",city:"",state:"",country:"",services:[],Rate:0,experience:""}),[C,R]=c.useState([]),[G,K]=c.useState([]);c.useState(null);const[X,_]=c.useState(!1),[Z,q]=c.useState(!1),v=async()=>{var V;try{u(!0),E(null);const O=localStorage.getItem("authToken")||localStorage.getItem("token");if(!O)throw new Error("No authentication token found. Please log in again.");const I=await fetch(`${Rt}/api/auth/profile`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(I.status===401||I.status===403)throw localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userData"),new Error("Your session has expired. Please log in again.");if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const Q=await I.json();if(Q.success===!1&&((V=Q.message)!=null&&V.includes("token")))throw localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userData"),new Error("Authentication failed. Please log in again.");if(Q.success&&Q.data.user){const ie=Q.data.user,pe=ie.profileImage||ie.profilePicture||"";T({name:ie.name||"",title:ie.services&&ie.services.length>0?`Professional ${ie.services[0]}`:"Service Provider",email:ie.email||"",phoneNumber:ie.phoneNumber||"",address:ie.address||"",location:ie.city||ie.country||"",city:ie.city||"",state:ie.state||"",country:ie.country||"",coordinates:[ie.longitude||0,ie.latitude||0],rating:ie.rating||0,totalReviews:ie.totalReviews||0,joinedDate:new Date(ie.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"})||"2024",completedJobs:ie.completedJobs||0,responseTime:ie.responseTime||"N/A",verified:ie.isEmailVerified||!1,successRate:ie.successRate||0,repeatCustomers:ie.repeatCustomers||0,services:ie.services||[],Rate:ie.hourlyRate||0,experience:ie.experience||"",profileImage:pe}),p({name:ie.name||"",phoneNumber:ie.phoneNumber||"",address:ie.address||"",city:ie.city||"",state:ie.state||"",country:ie.country||"",services:ie.services||[],Rate:ie.hourlyRate||0,experience:ie.experience||""})}}catch(O){const I=O instanceof Error?O.message:"An unknown error occurred";E(I),console.error("Profile fetch error:",O),(I.includes("session")||I.includes("Authentication")||I.includes("token"))&&setTimeout(()=>{window.location.href="/login"},2e3)}finally{u(!1)}},$=async()=>{try{_(!0);const V=localStorage.getItem("authToken")||localStorage.getItem("token");if(!V){console.log("No token found for ratings");return}const O=await fetch(`${Rt}/api/ratings/provider`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(O.ok){const I=await O.json();if(console.log("Ratings API response:",I),I.success&&I.data){let Q=[];if(Array.isArray(I.data)?Q=I.data:I.data.docs?Q=I.data.docs:I.data.ratings?Q=I.data.ratings:I.data.data&&(Q=I.data.data),console.log("Transformed ratings data:",Q),K(Q),Q.length>0){const ie=Q.reduce((pe,le)=>pe+le.rating,0)/Q.length;T(pe=>({...pe,rating:parseFloat(ie.toFixed(1)),totalReviews:Q.length}))}}}else console.log("Ratings API not available, status:",O.status),await w()}catch(V){console.error("Ratings fetch error:",V),await w()}finally{_(!1)}},w=async()=>{try{const V=localStorage.getItem("authToken")||localStorage.getItem("token");if(!V){console.log("No token found for dashboard");return}const O=await fetch(`${Rt}/api/user/dashboard?refresh=${Date.now()}`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(O.ok){const I=await O.json();console.log("Dashboard API response for ratings:",I),I.stats&&T(Q=>({...Q,rating:I.stats.averageRating||0,totalReviews:I.stats.totalRatings||0,completedJobs:I.stats.jobsCompleted||0})),K([])}}catch(V){console.error("Failed to fetch dashboard data for ratings:",V),K([])}},A=async()=>{try{q(!0);const V=localStorage.getItem("authToken")||localStorage.getItem("token");if(!V){console.log("No token found for gallery");return}const O=await fetch(`${Rt}/api/gallery`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(O.ok){const I=await O.json();if(console.log("Gallery API response:",I),I.success&&I.data){let Q=[];Array.isArray(I.data)?Q=I.data:I.data.docs?Q=I.data.docs:I.data.images?Q=I.data.images:I.data.data&&(Q=I.data.data);const ie=Q.map(pe=>{let le=pe.fullImageUrl||pe.imageUrl;return le&&le.startsWith("/")&&(le=`${Rt}${le}`),le&&le.startsWith("http://")&&window.location.protocol==="https:"&&(le=le.replace("http://","https://")),{...pe,fullImageUrl:le}});R(ie)}else console.log("No gallery images found in response"),R([])}else console.error("Failed to fetch gallery images:",O.status),R([])}catch(V){console.error("Gallery fetch error:",V),R([])}finally{q(!1)}},N=async()=>{try{F(!0);const V=localStorage.getItem("authToken")||localStorage.getItem("token");if(!V)throw new Error("No authentication token found. Please log in again.");const O=await fetch(`${Rt}/api/auth/profile`,{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify({...S,city:S.city,state:S.state,country:S.country})});if(!O.ok)throw new Error("Failed to update profile");(await O.json()).success&&(T(Q=>({...Q,name:S.name,phoneNumber:S.phoneNumber,address:S.address,city:S.city,state:S.state,country:S.country,location:`${S.city}, ${S.state}, ${S.country}`,services:S.services,Rate:S.Rate,experience:S.experience})),s(!1))}catch(V){const O=V instanceof Error?V.message:"Failed to update profile";E(O)}finally{F(!1)}},m=async V=>{try{j(!0),E(null);const O=localStorage.getItem("authToken")||localStorage.getItem("token");if(!O)throw new Error("No authentication token found. Please log in again.");const I=new FormData;I.append("profileImage",V);const Q=await fetch(`${Rt}/api/auth/profile/image`,{method:"POST",headers:{Authorization:`Bearer ${O}`},body:I});if(!Q.ok){const pe=await Q.json().catch(()=>({}));throw new Error(pe.message||`HTTP error! status: ${Q.status}`)}const ie=await Q.json();if(ie.success&&ie.data.imageUrl)return T(pe=>({...pe,profileImage:ie.data.imageUrl})),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:{profileImage:ie.data.imageUrl,name:f.name}})),ie.data.imageUrl;throw new Error("Image upload succeeded but no image URL returned")}catch(O){const I=O instanceof Error?O.message:"Failed to upload image";throw console.error("Profile image upload error:",O),E(I),O}finally{j(!1)}},P=()=>{y.current&&y.current.click()},B=async V=>{var I;const O=(I=V.target.files)==null?void 0:I[0];if(O){if(!O.type.startsWith("image/")){E("Please select an image file (JPG, PNG, GIF, etc.)");return}if(O.size>5*1024*1024){E("Image size should be less than 5MB");return}try{await m(O)}catch(Q){console.error("File upload error:",Q)}y.current&&(y.current.value="")}};c.useEffect(()=>{v()},[]),c.useEffect(()=>{r==="reviews"?$():r==="gallery"&&A()},[r]);const U=[{name:"Top Rated",icon:Te,color:"from-yellow-400 to-orange-500",bgColor:"from-yellow-50 to-orange-50"},{name:"Verified Pro",icon:fm,color:"from-green-400 to-blue-600",bgColor:"from-green-50 to-green-50"},{name:"Quick Response",icon:dt,color:"from-emerald-400 to-green-600",bgColor:"from-emerald-50 to-green-50"},{name:"Quality Expert",icon:If,color:"from-purple-400 to-purple-600",bgColor:"from-purple-50 to-violet-50"}];f.completedJobs,`${f.successRate}`,f.responseTime,`${f.repeatCustomers}`;const D=["House Cleaning","Plumbing Repair","Barber","Hair Stylist","Cook/Chef","CCTV Installer","Solar Panel Technician","Generator Repairer","Carpenter","TV Repairer","Vulcanizer","Car Wash","AC/Fridge Technician","Welder","Pest Control","Inverter Technician","Auto Mechanic","Spa/Massage Therapist","Tailor","Nanny/Babysitter","Garden Maintenance","Electrical Work","Painting","General Maintenance","Other"],M=V=>[...Array(5)].map((O,I)=>e.jsx(Te,{className:`w-4 h-4 sm:w-5 sm:h-5 ${I<V?"text-yellow-500 fill-current":"text-gray-300"}`},I)),J=d==="all"?C:C.filter(V=>V.category===d),z=[{id:"overview",name:"Overview",icon:st},{id:"services",name:"Services",icon:bt},{id:"gallery",name:"Gallery",icon:Yr},{id:"reviews",name:"Reviews",icon:Te}],L=V=>{const O=V.target;if(console.error("Profile image failed to load:",O.src),!O.src.includes("via.placeholder.com"))if(O.src.includes(Rt)){const I=O.src.split(Rt)[1];O.src=I}else O.src.startsWith("/")?O.src=`${Rt}${O.src}`:O.src.includes("http://")&&window.location.protocol==="https:"?O.src=O.src.replace("http://","https://"):O.src="https://via.placeholder.com/400x400/e2e8f0/64748b?text=Profile+Image"},W=V=>{p(O=>{const I=O.services.includes(V)?O.services.filter(Q=>Q!==V):[...O.services,V];return{...O,services:I}})},se=V=>new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ne=V=>V.split(" ").map(O=>O[0]).join("").toUpperCase();return g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mt,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):x&&!f.name?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x}),e.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100",children:[e.jsx("input",{type:"file",ref:y,onChange:B,accept:"image/*",style:{display:"none"}}),e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 py-4 sm:py-8",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl sm:rounded-2xl lg:rounded-3xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(st,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-lg sm:text-xl lg:text-3xl xl:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Professional Profile"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm lg:text-base xl:text-lg mt-1",children:"Manage your profile and showcase your expertise"})]})]}),e.jsx("button",{onClick:()=>t?N():s(!t),disabled:k,className:"w-full sm:w-auto bg-gradient-to-r from-green-600 to-green-600 text-white px-4 sm:px-6 lg:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-blue-200 flex items-center justify-center gap-2 sm:gap-3 text-sm sm:text-base disabled:opacity-70",children:k?e.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-md sm:rounded-lg flex items-center justify-center",children:t?e.jsx(no,{className:"w-3 h-3 sm:w-4 sm:h-4"}):e.jsx(ja,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("span",{children:t?"Save Changes":"Edit Profile"})]})})]})}),x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 mr-2"}),x]})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100 overflow-hidden mb-6 sm:mb-8",children:[e.jsxs("div",{className:"h-24 sm:h-32 lg:h-40 bg-gradient-to-r from-green-500 via-green-500 to-green-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-3 sm:top-4 lg:top-6 right-3 sm:right-4 lg:right-6",children:f.verified&&e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-2 sm:px-3 lg:px-4 py-1 sm:py-2 rounded-lg sm:rounded-xl lg:rounded-2xl flex items-center gap-1 sm:gap-2",children:[e.jsx(fm,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-white"}),e.jsx("span",{className:"text-white font-medium text-xs sm:text-sm",children:"Verified Pro"})]})})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 -mt-12 sm:-mt-16 lg:-mt-20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-end gap-4 sm:gap-6",children:[e.jsxs("div",{className:"relative mx-auto sm:mx-0",children:[e.jsxs("div",{className:"w-20 h-20 sm:w-24 sm:h-24 lg:w-32 lg:h-32 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl sm:rounded-3xl flex items-center justify-center border-2 sm:border-4 border-white shadow-xl overflow-hidden",children:[f.profileImage?e.jsx("img",{src:(ee=f.profileImage)!=null&&ee.startsWith("/")?`${Rt}${f.profileImage}`:f.profileImage||"https://via.placeholder.com/400x400/e2e8f0/64748b?text=Profile+Image",alt:"Profile",className:"w-full h-full object-cover",onError:L,loading:"lazy"}):null,e.jsx("span",{className:`text-white font-bold text-lg sm:text-xl lg:text-4xl ${f.profileImage?"hidden":""}`,children:f.name.split(" ").map(V=>V[0]).join("")||"U"})]}),t&&e.jsx("button",{onClick:P,disabled:b,className:"absolute -bottom-1 sm:-bottom-2 -right-1 sm:-right-2 w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 bg-white rounded-xl sm:rounded-2xl border-2 border-gray-200 flex items-center justify-center hover:bg-gray-50 transition-colors shadow-lg disabled:opacity-50",children:b?e.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-gray-600 animate-spin"}):e.jsx(Kc,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 text-gray-600"})})]}),e.jsx("div",{className:"flex-1 w-full",children:e.jsxs("div",{className:"space-y-2 sm:space-y-3 text-center sm:text-left",children:[t?e.jsxs("div",{className:"space-y-4 mt-12",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:S.name,onChange:V=>p({...S,name:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:S.address,onChange:V=>p({...S,address:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Street address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:S.city,onChange:V=>p({...S,city:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",value:S.state,onChange:V=>p({...S,state:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"State"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsx("input",{type:"text",value:S.country,onChange:V=>p({...S,country:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Country"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:f.name}),e.jsx("p",{className:"text-sm sm:text-lg lg:text-xl text-gray-600 font-medium",children:f.title}),e.jsxs("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:["Located in ",f.city,", ",f.state,", ",f.country]}),e.jsx("p",{className:"text-sm text-gray-600",children:f.address})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-2 sm:gap-6 text-xs sm:text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-bold text-sm sm:text-lg text-gray-900",children:f.rating}),e.jsxs("span",{className:"text-xs sm:text-sm",children:["(",f.totalReviews," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(Me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),e.jsxs("span",{className:"text-xs sm:text-sm",children:["Member since ",f.joinedDate]})]})]})]})})]}),e.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 mt-4",children:U.map(V=>e.jsxs("div",{className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 lg:px-4 py-1 sm:py-2 rounded-lg sm:rounded-xl lg:rounded-2xl bg-gradient-to-r ${V.bgColor} border border-white/50 shadow-sm`,children:[e.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 bg-gradient-to-r ${V.color} rounded-lg sm:rounded-xl flex items-center justify-center`,children:e.jsx(V.icon,{className:"w-2 h-2 sm:w-3 sm:h-3 text-white"})}),e.jsx("span",{className:"font-medium text-gray-700 text-xs sm:text-sm",children:V.name})]},V.name))})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex px-3 sm:px-6 lg:px-8 overflow-x-auto",children:z.map(V=>e.jsxs("button",{onClick:()=>n(V.id),className:`flex items-center gap-2 sm:gap-3 py-3 sm:py-4 lg:py-6 px-3 sm:px-4 lg:px-6 border-b-2 sm:border-b-3 font-semibold text-xs sm:text-sm transition-all duration-200 whitespace-nowrap ${r===V.id?"border-green-500 text-green-600 bg-green-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50/50"} rounded-t-xl sm:rounded-t-2xl`,children:[e.jsx(V.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:V.name}),V.id==="reviews"&&e.jsx("span",{className:"bg-green-100 text-green-600 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-bold",children:f.totalReviews}),V.id==="gallery"&&e.jsx("span",{className:"bg-purple-100 text-purple-600 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-bold",children:C.length})]},V.id))})}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[r==="overview"&&e.jsx("div",{className:"space-y-6 sm:space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-50 p-4 sm:p-6 rounded-xl sm:rounded-2xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Contact Information"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-2 sm:p-3 bg-white/60 backdrop-blur-sm rounded-lg sm:rounded-xl",children:[e.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium text-sm sm:text-base break-all",children:f.email})]}),t?e.jsx("div",{className:"p-2 sm:p-3 bg-white/60 backdrop-blur-sm rounded-lg sm:rounded-xl",children:e.jsx("input",{type:"text",value:S.phoneNumber,onChange:V=>p({...S,phoneNumber:V.target.value}),className:"w-full bg-transparent text-gray-700 font-medium text-sm sm:text-base border border-green-300 rounded-lg px-3 py-2",placeholder:"Phone number"})}):e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-2 sm:p-3 bg-white/60 backdrop-blur-sm rounded-lg sm:rounded-xl",children:[e.jsx(ot,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:f.phoneNumber||"Not provided"})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-2 sm:p-3 bg-white/60 backdrop-blur-sm rounded-lg sm:rounded-xl",children:[e.jsx(We,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:f.address||"Not provided"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-4 sm:p-6 rounded-xl sm:rounded-2xl border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(st,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Professional Summary"})]}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm p-3 sm:p-4 rounded-lg sm:rounded-xl",children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate"}),e.jsx("input",{type:"number",value:S.Rate,onChange:V=>p({...S,Rate:Number(V.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Rate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),e.jsx("input",{type:"text",value:S.experience,onChange:V=>p({...S,experience:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Experience (e.g., 5 years)"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:["Professional service provider with ",f.experience||"several years"," of experience. Committed to delivering high-quality work and excellent customer service."]}),f.Rate>0&&e.jsxs("p",{className:"font-semibold text-green-600",children:["Rate: ",f.Rate]}),f.experience&&e.jsxs("p",{className:"font-semibold text-green-600",children:["Experience: ",f.experience]})]})})]})]})}),r==="services"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-green-500 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(bt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Services Offered"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Professional services with competitive pricing"})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 sm:p-6 rounded-xl sm:rounded-2xl border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Ct,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"My Services"})]}),t?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:D.map(V=>e.jsx("button",{onClick:()=>W(V),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S.services.includes(V)?"bg-green-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:border-green-300"}`,children:V},V))}):e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3",children:[f.services.map(V=>e.jsx("div",{className:"bg-white/70 backdrop-blur-sm px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-center",children:e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:V})},V)),f.services.length===0&&e.jsx("p",{className:"text-gray-500 col-span-full text-center py-4",children:"No services added yet"})]})]})]}),r==="gallery"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Yr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Work Gallery"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Showcase of completed projects"})]})]})}),Z?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Mt,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading gallery..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:J.map(V=>e.jsxs("div",{className:"group relative bg-white rounded-xl sm:rounded-2xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer",onClick:()=>{l(V),i(!0)},children:[e.jsx("div",{className:"aspect-square bg-gray-100",children:e.jsx("img",{src:V.fullImageUrl||`${Rt}${V.imageUrl}`,alt:V.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:O=>{const I=O.target;I.src="https://via.placeholder.com/400x300/e2e8f0/64748b?text=Image+Not+Found"}})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4",children:[e.jsx("h4",{className:"text-white font-semibold text-xs sm:text-sm mb-1 line-clamp-2",children:V.title}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-300 capitalize",children:V.category}),e.jsx(rt,{className:"w-4 h-4 text-white"})]})]})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium text-white shadow-lg ${V.category==="cleaning"?"bg-green-500":V.category==="handyman"?"bg-orange-500":"bg-green-500"}`,children:V.category})})]},V._id))}),J.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No images found for this category"})]})]})]}),r==="reviews"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl sm:rounded-2xl flex items-center justify-center",children:e.jsx(Te,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white fill-current"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Customer Reviews & Ratings"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"What clients say about my work"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-gradient-to-r from-yellow-50 to-orange-50 px-3 sm:px-6 py-2 sm:py-3 rounded-xl sm:rounded-2xl border border-yellow-200",children:[e.jsx(Te,{className:"w-4 h-4 sm:w-6 sm:h-6 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-bold text-lg sm:text-2xl text-gray-900",children:f.rating}),e.jsxs("span",{className:"text-gray-600 text-sm sm:text-base",children:["(",f.totalReviews," ratings)"]})]})]}),X?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Mt,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading ratings..."})]}):e.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[G.map(V=>e.jsx("div",{className:"group bg-gradient-to-br from-white to-yellow-50 p-4 sm:p-6 rounded-xl sm:rounded-2xl border border-gray-200 hover:shadow-lg hover:border-yellow-300 transition-all duration-300",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-purple-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:ne(V.customerId.name)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-2 sm:mb-3 gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1 text-sm sm:text-base",children:V.customerId.name}),e.jsx("p",{className:"text-xs sm:text-sm text-green-600 font-medium",children:V.serviceType})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1 justify-end sm:justify-start",children:[M(V.rating),e.jsxs("span",{className:"text-sm font-bold text-gray-900 ml-1",children:[V.rating,".0"]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:se(V.createdAt)})]})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm p-3 sm:p-4 rounded-lg sm:rounded-xl",children:e.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:V.comment})})]})]})},V._id)),G.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No ratings yet"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Customer ratings will appear here once they rate your completed services"})]})]})]})]})]}),o&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl max-w-6xl w-full max-h-[95vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(Yr,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Work Gallery"})]}),e.jsx("button",{onClick:()=>{i(!1),l(null)},className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 hover:bg-gray-200 rounded-xl flex items-center justify-center transition-colors",children:e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]}),e.jsx("div",{className:"p-4 sm:p-6 max-h-[calc(95vh-80px)] overflow-y-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl sm:rounded-2xl overflow-hidden",children:e.jsx("img",{src:a.fullImageUrl||`${Rt}${a.imageUrl}`,alt:a.title,className:"w-full h-full object-cover",onError:V=>{const O=V.target;O.src="https://via.placeholder.com/800x600/e2e8f0/64748b?text=Image+Not+Found"}})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:C.map(V=>e.jsx("button",{onClick:()=>l(V),className:`w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 border-2 transition-all ${a._id===V._id?"border-purple-500":"border-transparent hover:border-gray-300"}`,children:e.jsx("img",{src:V.fullImageUrl||`${Rt}${V.imageUrl}`,alt:V.title,className:"w-full h-full object-cover",onError:O=>{const I=O.target;I.src="https://via.placeholder.com/64x64/e2e8f0/64748b?text=Img"}})},V._id))})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium text-white ${a.category==="cleaning"?"bg-green-500":a.category==="handyman"?"bg-orange-500":"bg-green-500"}`,children:a.category}),e.jsx("span",{className:"text-sm text-gray-600",children:se(a.createdAt)})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(os,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"Project Highlights"})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),"Completed on time and within budget"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),"Used eco-friendly materials and methods"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),"Customer satisfaction: 100%"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:"Similar Service"}),e.jsx("button",{className:"px-6 py-3 border border-gray-300 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Share"})]})]})]})})]})})]})]})},kt="https://backendhomeheroes.onrender.com",Pb=()=>{var y,f,T;const[t,s]=c.useState({bankName:"",accountNumber:"",accountName:"",bankCode:""}),[r,n]=c.useState(null),[a,l]=c.useState(!1),[o,i]=c.useState(!1),[d,h]=c.useState([]),[g,u]=c.useState("");c.useEffect(()=>{x(),E();const S=localStorage.getItem("userData");if(S){const p=JSON.parse(S);u(p.userType)}},[]);const x=async()=>{try{const S=localStorage.getItem("authToken")||localStorage.getItem("token"),p=await fetch(`${kt}/api/providers/bank-account`,{headers:{Authorization:`Bearer ${S}`}});if(p.status===403){console.log("User is not a provider");return}const C=await p.json();C.success&&C.data&&n(C.data)}catch(S){console.error("Failed to fetch bank account:",S)}},E=async()=>{try{const S=localStorage.getItem("authToken")||localStorage.getItem("token"),C=await(await fetch(`${kt}/api/banks`,{headers:{Authorization:`Bearer ${S}`}})).json();C.success&&h(C.data)}catch(S){console.error("Failed to fetch banks:",S),alert("Failed to load bank list")}},k=async()=>{if(!t.accountNumber||!t.bankCode){alert("Please select a bank and enter account number");return}if(t.accountNumber.length<10){alert("Please enter a valid 10-digit account number");return}i(!0);try{const S=localStorage.getItem("authToken")||localStorage.getItem("token"),C=await(await fetch(`${kt}/api/verify-account`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({accountNumber:t.accountNumber,bankCode:t.bankCode})})).json();C.success?(s(R=>({...R,accountName:C.data.accountName})),alert(`Account verified: ${C.data.accountName}`)):alert("Account verification failed: "+C.message)}catch(S){console.error("Account verification error:",S),alert("Failed to verify account number")}finally{i(!1)}},F=S=>{const p=d.find(C=>C.code===S.target.value);s(C=>({...C,bankCode:S.target.value,bankName:p?p.name:""}))},b=S=>{const p=S.target.value.replace(/\D/g,"");s(C=>({...C,accountNumber:p})),p.length===10&&t.bankCode&&setTimeout(()=>{k()},500)},j=async S=>{if(S.preventDefault(),!g.includes("provider")){alert("Only providers can add bank accounts. Please switch to provider mode.");return}if(!t.bankName||!t.accountNumber||!t.accountName||!t.bankCode){alert("Please complete all bank account details");return}if(t.accountNumber.length!==10){alert("Please enter a valid 10-digit account number");return}l(!0);try{const p=localStorage.getItem("authToken")||localStorage.getItem("token"),R=await(await fetch(`${kt}/api/providers/bank-account`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(t)})).json();R.success?(alert("Bank account added successfully!"),n(R.data),s({bankName:"",accountNumber:"",accountName:"",bankCode:""})):alert("Failed to add bank account: "+R.message)}catch(p){console.error("Add bank account error:",p),alert("Failed to add bank account")}finally{l(!1)}};return g&&!g.includes("provider")?e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-indigo-50 rounded-xl lg:rounded-2xl border border-green-200",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Bank Account Settings"}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:"Only providers can add bank accounts. Please switch to provider mode in your account settings."})})]}):e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-indigo-50 rounded-xl lg:rounded-2xl border border-green-200",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Bank Account Settings"}),r?e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-800",children:"Bank Account Configured"}),e.jsxs("p",{className:"text-green-700",children:[(y=r.bankAccount)==null?void 0:y.bankName," - ****",(f=r.bankAccount)==null?void 0:f.accountNumber]}),e.jsxs("p",{className:"text-green-700",children:["Account Name: ",(T=r.bankAccount)==null?void 0:T.accountName]}),e.jsx("p",{className:"text-green-700 text-sm mt-2",children:" Verified and ready to receive payments"})]}):e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:e.jsx("p",{className:"text-yellow-800",children:"You need to add a bank account to receive payments. Payments will be automatically transferred to this account when jobs are completed."})}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Bank ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t.bankCode,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[e.jsx("option",{value:"",children:"Choose a bank"}),d.map(S=>e.jsx("option",{value:S.code,children:S.name},S.code))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:t.accountNumber,onChange:b,placeholder:"10-digit account number",className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-green-500 focus:border-green-500",maxLength:10,required:!0}),e.jsx("button",{type:"button",onClick:k,disabled:o||!t.accountNumber||!t.bankCode,className:"mt-1 px-4 py-2 bg-green-600 text-white rounded-md disabled:opacity-50 whitespace-nowrap",children:o?"Verifying...":"Verify"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your 10-digit account number. It will be automatically verified when complete."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),e.jsx("input",{type:"text",value:t.accountName,readOnly:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 bg-gray-50",placeholder:"Will be automatically filled after verification"}),t.accountName&&e.jsx("p",{className:"text-green-600 text-sm mt-1",children:" Account name verified"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("button",{type:"submit",disabled:a||!t.accountName,className:"w-full bg-green-600 text-white px-4 py-3 rounded-md disabled:opacity-50 font-medium hover:bg-green-700 transition-colors",children:a?"Adding Bank Account...":"Save Bank Account"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Your bank account will be securely verified with Paystack"})]})]})]})},Eb=()=>{var ne,ee,V,O;const[t,s]=c.useState("general"),[r,n]=c.useState(!1),[a,l]=c.useState(!1),[o,i]=c.useState(!1),[d,h]=c.useState("idle"),[g,u]=c.useState(""),[x,E]=c.useState({email:!0,push:!0,sms:!1,newJobs:!0,messages:!0,payments:!0,reminders:!0,marketing:!1}),[k,F]=c.useState({language:"en-US",timeZone:"America/New_York",currency:"USD",theme:"light"}),[b,j]=c.useState({name:"",email:"",phoneNumber:"",address:"",city:"",state:"",country:"",profileImage:"",experience:"",services:[],hourlyRate:0}),[y,f]=c.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:!1}),[T,S]=c.useState({payoutSchedule:"weekly",currency:"NGN",bankAccount:null}),[p,C]=c.useState({autoAcceptJobs:!1,maxJobsPerDay:5,serviceRadius:25,workingHours:{start:"09:00",end:"17:00"},vacationMode:!1}),[R,G]=c.useState({jobsCompleted:0,averageRating:0,totalEarnings:0,activeClients:0}),[K,X]=c.useState(""),[_,Z]=c.useState({accountNumber:"",routingNumber:"",accountType:"checking",bankName:"",accountHolderName:""}),q=[{id:"general",label:"General",icon:bt,color:"from-blue-500 to-green-600",bgColor:"from-green-50 to-green-50",description:"App preferences & display"},{id:"notifications",label:"Notifications",icon:Rs,color:"from-green-500 to-pink-600",bgColor:"from-green-50 to-green-50",description:"Alerts & communications"},{id:"security",label:"Security",icon:Le,color:"from-emerald-500 to-green-600",bgColor:"from-emerald-50 to-green-50",description:"Password & authentication"},{id:"payment",label:"Payment",icon:ks,color:"from-yellow-500 to-orange-600",bgColor:"from-yellow-50 to-orange-50",description:"Billing & payouts"},{id:"provider",label:"Provider",icon:st,color:"from-rose-500 to-pink-600",bgColor:"from-rose-50 to-pink-50",description:"Service preferences"},{id:"account",label:"Account",icon:st,color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-50",description:"Personal information"}];c.useEffect(()=>{v()},[]);const v=async()=>{var I,Q,ie,pe,le;try{i(!0);const ke=localStorage.getItem("authToken")||localStorage.getItem("token");if(!ke){console.error("No authentication token found"),u("Please log in to access settings");return}const qe=await fetch(`${kt}/api/settings`,{headers:{Authorization:`Bearer ${ke}`,"Content-Type":"application/json"}}),Ze=await fetch(`${kt}/api/auth/profile`,{headers:{Authorization:`Bearer ${ke}`,"Content-Type":"application/json"}}),ze=await fetch(`${kt}/api/user/dashboard`,{headers:{Authorization:`Bearer ${ke}`,"Content-Type":"application/json"}});if(qe.ok){const te=await qe.json();if(te.success){const ae=te.data;ae.notifications&&E(ge=>({...ge,...ae.notifications})),ae.general&&F(ge=>({...ge,...ae.general})),ae.security&&f(ge=>({...ge,twoFactorEnabled:ae.security.twoFactorEnabled||!1})),ae.payment&&S(ge=>({...ge,...ae.payment})),ae.provider&&C(ge=>({...ge,...ae.provider}))}}else console.error("Failed to fetch settings:",qe.status),qe.status===401&&u("Authentication failed. Please log in again.");if(Ze.ok){const te=await Ze.json();if(te.success&&te.data.user){const ae=te.data.user;j(ge=>({...ge,name:ae.name||"",email:ae.email||"",phoneNumber:ae.phoneNumber||"",address:ae.address||"",city:ae.city||"",state:ae.state||"",country:ae.country||"",profileImage:ae.profileImage||ae.profilePicture||"",experience:ae.experience||"",services:ae.services||[],hourlyRate:ae.hourlyRate||0}))}}else console.error("Failed to fetch profile:",Ze.status);if(ze.ok){const te=await ze.json();te.success&&G({jobsCompleted:((I=te.stats)==null?void 0:I.jobsCompleted)||((Q=te.stats)==null?void 0:Q.completedJobs)||0,averageRating:((ie=te.stats)==null?void 0:ie.averageRating)||0,totalEarnings:((pe=te.stats)==null?void 0:pe.totalEarnings)||0,activeClients:((le=te.stats)==null?void 0:le.activeClients)||0})}else console.error("Failed to fetch dashboard:",ze.status)}catch(ke){console.error("Failed to fetch settings:",ke),u("Failed to load settings. Please refresh the page.")}finally{i(!1)}},$=async I=>{const Q=!x[I],ie={...x,[I]:Q};E(ie);try{const pe=localStorage.getItem("authToken")||localStorage.getItem("token"),le=await fetch(`${kt}/api/settings/notifications`,{method:"PUT",headers:{Authorization:`Bearer ${pe}`,"Content-Type":"application/json"},body:JSON.stringify({[I]:Q})});if(!le.ok){const ke=await le.json();throw new Error(ke.message||"Failed to save notification setting")}}catch(pe){console.error("Error saving notification setting:",pe),E(x),u(`Failed to update notification: ${pe instanceof Error?pe.message:"Unknown error"}`)}},w=async()=>{try{h("saving"),u("");const I=localStorage.getItem("authToken")||localStorage.getItem("token"),Q=await fetch(`${kt}/api/settings/general`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(k)});if(Q.ok)h("success"),setTimeout(()=>h("idle"),2e3);else{const ie=await Q.json();throw new Error(ie.message||"Failed to save general settings")}}catch(I){console.error("Error saving general settings:",I),h("error"),u(`Failed to save general settings: ${I instanceof Error?I.message:"Unknown error"}`),setTimeout(()=>h("idle"),2e3)}},A=async()=>{try{if(h("saving"),u(""),y.newPassword&&y.newPassword!==y.confirmPassword){u("New passwords don't match"),h("error");return}const I=localStorage.getItem("authToken")||localStorage.getItem("token"),Q=await fetch(`${kt}/api/settings/security`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:y.currentPassword,newPassword:y.newPassword,enableTwoFactor:y.twoFactorEnabled})}),ie=await Q.json();if(Q.ok)h("success"),f(pe=>({...pe,currentPassword:"",newPassword:"",confirmPassword:""})),setTimeout(()=>h("idle"),2e3);else throw new Error(ie.message||"Failed to update security settings")}catch(I){console.error("Error saving security settings:",I),h("error"),u(`Failed to update security settings: ${I instanceof Error?I.message:"Unknown error"}`),setTimeout(()=>h("idle"),2e3)}},N=async()=>{try{h("saving"),u("");const I=localStorage.getItem("authToken")||localStorage.getItem("token"),Q=await fetch(`${kt}/api/auth/profile`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({name:b.name,phoneNumber:b.phoneNumber,address:b.address,city:b.city,state:b.state,country:b.country,experience:b.experience,services:b.services,hourlyRate:b.hourlyRate})});if(Q.ok)h("success"),setTimeout(()=>h("idle"),2e3);else{const ie=await Q.json();throw new Error(ie.message||"Failed to save account settings")}}catch(I){console.error("Error saving account settings:",I),h("error"),u(`Failed to save account settings: ${I instanceof Error?I.message:"Unknown error"}`),setTimeout(()=>h("idle"),2e3)}},m=async()=>{try{h("saving"),u("");const I=localStorage.getItem("authToken")||localStorage.getItem("token"),Q=await fetch(`${kt}/api/settings/payment`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(T)});if(Q.ok)h("success"),setTimeout(()=>h("idle"),2e3);else{const ie=await Q.json();throw new Error(ie.message||"Failed to save payment settings")}}catch(I){console.error("Error saving payment settings:",I),h("error"),u(`Failed to save payment settings: ${I instanceof Error?I.message:"Unknown error"}`),setTimeout(()=>h("idle"),2e3)}},P=async()=>{try{h("saving"),u("");const I=localStorage.getItem("authToken")||localStorage.getItem("token");console.log("Saving provider settings:",p),console.log("Using token:",I?"Token exists":"No token");const Q=await fetch(`${kt}/api/settings/provider`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(p)});if(console.log("Response status:",Q.status),Q.ok){const ie=await Q.json();console.log("Provider settings saved successfully:",ie),h("success"),setTimeout(()=>h("idle"),2e3)}else{let ie="Failed to save provider settings";try{const pe=await Q.json();ie=pe.message||ie,console.error("Server error response:",pe)}catch(pe){console.error("Failed to parse error response:",pe)}throw new Error(ie)}}catch(I){console.error("Error saving provider settings:",I),h("error");const Q=I instanceof Error?I.message:"Unknown error occurred";u(`Failed to save provider settings: ${Q}`),console.error("Debug info:",{API_BASE_URL:kt,providerSettings:p,hasToken:!!localStorage.getItem("authToken")||!!localStorage.getItem("token")}),setTimeout(()=>h("idle"),3e3)}},B=()=>{K.trim()&&!b.services.includes(K.trim())&&(j(I=>({...I,services:[...I.services,K.trim()]})),X(""))},U=I=>{j(Q=>({...Q,services:Q.services.filter(ie=>ie!==I)}))},D=()=>{if(_.accountNumber&&_.routingNumber&&_.accountHolderName){const I={..._,lastFour:_.accountNumber.slice(-4)};S(Q=>({...Q,bankAccount:I})),Z({accountNumber:"",routingNumber:"",accountType:"checking",bankName:"",accountHolderName:""})}},M=()=>{S(I=>({...I,bankAccount:null}))},J=async()=>{try{switch(h("saving"),u(""),t){case"general":await w();break;case"security":await A();break;case"account":await N();break;case"payment":await m();break;case"provider":await P();break;default:h("success"),setTimeout(()=>h("idle"),2e3)}}catch(I){console.error("Error saving settings:",I),h("error"),u(`Failed to save settings: ${I instanceof Error?I.message:"Unknown error"}`),setTimeout(()=>h("idle"),2e3)}},z=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone.")){const I=prompt('Please type "DELETE MY ACCOUNT" to confirm:');if(I==="DELETE MY ACCOUNT")try{const Q=localStorage.getItem("authToken")||localStorage.getItem("token");if((await fetch(`${kt}/api/settings/account`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({confirmation:I})})).ok)localStorage.removeItem("token"),localStorage.removeItem("authToken"),window.location.href="/";else throw new Error("Failed to delete account")}catch(Q){console.error("Error deleting account:",Q),alert("Failed to delete account. Please try again.")}}},L=()=>q.find(I=>I.id===t),W=I=>{s(I),l(!1),u("")},se=()=>{switch(d){case"saving":return"Saving...";case"success":return"Saved!";case"error":return"Error Saving";default:return"Save Changes"}};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8",children:[e.jsx("div",{className:"mb-6 lg:mb-8",children:e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-16 lg:h-16 bg-gradient-to-br from-indigo-500 to-green-600 rounded-xl sm:rounded-2xl lg:rounded-3xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(bt,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent leading-tight",children:"Settings"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg leading-tight",children:"Manage your provider account"})]})]}),e.jsx("button",{onClick:()=>l(!a),className:"lg:hidden p-2 rounded-xl bg-white/80 backdrop-blur-sm shadow-sm border border-gray-200",children:a?e.jsx(Ae,{className:"w-5 h-5 text-gray-600"}):e.jsx(ro,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("button",{onClick:J,disabled:d==="saving",className:`w-full lg:w-auto px-4 py-3 lg:px-8 lg:py-4 rounded-xl lg:rounded-2xl font-semibold transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg flex items-center justify-center gap-2 lg:gap-3 ${d==="saving"?"bg-gray-400 cursor-not-allowed":d==="success"?"bg-green-600 text-white":d==="error"?"bg-red-600 text-white":"bg-gradient-to-r from-emerald-600 to-green-600 text-white"}`,children:[e.jsx("div",{className:"w-4 h-4 lg:w-6 lg:h-6 rounded-lg flex items-center justify-center flex-shrink-0 bg-white/20",children:e.jsx(no,{className:`w-3 h-3 lg:w-4 lg:h-4 ${d==="saving"?"animate-spin":""}`})}),e.jsx("span",{className:"text-sm lg:text-base",children:se()})]})]})}),g&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-red-700 text-sm",children:g})]})}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 lg:gap-8",children:[e.jsx("div",{className:`
              fixed inset-y-0 left-0 z-50 w-80 max-w-[calc(100vw-2rem)] transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:w-auto lg:z-auto
              ${a?"translate-x-0":"-translate-x-full"}
              lg:col-span-1
            `,children:e.jsxs("div",{className:"h-full lg:h-auto bg-white/90 lg:bg-white/80 backdrop-blur-sm rounded-none lg:rounded-3xl shadow-xl lg:shadow-sm border-r border-gray-200 lg:border lg:border-gray-100 p-4 sm:p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-4 lg:mb-6",children:[e.jsx("h3",{className:"text-base lg:text-lg font-bold text-gray-900 mb-1 lg:mb-2",children:"Settings Menu"}),e.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Configure your provider account"})]}),e.jsx("nav",{className:"space-y-2 lg:space-y-3",children:q.map(I=>e.jsx("button",{onClick:()=>W(I.id),className:`group w-full p-3 lg:p-4 rounded-xl lg:rounded-2xl transition-all duration-200 text-left ${t===I.id?`bg-gradient-to-r ${I.bgColor} border border-white/50 shadow-sm scale-[1.02] lg:scale-105`:"bg-white/50 hover:bg-white/80 hover:scale-[1.01] lg:hover:scale-102 border border-transparent hover:shadow-sm"}`,children:e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br ${I.color} rounded-xl lg:rounded-2xl flex items-center justify-center shadow-lg ${t===I.id?"scale-105 lg:scale-110":"group-hover:scale-105"} transition-transform flex-shrink-0`,children:e.jsx(I.icon,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors text-sm lg:text-base leading-tight",children:I.label}),e.jsx("p",{className:"text-xs text-gray-500 group-hover:text-gray-700 transition-colors leading-tight",children:I.description})]}),e.jsx(Vi,{className:`w-4 h-4 lg:w-5 lg:h-5 text-gray-400 transition-all flex-shrink-0 ${t===I.id?"rotate-90 text-blue-600":"group-hover:text-gray-600"}`})]})},I.id))})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl lg:rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:`h-24 sm:h-28 lg:h-32 bg-gradient-to-r ${((ne=L())==null?void 0:ne.color)||"from-blue-500 to-indigo-600"} relative`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/10 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 sm:bottom-6 left-4 sm:left-6 lg:left-8 flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-white/20 backdrop-blur-sm rounded-xl lg:rounded-2xl flex items-center justify-center flex-shrink-0",children:Fe.createElement(((ee=L())==null?void 0:ee.icon)||bt,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white leading-tight",children:(V=L())==null?void 0:V.label}),e.jsx("p",{className:"text-white/80 text-sm sm:text-base leading-tight",children:(O=L())==null?void 0:O.description})]})]})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[t==="general"&&e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Qc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 leading-tight",children:"Language"})]}),e.jsxs("select",{value:k.language,onChange:I=>F(Q=>({...Q,language:I.target.value})),className:"w-full p-3 sm:p-3 bg-white/80 backdrop-blur-sm border border-emerald-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 font-medium text-sm sm:text-base",children:[e.jsx("option",{value:"en-US",children:" English (US)"}),e.jsx("option",{value:"es-ES",children:" Spanish"}),e.jsx("option",{value:"fr-FR",children:" French"}),e.jsx("option",{value:"de-DE",children:" German"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-pink-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-pink-600 rounded-lg sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Ie,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 leading-tight",children:"Time Zone"})]}),e.jsxs("select",{value:k.timeZone,onChange:I=>F(Q=>({...Q,timeZone:I.target.value})),className:"w-full p-3 sm:p-3 bg-white/80 backdrop-blur-sm border border-green-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm sm:text-base",children:[e.jsx("option",{value:"America/New_York",children:" Eastern Time (ET)"}),e.jsx("option",{value:"America/Chicago",children:" Central Time (CT)"}),e.jsx("option",{value:"America/Denver",children:" Mountain Time (MT)"}),e.jsx("option",{value:"America/Los_Angeles",children:" Pacific Time (PT)"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(wt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 leading-tight",children:"Currency"})]}),e.jsx("select",{value:k.currency,onChange:I=>F(Q=>({...Q,currency:I.target.value})),className:"w-full p-3 sm:p-3 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",children:e.jsx("option",{value:"NGN",children:" Nigerian Naira (NGN)"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:w,disabled:d==="saving",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 font-semibold disabled:opacity-50",children:d==="saving"?"Saving...":"Save General Settings"})})]}),t==="notifications"&&e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-pink-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-green-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-pink-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(dt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Delivery Methods"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"How you want to receive notifications"})]})]}),e.jsx("div",{className:"grid gap-3 sm:gap-4",children:[{key:"email",label:"Email Notifications",description:"Receive updates via email",icon:ut,color:"from-blue-500 to-indigo-600"},{key:"push",label:"Push Notifications",description:"Receive push notifications in app",icon:Rs,color:"from-emerald-500 to-green-600"},{key:"sms",label:"SMS Notifications",description:"Receive updates via SMS",icon:Ji,color:"from-orange-500 to-red-600"}].map(I=>e.jsx("div",{className:"group bg-white/80 backdrop-blur-sm p-3 sm:p-4 rounded-lg sm:rounded-xl border border-white/50 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ${I.color} rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform flex-shrink-0`,children:e.jsx(I.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base leading-tight",children:I.label}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 leading-tight",children:I.description})]})]}),e.jsx("button",{onClick:()=>$(I.key),className:`relative w-12 h-6 sm:w-14 sm:h-7 rounded-full transition-all duration-300 shadow-lg flex-shrink-0 ${x[I.key]?`bg-gradient-to-r ${I.color}`:"bg-gradient-to-r from-gray-300 to-gray-400"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 sm:top-1 sm:left-1 w-5 h-5 sm:w-5 sm:h-5 bg-white rounded-full shadow-lg transition-transform duration-300 flex items-center justify-center ${x[I.key]?"transform translate-x-6 sm:translate-x-7":""}`,children:x[I.key]&&e.jsx(Gr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-green-600"})})})]})},I.key))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Rs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Notification Types"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"What you want to be notified about"})]})]}),e.jsx("div",{className:"grid gap-3 sm:gap-4",children:[{key:"newJobs",label:"New Job Opportunities",description:"Get notified when new jobs match your skills",icon:Te,color:"from-yellow-500 to-orange-600"},{key:"messages",label:"New Messages",description:"Receive alerts for new client messages",icon:ut,color:"from-green-500 to-emerald-600"},{key:"payments",label:"Payment Updates",description:"Get notified about payment confirmations and issues",icon:ks,color:"from-green-500 to-pink-600"},{key:"reminders",label:"Booking Reminders",description:"Get reminders for upcoming appointments",icon:Me,color:"from-blue-500 to-cyan-600"}].map(I=>e.jsx("div",{className:"group bg-white/80 backdrop-blur-sm p-3 sm:p-4 rounded-lg sm:rounded-xl border border-white/50 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ${I.color} rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform flex-shrink-0`,children:e.jsx(I.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base leading-tight",children:I.label}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 leading-tight",children:I.description})]})]}),e.jsx("button",{onClick:()=>$(I.key),className:`relative w-12 h-6 sm:w-14 sm:h-7 rounded-full transition-all duration-300 shadow-lg flex-shrink-0 ${x[I.key]?`bg-gradient-to-r ${I.color}`:"bg-gradient-to-r from-gray-300 to-gray-400"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 sm:top-1 sm:left-1 w-5 h-5 sm:w-5 sm:h-5 bg-white rounded-full shadow-lg transition-transform duration-300 flex items-center justify-center ${x[I.key]?"transform translate-x-6 sm:translate-x-7":""}`,children:x[I.key]&&e.jsx(Gr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-green-600"})})})]})},I.key))})]})]}),t==="security"&&e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-emerald-200",children:e.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(Le,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 leading-tight",children:["Account Security",e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center flex-shrink-0 ${y.twoFactorEnabled?"bg-green-500":"bg-yellow-500"}`,children:e.jsx(Gr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]}),e.jsx("p",{className:"text-sm sm:text-base text-emerald-700 leading-tight",children:y.twoFactorEnabled?"Your account is secured with two-factor authentication":"Enable two-factor authentication for extra security"})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Et,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Change Password"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Update your account password"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:r?"text":"password",value:y.currentPassword,onChange:I=>f(Q=>({...Q,currentPassword:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium pr-12 text-sm sm:text-base",placeholder:"Enter current password"}),e.jsx("button",{onClick:()=>n(!r),className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600 transition-colors",children:r?e.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(rt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:y.newPassword,onChange:I=>f(Q=>({...Q,newPassword:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:y.confirmPassword,onChange:I=>f(Q=>({...Q,confirmPassword:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Confirm new password"})]})]}),e.jsxs("button",{onClick:A,disabled:d==="saving",className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 sm:px-6 py-3 rounded-lg sm:rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 flex items-center justify-center gap-2 font-semibold text-sm sm:text-base disabled:opacity-50",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsx("span",{children:d==="saving"?"Updating...":"Update Password"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-pink-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-green-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-pink-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(kf,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Add an extra layer of security"})]})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-3 sm:p-4 rounded-lg sm:rounded-xl border border-white/50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(Ji,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h4",{className:"font-bold text-gray-900 flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm sm:text-base leading-tight",children:["SMS Authentication",e.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center flex-shrink-0 ${y.twoFactorEnabled?"bg-green-500":"bg-gray-400"}`,children:e.jsx(Gr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-white"})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-tight",children:y.twoFactorEnabled?"Enabled for your phone number":"Enable two-factor authentication via SMS"})]})]}),e.jsx("button",{onClick:()=>f(I=>({...I,twoFactorEnabled:!I.twoFactorEnabled})),className:`w-full sm:w-auto px-3 sm:px-4 py-2 rounded-lg sm:rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 font-medium text-sm ${y.twoFactorEnabled?"bg-gray-600 text-white":"bg-gradient-to-r from-green-600 to-pink-600 text-white"}`,children:y.twoFactorEnabled?"Disable":"Enable"})]})})]})]}),t==="payment"&&e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(ks,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Payout Settings"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Configure how you receive payments"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Payout Schedule"}),e.jsxs("select",{value:T.payoutSchedule,onChange:I=>S(Q=>({...Q,payoutSchedule:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",children:[e.jsx("option",{value:"daily",children:" Daily"}),e.jsx("option",{value:"weekly",children:" Weekly (Fridays)"}),e.jsx("option",{value:"bi-weekly",children:" Bi-weekly"}),e.jsx("option",{value:"monthly",children:" Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:T.currency,onChange:I=>S(Q=>({...Q,currency:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",children:[e.jsx("option",{value:"USD",children:" USD - US Dollar"}),e.jsx("option",{value:"EUR",children:" EUR - Euro"}),e.jsx("option",{value:"GBP",children:" GBP - British Pound"}),e.jsx("option",{value:"NGN",children:" NGN - Nigerian Naira"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-emerald-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(ks,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Bank Account"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Manage your payout method"})]})]}),!T.bankAccount&&e.jsxs("button",{onClick:()=>{var I;return(I=document.getElementById("bank-account-form"))==null?void 0:I.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto bg-gradient-to-r from-green-600 to-emerald-600 text-white px-3 sm:px-4 py-2 rounded-lg sm:rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 flex items-center justify-center gap-2 font-medium text-sm",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Bank Account"})]})]}),T.bankAccount?e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-3 sm:p-4 rounded-lg sm:rounded-xl border border-white/50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[e.jsx("div",{className:"w-12 h-8 sm:w-16 sm:h-10 bg-gradient-to-r from-blue-600 to-green-600 rounded-lg flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"BANK"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base leading-tight",children:T.bankAccount.bankName||"Bank Account"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 leading-tight",children:["****",T.bankAccount.lastFour," - ",T.bankAccount.accountHolderName]}),e.jsx("p",{className:"text-xs text-gray-500",children:T.bankAccount.accountType==="checking"?"Checking Account":"Savings Account"})]})]}),e.jsxs("div",{className:"flex gap-2 self-end sm:self-center",children:[e.jsx("button",{className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:e.jsx(ja,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:M,className:"p-2 bg-red-100 rounded-lg hover:bg-red-200 transition-colors",children:e.jsx(vh,{className:"w-4 h-4 text-red-600"})})]})]})}):e.jsxs("div",{id:"bank-account-form",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Bank Name"}),e.jsx("input",{type:"text",value:_.bankName,onChange:I=>Z(Q=>({...Q,bankName:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-emerald-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-medium text-sm",placeholder:"Enter bank name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Account Holder Name"}),e.jsx("input",{type:"text",value:_.accountHolderName,onChange:I=>Z(Q=>({...Q,accountHolderName:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-emerald-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-medium text-sm",placeholder:"Full name as on account"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Account Number"}),e.jsx("input",{type:"text",value:_.accountNumber,onChange:I=>Z(Q=>({...Q,accountNumber:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-emerald-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-medium text-sm",placeholder:"Enter account number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Routing Number"}),e.jsx("input",{type:"text",value:_.routingNumber,onChange:I=>Z(Q=>({...Q,routingNumber:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-emerald-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-medium text-sm",placeholder:"Enter routing number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Account Type"}),e.jsxs("select",{value:_.accountType,onChange:I=>Z(Q=>({...Q,accountType:I.target.value})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-emerald-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-medium text-sm",children:[e.jsx("option",{value:"checking",children:"Checking"}),e.jsx("option",{value:"savings",children:"Savings"})]})]})]}),e.jsx("button",{onClick:D,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-3 rounded-lg hover:shadow-lg transition-all duration-200 hover:scale-105 font-semibold text-sm",children:"Add Bank Account"})]})]}),e.jsx(Pb,{}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:m,disabled:d==="saving",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 font-semibold disabled:opacity-50",children:d==="saving"?"Saving...":"Save Payment Settings"})})]}),t==="provider"&&e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(bt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Service Preferences"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Configure your service settings"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:"Auto-accept Jobs"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically accept new job requests"})]}),e.jsx("button",{onClick:()=>C(I=>({...I,autoAcceptJobs:!I.autoAcceptJobs})),className:`relative w-12 h-6 rounded-full transition-all duration-300 shadow-lg ${p.autoAcceptJobs?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-gray-300 to-gray-400"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-lg transition-transform duration-300 ${p.autoAcceptJobs?"transform translate-x-6":""}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Maximum Jobs Per Day"}),e.jsx("input",{type:"number",value:p.maxJobsPerDay,onChange:I=>C(Q=>({...Q,maxJobsPerDay:parseInt(I.target.value)||1})),min:"1",max:"20",className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Service Radius (miles)"}),e.jsx("input",{type:"number",value:p.serviceRadius,onChange:I=>C(Q=>({...Q,serviceRadius:parseInt(I.target.value)||1})),min:"1",max:"100",className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-pink-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-green-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-green-500 to-pink-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Ie,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Working Hours"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Set your availability for appointments"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Start Time"}),e.jsx("input",{type:"time",value:p.workingHours.start,onChange:I=>C(Q=>({...Q,workingHours:{...Q.workingHours,start:I.target.value}})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"End Time"}),e.jsx("input",{type:"time",value:p.workingHours.end,onChange:I=>C(Q=>({...Q,workingHours:{...Q.workingHours,end:I.target.value}})),className:"w-full p-3 bg-white/80 backdrop-blur-sm border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm"})]})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Me,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Vacation Mode"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Temporarily pause receiving new job requests"})]})]}),e.jsx("button",{onClick:()=>C(I=>({...I,vacationMode:!I.vacationMode})),className:`relative w-12 h-6 rounded-full transition-all duration-300 shadow-lg ${p.vacationMode?"bg-gradient-to-r from-red-500 to-pink-600":"bg-gradient-to-r from-gray-300 to-gray-400"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-lg transition-transform duration-300 ${p.vacationMode?"transform translate-x-6":""}`})})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:P,disabled:d==="saving",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 font-semibold disabled:opacity-50",children:d==="saving"?"Saving...":"Save Provider Settings"})})]}),t==="account"&&e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(st,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 leading-tight",children:"Profile Information"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-tight",children:"Update your personal and professional details"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:b.name,onChange:I=>j(Q=>({...Q,name:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:b.email,onChange:I=>j(Q=>({...Q,email:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:b.phoneNumber,onChange:I=>j(Q=>({...Q,phoneNumber:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Hourly Rate ($)"}),e.jsx("input",{type:"number",value:b.hourlyRate,onChange:I=>j(Q=>({...Q,hourlyRate:parseFloat(I.target.value)||0})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your hourly rate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Experience"}),e.jsx("input",{type:"text",value:b.experience,onChange:I=>j(Q=>({...Q,experience:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"e.g., 5 years in plumbing"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:b.address,onChange:I=>j(Q=>({...Q,address:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:b.city,onChange:I=>j(Q=>({...Q,city:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your city"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",value:b.state,onChange:I=>j(Q=>({...Q,state:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",placeholder:"Enter your state"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Country"}),e.jsxs("select",{value:b.country,onChange:I=>j(Q=>({...Q,country:I.target.value})),className:"w-full p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"Select Country"}),e.jsx("option",{value:"USA",children:"United States"}),e.jsx("option",{value:"UK",children:"United Kingdom"}),e.jsx("option",{value:"CANADA",children:"Canada"}),e.jsx("option",{value:"NIGERIA",children:"Nigeria"}),e.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Services Offered"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:K,onChange:I=>X(I.target.value),className:"flex-1 p-3 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-sm",placeholder:"Add a service you offer",onKeyPress:I=>I.key==="Enter"&&B()}),e.jsx("button",{onClick:B,className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-3 rounded-lg hover:shadow-lg transition-all duration-200 hover:scale-105 font-semibold text-sm",children:e.jsx(dr,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.services.map((I,Q)=>e.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[I,e.jsx("button",{onClick:()=>U(I),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ae,{className:"w-3 h-3"})})]},Q))})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:N,disabled:d==="saving",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 font-semibold disabled:opacity-50",children:d==="saving"?"Saving...":"Save Account Settings"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-emerald-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-3 sm:mb-4",children:e.jsx(Te,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:R.jobsCompleted}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium leading-tight",children:"Jobs Completed"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-pink-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-green-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-pink-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-3 sm:mb-4",children:e.jsx(qn,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:R.averageRating.toFixed(1)}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium leading-tight",children:"Average Rating"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-yellow-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-3 sm:mb-4",children:e.jsx(wt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:["$",R.totalEarnings]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium leading-tight",children:"Total Earnings"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-cyan-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-blue-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-cyan-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg mx-auto mb-3 sm:mb-4",children:e.jsx(st,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:R.activeClients}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium leading-tight",children:"Active Clients"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 p-4 sm:p-6 rounded-xl lg:rounded-2xl border border-red-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-red-500 to-pink-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-red-700 leading-tight",children:"Danger Zone"}),e.jsx("p",{className:"text-sm sm:text-base text-red-600 leading-tight",children:"Irreversible account actions"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx("button",{className:"p-3 sm:p-4 bg-white/80 backdrop-blur-sm border border-red-200 text-red-600 rounded-lg sm:rounded-xl hover:bg-red-50 hover:shadow-lg transition-all font-bold text-sm sm:text-base",children:"Deactivate Account"}),e.jsx("button",{onClick:z,className:"p-3 sm:p-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg sm:rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105 font-bold text-sm sm:text-base",children:"Delete Account"})]})]})]})]})]})})]})]})]})})},Um=[{id:"cleaning",name:"Cleaning"},{id:"plumbing",name:"Plumbing"},{id:"electrical",name:"Electrical"},{id:"gardenCare",name:"Garden Care"},{id:"handyman",name:"Handyman"},{id:"painting",name:"Painting"},{id:"acRepair",name:"AC Repair"},{id:"generatorRepair",name:"Generator Repair"},{id:"carpentry",name:"Carpentry"},{id:"tiling",name:"Tiling"},{id:"masonry",name:"Masonry"},{id:"welding",name:"Welding"},{id:"pestControl",name:"Pest Control"},{id:"autoMechanic",name:"Auto Mechanic"},{id:"panelBeater",name:"Panel Beater"},{id:"autoElectrician",name:"Auto Electrician"},{id:"vulcanizer",name:"Vulcanizer"},{id:"carWash",name:"Car Wash"},{id:"hairStylist",name:"Hair Stylist"},{id:"makeupArtist",name:"Makeup Artist"},{id:"nailTechnician",name:"Nail Technician"},{id:"massageTherapist",name:"Massage Therapist"},{id:"tailor",name:"Tailor"},{id:"nanny",name:"Nanny"},{id:"cook",name:"Cook"},{id:"laundry",name:"Laundry"},{id:"gardener",name:"Gardener"},{id:"securityGuard",name:"Security Guard"},{id:"cctvInstaller",name:"CCTV Installer"},{id:"solarTechnician",name:"Solar Technician"},{id:"inverterTechnician",name:"Inverter Technician"},{id:"itSupport",name:"IT Support"},{id:"interiorDesigner",name:"Interior Designer"},{id:"tvRepair",name:"TV Repair"},{id:"other",name:"Other"}],Tb=()=>{const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"?"http://localhost:3001":"https://backendhomeheroes.onrender.com"},Ws=Tb(),Ab=()=>{const[t,s]=c.useState(null),[r,n]=c.useState("all"),[a,l]=c.useState(""),[o,i]=c.useState([]),[d,h]=c.useState(!0),[g,u]=c.useState(null),[x,E]=c.useState(!1),[k,F]=c.useState(!1),[b,j]=c.useState({title:"",description:"",category:"cleaning",featured:!1}),[y,f]=c.useState(null),[T,S]=c.useState(null);c.useEffect(()=>{p()},[r,a]);const p=async()=>{try{h(!0),u(null);const v=localStorage.getItem("authToken")||localStorage.getItem("token"),$=new URLSearchParams({page:"1",limit:"50"});r!=="all"&&$.append("category",r),a&&$.append("search",a);const A=await(await fetch(`${Ws}/api/gallery?${$}`,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}})).json();if(console.log(" API Response:",A),A.success){const N=A.data.docs||[];console.log(" Total images fetched:",N.length),N.length>0&&(console.log(" First image structure:",N[0]),console.log(" Image fields:",Object.keys(N[0]))),i(N)}else u("Failed to fetch gallery images")}catch(v){console.error("Error fetching gallery:",v),u("Cannot connect to server at "+Ws)}finally{h(!1)}},C=v=>{if(!v)return null;console.log(" Getting URL for image:",{id:v._id,fields:Object.keys(v)});const $=[v.fullImageUrl,v.imageUrl,v.url,v.gcsUrl,v.publicUrl,v.filePath];for(const w of $)if(w)return console.log(" Found URL:",w),w.startsWith("http")?w:`${Ws}${w}`;return console.warn(" No image URL found in image object:",v),null},R=v=>{const $=`
      <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#e2e8f0"/>
        <text x="50%" y="50%" font-family="Arial" font-size="16" fill="#64748b" text-anchor="middle" dy=".3em">${v}</text>
      </svg>
    `;return"data:image/svg+xml;base64,"+btoa($)},G=(v,$)=>{const w=v.currentTarget;if(console.error(" Image failed to load:",{src:w.src,imageId:$._id,title:$.title,fullImageUrl:$.fullImageUrl,imageUrl:$.imageUrl}),!w.src.includes("data:image/svg")){if($.fullImageUrl&&w.src!==$.fullImageUrl){console.log(" Trying fullImageUrl:",$.fullImageUrl),w.src=$.fullImageUrl;return}if($.imageUrl&&!$.imageUrl.startsWith("http")){const A=`${Ws}${$.imageUrl}`;if(w.src!==A){console.log(" Trying imageUrl with API base:",A),w.src=A;return}}console.log(" All attempts failed, showing placeholder"),w.src=R($.title||"Image Not Found")}},K=v=>{var A;const $=(A=v.target.files)==null?void 0:A[0];if(!$)return;if(!$.type.startsWith("image/")){u("Please select an image file");return}if($.size>5*1024*1024){u("File size must be less than 5MB");return}f($),u(null);const w=new FileReader;w.onloadend=()=>{S(w.result)},w.readAsDataURL($)},X=async v=>{if(v.preventDefault(),!y){u("Please select an image file");return}if(!b.title.trim()){u("Please enter a title");return}try{F(!0),u(null);const $=localStorage.getItem("authToken")||localStorage.getItem("token"),w=new FormData;w.append("image",y),w.append("title",b.title.trim()),w.append("description",b.description.trim()),w.append("category",b.category),w.append("featured",b.featured.toString());const N=await(await fetch(`${Ws}/api/gallery/upload`,{method:"POST",headers:{Authorization:`Bearer ${$}`},body:w})).json();N.success?(E(!1),j({title:"",description:"",category:"cleaning",featured:!1}),f(null),S(null),p()):u(N.message||"Upload failed")}catch($){console.error("Upload error:",$),u("Upload failed: "+($ instanceof Error?$.message:"Unknown error"))}finally{F(!1)}},_=async(v,$)=>{$.stopPropagation();try{const w=localStorage.getItem("authToken")||localStorage.getItem("token");await fetch(`${Ws}/api/gallery/${v._id}/like`,{method:"POST",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}}),p()}catch(w){console.error("Like error:",w)}},Z=async(v,$)=>{if($.stopPropagation(),!!confirm("Are you sure you want to delete this image?"))try{const w=localStorage.getItem("authToken")||localStorage.getItem("token");await fetch(`${Ws}/api/gallery/${v._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${w}`}}),p()}catch(w){console.error("Delete error:",w),u("Failed to delete image")}};[o.length,...Um.map(v=>({id:v.id,name:v.name,count:o.filter($=>$.category===v.id).length}))];const q=o.filter(v=>{const $=r==="all"||v.category===r,w=!a||v.title.toLowerCase().includes(a.toLowerCase())||v.description&&v.description.toLowerCase().includes(a.toLowerCase());return $&&w});return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xt,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading gallery..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:Ws})]})}):g&&g.includes("Cannot connect")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-4",children:[e.jsx(Pe,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-gray-600 mb-6",children:g}),e.jsx("button",{onClick:p,className:"bg-green-600 text-white px-6 py-3 rounded-lg",children:"Try Again"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center",children:e.jsx(Yr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Project Gallery"}),e.jsx("p",{className:"text-gray-600",children:"Professional work showcase"})]})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Dt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:v=>l(v.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("button",{onClick:()=>E(!0),className:"bg-green-600 text-white px-6 py-4 rounded-2xl hover:bg-green-700 flex items-center gap-2",children:[e.jsx(dr,{className:"w-5 h-5"}),"Add Image"]})]})}),e.jsx("div",{className:"bg-white rounded-3xl shadow-sm p-6",children:q.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No images found"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(v=>e.jsxs("div",{className:"group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer",onClick:()=>s(v),children:[e.jsxs("div",{className:"aspect-[4/3] overflow-hidden relative bg-gray-100",children:[e.jsx("img",{src:C(v)||"",alt:v.title,onError:$=>G($,v),className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300",loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%"}}),v.featured&&e.jsxs("div",{className:"absolute top-3 right-3 bg-yellow-400 text-white px-2 py-1 rounded-lg text-xs flex items-center gap-1",children:[e.jsx(Te,{className:"w-3 h-3 fill-current"}),"Featured"]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",onClick:$=>{$.stopPropagation(),s(v)},children:e.jsx(rt,{className:"w-5 h-5 text-white"})}),e.jsx("button",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",onClick:$=>_(v,$),children:e.jsx($s,{className:"w-5 h-5 text-white"})}),e.jsx("button",{className:"w-10 h-10 bg-red-500/80 rounded-full flex items-center justify-center",onClick:$=>Z(v,$),children:e.jsx(vh,{className:"w-4 h-4 text-white"})})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold line-clamp-1",children:v.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:v.description}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),new Date(v.createdAt).toLocaleDateString()]})})]})]},v._id))})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Upload Image"}),e.jsx("button",{onClick:()=>E(!1),children:e.jsx(Ae,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Image File *"}),e.jsx("input",{type:"file",accept:"image/*",onChange:K,className:"w-full p-3 border rounded-lg"}),T&&e.jsx("img",{src:T,alt:"Preview",className:"mt-2 w-full h-48 object-contain rounded-lg bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:b.title,onChange:v=>j({...b,title:v.target.value}),className:"w-full p-3 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Description"}),e.jsx("textarea",{value:b.description,onChange:v=>j({...b,description:v.target.value}),className:"w-full p-3 border rounded-lg",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Category *"}),e.jsx("select",{value:b.category,onChange:v=>j({...b,category:v.target.value}),className:"w-full p-3 border rounded-lg",children:Um.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))})]}),g&&e.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg",children:g}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>E(!1),className:"flex-1 bg-gray-200 px-6 py-3 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:X,disabled:k,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg disabled:opacity-50",children:k?"Uploading...":"Upload"})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-6xl w-full flex flex-col lg:flex-row",children:[e.jsxs("div",{className:"flex-1 relative min-h-[400px] bg-gray-900",children:[e.jsx("button",{onClick:()=>s(null),className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/40 rounded-full flex items-center justify-center text-white",children:e.jsx(Ae,{className:"w-5 h-5"})}),e.jsx("img",{src:C(t)||"",alt:t.title,onError:v=>G(v,t),className:"w-full h-full object-contain rounded-t-3xl lg:rounded-l-3xl lg:rounded-tr-none",style:{maxWidth:"100%",maxHeight:"100%"}})]}),e.jsxs("div",{className:"flex-1 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:t.title}),e.jsx("p",{className:"text-gray-700 mb-6",children:t.description})]})]})})]})})},Ib=()=>{const[t,s]=c.useState([]),[r,n]=c.useState(!0),[a,l]=c.useState(null),[o,i]=c.useState("pending"),[d,h]=c.useState(""),[g,u]=c.useState(null),[x,E]=c.useState(!1),[k,F]=c.useState({}),[b,j]=c.useState(null),y="https://backendhomeheroes.onrender.com";c.useEffect(()=>{f()},[o]);const f=async()=>{try{n(!0),l(null);const X=localStorage.getItem("authToken")||localStorage.getItem("token");if(!X){l("Authentication required. Please log in.");return}const _=await fetch(`${y}/api/admin/verification-requests?status=${o}`,{headers:{Authorization:`Bearer ${X}`}});if(!_.ok)throw _.status===403?new Error("Admin access required"):_.status===404?new Error("Verification endpoint not found"):new Error(`Server error: ${_.status}`);const Z=await _.json();if(Z.success)console.log(" Verification requests:",Z.data),s(Z.data||[]);else throw new Error(Z.message||"Failed to fetch verification requests")}catch(X){console.error("Error fetching verification requests:",X),l(X instanceof Error?X.message:"Failed to load verification requests"),s([])}finally{n(!1)}},T=async(X,_,Z)=>{try{j(_);const q=localStorage.getItem("authToken")||localStorage.getItem("token");console.log(" Sending verification action:",{userId:X,action:_,notes:Z});const v=await fetch(`${y}/api/admin/verify-provider`,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({userId:X,action:_,notes:Z||`${_==="approve"?"Approved":"Rejected"} by admin`})}),$=await v.json();if(!v.ok)throw console.error(" Server response error:",$),new Error($.message||`HTTP error! status: ${v.status}`);if($.success)console.log(" Verification action successful:",$),await f(),E(!1),u(null),alert(`Provider verification ${_==="approve"?"approved":"rejected"} successfully!`);else throw new Error($.message||"Failed to update verification status")}catch(q){console.error(" Error updating verification:",q),alert(q instanceof Error?q.message:"Error updating verification status")}finally{j(null)}},S=X=>X?X.startsWith("http")?X:`${y}${X.startsWith("/")?"":"/"}${X}`:"",p=X=>{F(_=>({..._,[X]:!1}))},C=(X,_)=>{console.error(`Failed to load image: ${X}`),F(Z=>({...Z,[X]:!1})),_.currentTarget.src="https://via.placeholder.com/300x200?text=Image+Not+Found",_.currentTarget.alt="Failed to load image"},R=t.filter(X=>X.user.name.toLowerCase().includes(d.toLowerCase())||X.user.email.toLowerCase().includes(d.toLowerCase())||X.verificationData.nin.includes(d)),G=X=>{switch(X){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},K=X=>{switch(X){case"pending":return e.jsx(Pe,{className:"w-4 h-4"});case"approved":return e.jsx(Ne,{className:"w-4 h-4"});case"rejected":return e.jsx(us,{className:"w-4 h-4"});default:return e.jsx(Le,{className:"w-4 h-4"})}};return r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(Pe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Verification Requests"}),e.jsx("p",{className:"text-red-700 mb-4",children:a}),e.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Provider Verification"}),e.jsx("p",{className:"text-gray-600",children:"Review and verify provider identity documents"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or NIN...",value:d,onChange:X=>h(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:o,onChange:X=>i(X.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Requests"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Xt,{className:`w-4 h-4 ${r?"animate-spin":"hidden"}`}),"Refresh"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx(Le,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.filter(X=>X.verificationData.verificationStatus==="pending").length})]}),e.jsx(Pe,{className:"w-8 h-8 text-yellow-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(X=>X.verificationData.verificationStatus==="approved").length})]}),e.jsx(Ne,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.filter(X=>X.verificationData.verificationStatus==="rejected").length})]}),e.jsx(us,{className:"w-8 h-8 text-red-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NIN"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:X.user.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.user.name}),e.jsx("div",{className:"text-sm text-gray-500",children:X.user.email}),X.user.phoneNumber&&e.jsx("div",{className:"text-sm text-gray-500",children:X.user.phoneNumber})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-mono",children:X.verificationData.nin}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:"Selfie"}),X.verificationData.nepaBillUrl&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Utility Bill"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:"NIN"})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(X.verificationData.verificationSubmittedAt).toLocaleDateString(),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(X.verificationData.verificationSubmittedAt).toLocaleTimeString()})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${G(X.verificationData.verificationStatus)}`,children:[K(X.verificationData.verificationStatus),e.jsx("span",{className:"ml-1 capitalize",children:X.verificationData.verificationStatus})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{u(X),E(!0)},className:"text-blue-600 hover:text-blue-900 flex items-center px-3 py-1 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),"Review"]}),X.verificationData.verificationStatus==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>T(X.userId,"approve"),disabled:b==="approve",className:"text-green-600 hover:text-green-900 flex items-center px-3 py-1 border border-green-600 rounded-lg hover:bg-green-50 transition-colors disabled:opacity-50",children:[b==="approve"?e.jsx(Xt,{className:"w-4 h-4 mr-1 animate-spin"}):e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs("button",{onClick:()=>T(X.userId,"reject"),disabled:b==="reject",className:"text-red-600 hover:text-red-900 flex items-center px-3 py-1 border border-red-600 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50",children:[b==="reject"?e.jsx(Xt,{className:"w-4 h-4 mr-1 animate-spin"}):e.jsx(us,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})]},X._id))})]})}),R.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No verification requests found"}),e.jsx("p",{className:"text-gray-400 mt-2",children:o==="pending"?"No pending verification requests at the moment.":"No verification requests match your criteria."})]})]}),x&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Review Verification - ",g.user.name]}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(us,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Provider Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsx("p",{className:"font-medium",children:g.user.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),e.jsx("p",{className:"font-medium",children:g.user.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),e.jsx("p",{className:"font-medium",children:g.user.phoneNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"User Type"}),e.jsx("p",{className:"font-medium capitalize",children:g.user.userType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"NIN Number"}),e.jsx("p",{className:"font-medium font-mono",children:g.verificationData.nin})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Account Created"}),e.jsx("p",{className:"font-medium",children:new Date(g.user.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Verification Timeline"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("span",{className:"ml-2",children:["Submitted: ",new Date(g.verificationData.verificationSubmittedAt).toLocaleString()]})]}),g.verificationData.verificationReviewedAt&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"ml-2",children:["Reviewed: ",new Date(g.verificationData.verificationReviewedAt).toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Verification Documents"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selfie Photo"}),e.jsxs("div",{className:"border rounded-lg p-4",children:[g.verificationData.selfieUrl?e.jsxs("div",{className:"relative",children:[k[`selfie-${g._id}`]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded",children:e.jsx(Xt,{className:"w-8 h-8 text-blue-600 animate-spin"})}),e.jsx("img",{src:S(g.verificationData.selfieUrl),alt:"Selfie verification",className:`w-full h-64 object-contain rounded ${k[`selfie-${g._id}`]?"opacity-0":"opacity-100"}`,onLoad:()=>p(`selfie-${g._id}`),onError:X=>C(`selfie-${g._id}`,X)})]}):e.jsxs("div",{className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:[e.jsx(Pe,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No selfie image available"})]}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Identity Confirmation"}),g.verificationData.selfieUrl&&e.jsxs("a",{href:S(g.verificationData.selfieUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center text-sm",children:[e.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Utility Bill ",!g.verificationData.nepaBillUrl&&"(Not Provided)"]}),g.verificationData.nepaBillUrl?e.jsxs("div",{className:"border rounded-lg p-4",children:[g.verificationData.nepaBillUrl.endsWith(".pdf")?e.jsx("div",{className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(wa,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PDF Document"}),e.jsx("a",{href:S(g.verificationData.nepaBillUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View PDF"})]})}):e.jsxs("div",{className:"relative",children:[k[`nepa-${g._id}`]&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded",children:e.jsx(Xt,{className:"w-8 h-8 text-blue-600 animate-spin"})}),e.jsx("img",{src:S(g.verificationData.nepaBillUrl),alt:"Utility bill",className:`w-full h-64 object-contain rounded ${k[`nepa-${g._id}`]?"opacity-0":"opacity-100"}`,onLoad:()=>p(`nepa-${g._id}`),onError:X=>C(`nepa-${g._id}`,X)})]}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Address Verification"}),e.jsxs("a",{href:S(g.verificationData.nepaBillUrl),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center text-sm",children:[e.jsx(Hi,{className:"w-4 h-4 mr-1"}),g.verificationData.nepaBillUrl.endsWith(".pdf")?"View PDF":"Open Full Size"]})]})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx(Pe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No utility bill provided"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Utility bill is optional for verification"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Verification Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${g.verificationData.isNinVerified?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:[e.jsx("p",{className:"font-medium",children:"NIN Verification"}),e.jsx("p",{className:`text-sm ${g.verificationData.isNinVerified?"text-green-700":"text-yellow-700"}`,children:g.verificationData.isNinVerified?"Verified":"Pending"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${g.verificationData.isSelfieVerified?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:[e.jsx("p",{className:"font-medium",children:"Selfie Verification"}),e.jsx("p",{className:`text-sm ${g.verificationData.isSelfieVerified?"text-green-700":"text-yellow-700"}`,children:g.verificationData.isSelfieVerified?"Verified":"Pending"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${g.verificationData.isNepaVerified?"bg-green-50 border border-green-200":g.verificationData.nepaBillUrl?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[e.jsx("p",{className:"font-medium",children:"Utility Bill Verification"}),e.jsx("p",{className:`text-sm ${g.verificationData.isNepaVerified?"text-green-700":g.verificationData.nepaBillUrl?"text-yellow-700":"text-gray-700"}`,children:g.verificationData.isNepaVerified?"Verified":g.verificationData.nepaBillUrl?"Pending":"Not Provided"})]})]})]}),g.verificationData.verificationStatus==="pending"&&e.jsxs("div",{className:"flex space-x-4 pt-6 border-t",children:[e.jsxs("button",{onClick:()=>T(g.userId,"reject","Documents do not meet verification requirements"),disabled:b==="reject",className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[b==="reject"?e.jsx(Xt,{className:"w-5 h-5 text-white mr-2 animate-spin"}):e.jsx(us,{className:"w-5 h-5 mr-2"}),"Reject Verification"]}),e.jsxs("button",{onClick:()=>T(g.userId,"approve"),disabled:b==="approve",className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[b==="approve"?e.jsx(Xt,{className:"w-5 h-5 text-white mr-2 animate-spin"}):e.jsx(Ne,{className:"w-5 h-5 mr-2"}),"Approve Verification"]})]})]})]})})]})},Om=()=>{try{const t=localStorage.getItem("userData");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}},Rb=()=>{const[t,s]=c.useState(3),[r,n]=c.useState(!1),a=zt();c.useEffect(()=>{Om(),n(!1)},[a.pathname]);const l=Om();return l&&l.userType&&l.userType!=="provider"&&l.userType!=="both"?e.jsx(gs,{to:"/customer",replace:!0}):e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(gb,{sidebarOpen:r,setSidebarOpen:n}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(pb,{notifications:t,setSidebarOpen:n}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs(Gc,{children:[e.jsx(Be,{path:"/",element:e.jsx(gs,{to:"/provider/dashboard",replace:!0})}),e.jsx(Be,{path:"/dashboard",element:e.jsx(yb,{})}),e.jsx(Be,{path:"/jobs",element:e.jsx(wb,{})}),e.jsx(Be,{path:"/schedule",element:e.jsx(jb,{})}),e.jsx(Be,{path:"/messages",element:e.jsx(Nb,{})}),e.jsx(Be,{path:"/earnings",element:e.jsx(Sb,{})}),e.jsx(Be,{path:"/gallery",element:e.jsx(Ab,{})}),e.jsx(Be,{path:"/profile",element:e.jsx(Cb,{})}),e.jsx(Be,{path:"/settings",element:e.jsx(Eb,{})}),e.jsx(Be,{path:"/verification",element:e.jsx(Ib,{})}),e.jsx(Be,{path:"*",element:e.jsx(gs,{to:"/provider/dashboard",replace:!0})})]})})]})]})},$b=()=>{var Z,q;const t=Ut(),[s]=Yc(),[r,n]=c.useState(!0),[a,l]=c.useState(!1),[o,i]=c.useState(""),[d,h]=c.useState(!1),[g,u]=c.useState(""),[x,E]=c.useState("signup"),[k,F]=c.useState(!1),[b,j]=c.useState({name:"",email:"",password:"",confirmPassword:"",userType:"customer",country:"NIGERIA",phoneNumber:""});c.useState({token:"",phoneNumber:"",country:""});const y="https://backendhomeheroes.onrender.com";c.useEffect(()=>{const v=s.get("verified"),$=s.get("email"),w=s.get("message"),A=s.get("error");if(v==="true"&&$){F(!0),j(m=>({...m,email:decodeURIComponent($)})),n(!0),w&&u(decodeURIComponent(w));const N=window.location.pathname;window.history.replaceState({},"",N)}w&&!v&&u(decodeURIComponent(w)),A&&i(decodeURIComponent(A))},[s]);const f={NIGERIA:{code:"+234",length:10,pattern:/^[0-9]{10}$/},UK:{code:"+44",length:10,pattern:/^[0-9]{10}$/},USA:{code:"+1",length:10,pattern:/^[0-9]{10}$/},CANADA:{code:"+1",length:10,pattern:/^[0-9]{10}$/}},T=v=>{const{name:$,value:w}=v.target;if($==="phoneNumber"){const A=w.replace(/\D/g,"");j({...b,[$]:A})}else j({...b,[$]:w});o&&i(""),g&&u("")},S=(v,$)=>{const w=f[$];return w?v.length!==w.length?`Phone number must be ${w.length} digits for ${$}`:w.pattern.test(v)?null:`Invalid phone number format for ${$}`:"Invalid country selected"},p=async(v,$)=>{console.log(` Making API call to: ${y}/api/auth/${v}`);try{const w=await fetch(`${y}/api/auth/${v}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),A=await w.json();if(!w.ok){if(console.error(" API Error Response:",A),A.errors&&Array.isArray(A.errors)){const m=A.errors.map(P=>typeof P=="string"?P:`${P.field||""}: ${P.message||JSON.stringify(P)}`).join(", ");throw new Error(`Validation failed: ${m}`)}const N=A.message||A.error||`HTTP ${w.status}: ${w.statusText}`;throw new Error(N)}return A}catch(w){throw console.error(" API Call Error:",w),w.name==="TypeError"&&w.message.includes("fetch")?new Error(`Cannot connect to server at ${y}. Please check if the backend is running.`):w}},C=async v=>{v.preventDefault(),i(""),u(""),h(!0);try{if(!b.name.trim()||!b.email.trim()||!b.password.trim()||!b.phoneNumber.trim()){i("Please fill in all required fields."),h(!1);return}if(b.password!==b.confirmPassword){i("Passwords do not match."),h(!1);return}if(b.password.length<6){i("Password must be at least 6 characters long."),h(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)){i("Please enter a valid email address."),h(!1);return}const w=S(b.phoneNumber,b.country);if(w){i(w),h(!1);return}console.log(" Starting signup process for:",b.email);const A={name:b.name.trim(),email:b.email.toLowerCase().trim(),password:b.password,confirmPassword:b.confirmPassword,userType:b.userType||"customer",country:b.country||"NIGERIA",phoneNumber:b.phoneNumber};console.log(" Sending signup data:",A),(await p("signup",A)).success&&(u("Account created successfully! Please check your email for the verification link. You'll be redirected to login after verification."),E("complete"),console.log(" Signup successful, waiting for email verification"))}catch($){console.error(" Signup error:",$),i($.message||"Failed to create account. Please try again.")}finally{h(!1)}},R=async()=>{try{if(h(!0),i(""),!b.email.trim()){i("Email address is required"),h(!1);return}(await p("resend-verification",{email:b.email.toLowerCase().trim()})).success&&u("Verification email sent successfully! Please check your email.")}catch(v){console.error(" Resend verification error:",v),i(v.message||"Failed to resend verification email. Please try again.")}finally{h(!1)}},G=async()=>{try{if(!b.email.trim())return;const $=await(await fetch(`${y}/api/auth/verification-status/${b.email.toLowerCase()}`)).json();$.success&&$.data.isEmailVerified&&(u("Email verified successfully! You can now login."),E("complete"))}catch(v){console.error("Error checking verification status:",v)}},K=async v=>{v.preventDefault(),i(""),u(""),h(!0);try{if(!b.email.trim()||!b.password.trim()){i("Please enter both email and password to login."),h(!1);return}const $={email:b.email,password:b.password,userType:b.userType||"customer"};console.log(" Attempting login:",$);const w=await p("login",$);w.success&&(u(`Login successful! Welcome back, ${w.data.user.name}!`),w.data.token&&localStorage.setItem("authToken",w.data.token),localStorage.setItem("userData",JSON.stringify(w.data.user)),setTimeout(()=>{w.data.user.userType==="provider"||w.data.user.userType==="both"?t("/provider/dashboard"):t("/customer")},1e3))}catch($){console.error(" Login error:",$),i($.message||"Something went wrong. Please try again.")}finally{h(!1)}},X=()=>{var v;return((v=f[b.country])==null?void 0:v.code)||"+234"},_=()=>{F(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50 flex items-center justify-center p-4",children:[k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ne,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Email Verified Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your email has been verified. You can now login to your account."}),e.jsx("button",{onClick:_,className:"w-full bg-green-600 text-white py-3 px-4 rounded-xl hover:bg-green-700 transition-colors font-semibold",children:"Continue to Login"})]})})}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width=%2220%22%20height=%2220%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cdefs%3E%3Cpattern%20id=%22grid%22%20width=%2220%22%20height=%2220%22%20patternUnits=%22userSpaceOnUse%22%3E%3Cpath%20d=%22M%2020%200%20L%200%200%200%2020%22%20fill=%22none%22%20stroke=%22%23e5e7eb%22%20stroke-width=%221%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect%20width=%22100%25%22%20height=%22100%25%22%20fill=%22url(%23grid)%22/%3E%3C/svg%3E')] opacity-30"}),e.jsxs("div",{className:"relative  w-full max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-3 animate-fade-in-up",children:[e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("div",{className:"  flex items-center justify-center hover:scale-110 transition-transform duration-300",children:e.jsx("img",{src:ga,alt:"HomeHeroes Logo",className:"w-[50px] h-[50px] object-contain"})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 leading-tight",children:["Welcome to Your",e.jsx("span",{className:"block",children:"Home Services Hub"})]}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Connect with trusted service providers today"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 bg-white/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300",children:[e.jsx(Le,{className:"w-8 h-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Verified Providers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"All professionals are background-checked"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 bg-white/80 backdrop-blur-sm p-4 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300",children:[e.jsx(Te,{className:"w-8 h-8 text-yellow-500 fill-current"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"5-Star Reviews"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trusted by 10,000+ homeowners"})]})]})]})]}),e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl border border-gray-200 p-8 animate-fade-in-up",children:[e.jsx("div",{className:"lg:hidden flex items-center justify-center space-x-3 mb-8",children:e.jsx("div",{className:"  flex items-center justify-center hover:scale-110 transition-transform duration-300",children:e.jsx("img",{src:ga,alt:"HomeHeroes Logo",className:"w-[40px] h-[40px] object-contain"})})}),!r&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${x==="signup"?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:"1"}),e.jsx("div",{className:"w-12 h-1 bg-gray-300"}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${x==="verify"||x==="complete"?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:"2"})]})}),e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-8",children:[e.jsx("button",{onClick:()=>{n(!0),E("signup"),i(""),u("")},className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 ${r?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),e.jsx("button",{onClick:()=>{n(!1),E("signup"),i(""),u("")},className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 ${r?"text-gray-600 hover:text-gray-900":"bg-white text-green-600 shadow-sm"}`,children:"Sign Up"})]}),e.jsxs("form",{onSubmit:r?K:x==="signup"?C:v=>v.preventDefault(),className:"space-y-6",children:[!r&&x==="signup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your full name",required:!0,minLength:2})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"password",value:b.password,onChange:T,className:"w-full pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your password (min. 6 characters)",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors",children:a?e.jsx(xa,{className:"w-5 h-5"}):e.jsx(rt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:b.confirmPassword,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Confirm your password",required:!0,minLength:6})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qc,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("select",{name:"country",value:b.country,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400 appearance-none bg-white",required:!0,children:e.jsx("option",{value:"NIGERIA",children:" Nigeria"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex items-center px-3 border border-r-0 border-gray-300 rounded-l-xl bg-gray-50",children:e.jsx("span",{className:"text-gray-600 text-sm",children:X()})}),e.jsx("input",{type:"tel",name:"phoneNumber",value:b.phoneNumber,onChange:T,className:"flex-1 pl-3 pr-4 py-3 border border-gray-300 rounded-r-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:`Enter your phone number (${((Z=f[b.country])==null?void 0:Z.length)||10} digits)`,required:!0,maxLength:((q=f[b.country])==null?void 0:q.length)||10})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I want to..."}),e.jsxs("select",{name:"userType",value:b.userType,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",children:[e.jsx("option",{value:"customer",children:"Find Services (Customer)"}),e.jsx("option",{value:"provider",children:"Provide Services (Provider)"}),e.jsx("option",{value:"both",children:"Both (Customer & Provider)"})]})]})]}),!r&&x==="complete"&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ne,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email!"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a verification link to"," ",e.jsx("strong",{children:b.email}),". Click the link in the email to verify your account."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:R,disabled:d,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:d?"Sending...":"Resend Verification Email"}),e.jsx("button",{type:"button",onClick:G,className:"w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"I've Verified My Email"}),e.jsx("button",{type:"button",onClick:()=>{n(!0),E("signup"),u("")},className:"w-full text-green-600 hover:text-green-700 font-medium",children:"Back to Login"})]})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:T,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"password",value:b.password,onChange:T,className:"w-full pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors",children:a?e.jsx(xa,{className:"w-5 h-5"}):e.jsx(rt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login as"}),e.jsxs("select",{name:"userType",value:b.userType,onChange:T,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 hover:border-gray-400",children:[e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"provider",children:"Service Provider"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 rounded border-gray-300 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-green-600 hover:text-green-700 font-medium hover:underline",children:"Forgot password?"})]})]}),g&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-xl text-sm animate-fade-in-up",children:g}),o&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm animate-fade-in-up",children:o}),!r&&x==="signup"&&e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-green-600 to-green-600 text-white py-3 px-6 rounded-xl hover:from-green-700 hover:to-green-700 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),r&&e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-green-600 to-green-600 text-white py-3 px-6 rounded-xl hover:from-green-700 hover:to-green-700 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),x==="signup"&&e.jsxs("p",{className:"mt-8 text-center text-sm text-gray-600",children:[r?"Don't have an account? ":"Already have an account? ",e.jsx("button",{type:"button",onClick:()=>{n(!r),i(""),u(""),E("signup")},className:"text-green-600 hover:text-green-700 font-medium hover:underline",children:r?"Sign up here":"Sign in here"})]})]})})]}),e.jsx("style",{children:`
          @keyframes fade-in-up {
            from {
              opacity: 0;
              transform: translateY(30px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          
          @keyframes scale-in {
            from {
              opacity: 0;
              transform: scale(0.9);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          
          .animate-fade-in-up {
            animation: fade-in-up 0.6s ease-out forwards;
          }
          
          .animate-scale-in {
            animation: scale-in 0.3s ease-out forwards;
          }
        `})]})},Mb=()=>{const[t,s]=c.useState(0),[r,n]=c.useState("all"),[a,l]=c.useState(null),o=c.useRef(null);c.useEffect(()=>{const u=()=>s(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const i=[{id:"all",name:"All Services",icon:bt},{id:"home",name:"Home Maintenance",icon:Wi},{id:"auto",name:"Auto Services",icon:Oi},{id:"beauty",name:"Beauty & Care",icon:Ct},{id:"domestic",name:"Domestic Help",icon:Lr},{id:"tech",name:"Smart Home & Tech",icon:dt}],d=[{category:"home",icon:Ct,image:"https://images.pexels.com/photos/4239146/pexels-photo-4239146.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"House Cleaning",description:"Professional deep cleaning services for your home",color:"blue"},{category:"home",icon:hh,image:"https://images.pexels.com/photos/4490201/pexels-photo-4490201.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Plumbing",description:"Expert plumbers for repairs and installations",color:"cyan"},{category:"home",icon:dt,image:"https://images.pexels.com/photos/257736/pexels-photo-257736.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Electrical",description:"Licensed electricians for all electrical needs",color:"yellow"},{category:"home",icon:vm,image:"https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Garden Care",description:"Garden maintenance and lawn care services",color:"green"},{category:"home",icon:bm,image:"https://images.pexels.com/photos/5691659/pexels-photo-5691659.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Handyman",description:"General repairs and maintenance tasks",color:"orange"},{category:"home",icon:qi,image:"https://images.pexels.com/photos/1669799/pexels-photo-1669799.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Painting",description:"Interior and exterior painting specialists",color:"purple"},{category:"home",icon:_f,image:"https://images.pexels.com/photos/8092/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"AC Repair",description:"Air conditioning repair and maintenance services",color:"blue"},{category:"home",icon:bt,image:"https://images.pexels.com/photos/5691607/pexels-photo-5691607.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Generator Repair",description:"Generator maintenance and emergency repairs",color:"red"},{category:"home",icon:_o,image:"https://images.pexels.com/photos/1249611/pexels-photo-1249611.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Carpentry",description:"Custom woodwork and furniture repair services",color:"orange"},{category:"home",icon:wm,image:"https://images.pexels.com/photos/4488659/pexels-photo-4488659.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Tiling",description:"Professional tile installation and repair",color:"cyan"},{category:"home",icon:Lr,image:"https://images.pexels.com/photos/585419/pexels-photo-585419.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Masonry",description:"Brick, block, and stone construction services",color:"gray"},{category:"home",icon:bt,image:"https://images.pexels.com/photos/1108101/pexels-photo-1108101.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Welding",description:"Metal fabrication and welding services",color:"orange"},{category:"home",icon:yf,image:"https://images.pexels.com/photos/4505171/pexels-photo-4505171.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Pest Control",description:"Professional pest elimination and prevention",color:"green"},{category:"auto",icon:Oi,image:"https://images.pexels.com/photos/3806288/pexels-photo-3806288.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Auto Mechanic",description:"Complete vehicle repair and maintenance",color:"red"},{category:"auto",icon:bm,image:"https://images.pexels.com/photos/3806245/pexels-photo-3806245.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Panel Beater",description:"Auto body repair and restoration services",color:"blue"},{category:"auto",icon:dt,image:"https://images.pexels.com/photos/3807267/pexels-photo-3807267.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Auto Electrician",description:"Vehicle electrical system diagnostics and repair",color:"yellow"},{category:"auto",icon:bt,image:"https://images.pexels.com/photos/13065690/pexels-photo-13065690.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Vulcanizer",description:"Tire repair and replacement services",color:"gray"},{category:"auto",icon:Ct,image:"https://images.pexels.com/photos/3354648/pexels-photo-3354648.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Car Wash",description:"Mobile car detailing at your location",color:"cyan"},{category:"beauty",icon:_o,image:"https://images.pexels.com/photos/3065209/pexels-photo-3065209.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Hair Stylist",description:"Professional hair styling and treatments",color:"purple"},{category:"beauty",icon:Ct,image:"https://images.pexels.com/photos/3065171/pexels-photo-3065171.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Makeup Artist",description:"Bridal and event makeup services",color:"pink"},{category:"beauty",icon:qi,image:"https://images.pexels.com/photos/1813272/pexels-photo-1813272.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Nail Technician",description:"Manicure, pedicure, and nail art services",color:"red"},{category:"beauty",icon:Lr,image:"https://images.pexels.com/photos/3757957/pexels-photo-3757957.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Massage Therapist",description:"Relaxation and therapeutic massage services",color:"blue"},{category:"beauty",icon:_o,image:"https://images.pexels.com/photos/3738388/pexels-photo-3738388.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Tailor",description:"Custom clothing and alterations",color:"purple"},{category:"domestic",icon:Wi,image:"https://images.pexels.com/photos/4473622/pexels-photo-4473622.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Nanny",description:"Professional childcare services",color:"pink"},{category:"domestic",icon:Lr,image:"https://images.pexels.com/photos/2074130/pexels-photo-2074130.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Cook",description:"Personal chef and meal preparation services",color:"orange"},{category:"domestic",icon:Ct,image:"https://images.pexels.com/photos/6197118/pexels-photo-6197118.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Laundry",description:"Professional laundry and dry cleaning services",color:"blue"},{category:"domestic",icon:vm,image:"https://images.pexels.com/photos/2132240/pexels-photo-2132240.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Gardener",description:"Regular garden maintenance and landscaping",color:"green"},{category:"domestic",icon:bt,image:"https://images.pexels.com/photos/8761675/pexels-photo-8761675.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Security Guard",description:"Professional security and monitoring services",color:"gray"},{category:"tech",icon:Dt,image:"https://images.pexels.com/photos/430208/pexels-photo-430208.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"CCTV Installer",description:"Security camera installation and setup",color:"gray"},{category:"tech",icon:dt,image:"https://images.pexels.com/photos/433308/pexels-photo-433308.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Solar Technician",description:"Solar panel installation and maintenance",color:"yellow"},{category:"tech",icon:bt,image:"https://images.pexels.com/photos/257699/pexels-photo-257699.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Inverter Technician",description:"Inverter installation and repair services",color:"orange"},{category:"tech",icon:Lr,image:"https://images.pexels.com/photos/1148820/pexels-photo-1148820.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"IT Support",description:"Computer repair and tech support services",color:"blue"},{category:"tech",icon:wm,image:"https://images.pexels.com/photos/1350789/pexels-photo-1350789.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"Interior Designer",description:"Professional home and office design services",color:"purple"},{category:"tech",icon:bt,image:"https://images.pexels.com/photos/1201996/pexels-photo-1201996.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",title:"TV Repair",description:"Television and entertainment system repair",color:"red"}],h=u=>{const x={blue:"bg-blue-500",cyan:"bg-cyan-500",purple:"bg-purple-500",red:"bg-red-500",orange:"bg-orange-500",green:"bg-green-500",yellow:"bg-yellow-500",pink:"bg-pink-500",gray:"bg-gray-500"};return x[u]||x.green},g=r==="all"?d:d.filter(u=>u.category===r);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(ao,{scrollY:t}),e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white py-12 md:py-20 mb-8 md:mb-12 mt-14 servicesImg",children:e.jsxs("div",{className:"max-w-7xl md:h-[400px] mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4 md:mb-6",children:"Our Professional Services"}),e.jsx("p",{className:"text-lg md:text-2xl text-green-50 max-w-3xl mx-auto",children:"Connect with trusted professionals for all your home, auto, beauty, and tech needs"})]})}),e.jsx("div",{className:" shadow-lg mb-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3 justify-center",children:i.map(u=>{const x=u.icon;return e.jsxs("button",{onClick:()=>n(u.id),className:`px-4 py-3 md:px-6 md:py-3 rounded-xl text-sm md:text-base font-semibold transition-all duration-300 transform hover:scale-105 flex items-center gap-2 ${r===u.id?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:u.name}),e.jsx("span",{className:"inline sm:hidden",children:u.name.split(" ")[0]})]},u.id)})})})}),e.jsx("section",{ref:o,className:"py-8 md:py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.map((u,x)=>{const E=u.icon,k=a===x;return e.jsx("div",{onMouseEnter:()=>l(x),onMouseLeave:()=>l(null),className:"group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 cursor-pointer relative",children:e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent transition-opacity duration-300 ${k?"opacity-100":"opacity-60"}`}),e.jsx("div",{className:`absolute top-4 right-4 w-12 h-12 ${h(u.color)} rounded-xl flex items-center justify-center shadow-lg transform transition-all duration-300 ${k?"scale-110 rotate-12":"scale-100"}`,children:e.jsx(E,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:u.title}),e.jsx("p",{className:"text-white/90 text-sm",children:u.description})]}),e.jsx("div",{className:`absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/90 to-transparent transform transition-all duration-300 ${k?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:e.jsxs(Je,{to:"/login",className:`w-full ${h(u.color)} text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 hover:brightness-110 transition-all`,children:[e.jsx(Ne,{className:"w-4 h-4"}),"Book Now"]})})]})},x)})}),g.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 rounded-full mb-4",children:e.jsx(Dt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("p",{className:"text-2xl text-gray-500 font-semibold",children:"No services found in this category"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Try selecting a different category"})]})]})}),e.jsx(lo,{}),e.jsx(oo,{})]})},Lb=()=>{const[t,s]=c.useState(0),[r,n]=c.useState("customer"),[a,l]=c.useState(!1),o=c.useRef(null);c.useEffect(()=>{const x=()=>s(window.scrollY);return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]),c.useEffect(()=>{const x=new IntersectionObserver(([E])=>{E.isIntersecting&&l(!0)},{threshold:.1});return o.current&&x.observe(o.current),()=>x.disconnect()},[]);const i=[{number:1,icon:Dt,image:"https://images.pexels.com/photos/4386321/pexels-photo-4386321.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Find Services",description:"Browse our comprehensive catalog of vetted service providers and read authentic reviews from other customers.",details:["Search by service type or location","View detailed provider profiles","Read verified customer reviews","Compare ratings and experience"]},{number:2,icon:Me,image:"https://images.pexels.com/photos/6694543/pexels-photo-6694543.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Book & Schedule",description:"Choose your preferred time and book instantly with transparent pricing and no hidden fees.",details:["Select your preferred date and time","Get instant price estimates","Secure online booking","Receive instant confirmation"]},{number:3,icon:Ne,image:"https://images.pexels.com/photos/5668858/pexels-photo-5668858.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Get It Done",description:"Relax while our trusted providers complete your task to perfection with quality guarantee.",details:["Track service provider in real-time","Direct communication with provider","Quality assurance guarantee","Rate and review after completion"]},{number:4,icon:ks,image:"https://images.pexels.com/photos/4968391/pexels-photo-4968391.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Pay Securely",description:"Make secure payments through our platform with multiple payment options and buyer protection.",details:["Multiple payment methods","Secure payment gateway","Pay only after satisfaction","Digital receipts and invoices"]}],d=[{number:1,icon:wh,image:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Sign Up",description:"Create your professional profile and showcase your skills, experience, and certifications to potential customers.",details:["Complete quick registration","Upload certifications and ID","Set your service areas","Define your pricing"]},{number:2,icon:bh,image:"https://images.pexels.com/photos/3182773/pexels-photo-3182773.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Get Verified",description:"Complete our verification process to build trust with customers and stand out from the competition.",details:["Background check process","Skills verification","Document validation","Get your verified badge"]},{number:3,icon:Tr,image:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Get Matched",description:"Receive job requests that match your skills, availability, and location preferences.",details:["Real-time job notifications","Choose jobs that fit your schedule","View customer details and location","Accept or decline requests"]},{number:4,icon:wt,image:"https://images.pexels.com/photos/259027/pexels-photo-259027.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Get Paid",description:"Complete jobs and receive payment directly through our secure platform with fast payouts.",details:["Secure payment processing","Weekly or instant payouts","Track your earnings","Build your reputation"]}],h={customer:[{icon:Le,title:"Verified Professionals",description:"All service providers undergo thorough background checks and verification"},{icon:jm,title:"Transparent Pricing",description:"No hidden fees. See exact costs before booking"},{icon:Te,title:"Quality Guarantee",description:"100% satisfaction guarantee on all services"},{icon:Ji,title:"Easy Booking",description:"Book services in minutes from your phone or computer"},{icon:Ds,title:"24/7 Support",description:"Our customer support team is always here to help"},{icon:Et,title:"Secure Payments",description:"Protected transactions with multiple payment options"}],provider:[{icon:Me,title:"Flexible Schedule",description:"Work when you want and choose jobs that fit your schedule"},{icon:Ar,title:"Grow Your Business",description:"Reach thousands of customers looking for your services"},{icon:wt,title:"Competitive Rates",description:"Set your own prices and maximize your earnings"},{icon:ka,title:"Job Matching",description:"Get matched with jobs that fit your skills and location"},{icon:dt,title:"Fast Payments",description:"Get paid quickly after completing jobs"},{icon:os,title:"Build Reputation",description:"Earn reviews and ratings to attract more customers"}]},g=r==="customer"?i:d,u=r==="customer"?h.customer:h.provider;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(ao,{scrollY:t}),e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-600 text-white py-20 howitworksImg mt-14",children:e.jsxs("div",{className:"max-w-7xl md:h-[400px] mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"How It Works"}),e.jsx("p",{className:"text-xl md:text-2xl text-green-50 max-w-3xl mx-auto text-gray-500",children:"Getting started is simple. Whether you need help or want to help others, we've made the process seamless."})]})}),e.jsx("div",{className:"relative shadow-lg bg-white",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>n("customer"),className:`px-8 py-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 flex items-center gap-2 ${r==="customer"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Dt,{className:"w-5 h-5"}),"For Customers"]}),e.jsxs("button",{onClick:()=>n("provider"),className:`px-8 py-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 flex items-center gap-2 ${r==="provider"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Tr,{className:"w-5 h-5"}),"For Providers"]})]})})}),e.jsx("section",{ref:o,className:"py-20",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"space-y-20",children:g.map((x,E)=>{const k=x.icon;return e.jsxs("div",{className:`flex flex-col ${E%2===0?"lg:flex-row":"lg:flex-row-reverse"} gap-12 items-center transition-all duration-1000 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${E*200}ms`},children:[e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl group",children:[e.jsx("img",{src:x.image,alt:x.title,className:"w-full h-96 object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-6 left-6 w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center text-white text-3xl font-bold shadow-xl",children:x.number}),e.jsx("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-sm rounded-xl p-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-gray-900",children:x.title})]})})]})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-8 hover:shadow-xl transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(k,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-3xl font-bold text-green-600",children:x.title})]}),e.jsx("p",{className:"text-gray-700 text-lg mb-6 leading-relaxed",children:x.description}),e.jsx("ul",{className:"space-y-3",children:x.details.map((F,b)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-600 mr-3 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:F})]},b))})]})})]},E)})})})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Benefits"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Why Choose Us?"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((x,E)=>{const k=x.icon;return e.jsxs("div",{className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-green-100",children:[e.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(k,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:x.title}),e.jsx("p",{className:"text-gray-600",children:x.description})]},E)})})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-green-900 via-emerald-800 to-green-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(34,197,94,0.1),transparent_50%)]"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:r==="customer"?"Ready to Get Started?":"Ready to Start Earning?"}),e.jsx("p",{className:"text-xl mb-8 text-green-100",children:r==="customer"?"Join thousands of satisfied customers who trust us for their service needs.":"Join our network of professional service providers and grow your business."}),e.jsxs(Je,{to:r==="customer"?"/login":"/provider-login",className:"group bg-white text-gray-900 px-10 py-4 rounded-xl hover:bg-gray-100 transition-all duration-300 font-bold text-lg shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 inline-flex items-center gap-3",children:[r==="customer"?"Find Services":"Become a Provider",e.jsx(_s,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"FAQ"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900",children:"Frequently Asked Questions"})]}),e.jsx("div",{className:"space-y-6",children:r==="customer"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-green-600"}),"How do I book a service?"]}),e.jsx("p",{className:"text-gray-600",children:"Simply browse our services, select the one you need, choose your preferred date and time, and confirm your booking. You'll receive instant confirmation."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-green-600"}),"Are the service providers vetted?"]}),e.jsx("p",{className:"text-gray-600",children:"Yes! All our service providers undergo thorough background checks, verification, and must maintain high ratings to stay on our platform."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5 text-green-600"}),"What if I'm not satisfied with the service?"]}),e.jsx("p",{className:"text-gray-600",children:"We offer a 100% satisfaction guarantee. If you're not happy with the service, contact our support team and we'll make it right."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(jm,{className:"w-5 h-5 text-green-600"}),"How much does it cost to join?"]}),e.jsx("p",{className:"text-gray-600",children:"It's free to sign up! We only charge a small service fee when you complete jobs through our platform."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(wt,{className:"w-5 h-5 text-green-600"}),"How do I get paid?"]}),e.jsx("p",{className:"text-gray-600",children:"Payments are processed securely through our platform. You can choose weekly payouts or instant transfers (fees may apply)."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Ar,{className:"w-5 h-5 text-green-600"}),"Can I set my own prices?"]}),e.jsx("p",{className:"text-gray-600",children:"Yes! You have full control over your pricing. We provide market rate suggestions to help you stay competitive."})]})]})})]})}),e.jsx(lo,{}),e.jsx(oo,{})]})},Bb=()=>{const[t,s]=c.useState(0),[r,n]=c.useState(!1),a=c.useRef(null),[l,o]=c.useState({name:"",email:"",phone:"",subject:"",message:""}),[i,d]=c.useState(null),[h,g]=c.useState(!1),[u,x]=c.useState(""),E=c.useRef(null),k=c.useRef(!1),F={lat:6.5675,lng:3.2565};c.useEffect(()=>{const S=()=>s(window.scrollY);return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]),c.useEffect(()=>{const S=new IntersectionObserver(([p])=>{p.isIntersecting&&n(!0)},{threshold:.1});return a.current&&S.observe(a.current),()=>S.disconnect()},[]);const b=S=>{const{name:p,value:C}=S.target;o(R=>({...R,[p]:C}))},j=()=>{if(!l.name||!l.email||!l.subject||!l.message){d("error"),setTimeout(()=>d(null),3e3);return}d("sending"),setTimeout(()=>{d("success"),o({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>{d(null)},5e3)},1500)},y=c.useCallback(async()=>{var S;if(!(k.current||!E.current))try{if(console.log(" Initializing map..."),!await it.loadGoogleMaps())throw new Error("Failed to load Google Maps");if(it.initializeMap(E.current,{zoom:15,center:F}),(S=window.google)!=null&&S.maps){new window.google.maps.Marker({position:F,map:it.getMap(),title:"Our Office",icon:{url:`data:image/svg+xml;base64,${btoa(`
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24 0C15.168 0 8 7.168 8 16C8 28 24 48 24 48C24 48 40 28 40 16C40 7.168 32.832 0 24 0Z" fill="#10B981"/>
                <circle cx="24" cy="16" r="6" fill="white"/>
              </svg>
            `)}`,scaledSize:new window.google.maps.Size(48,48),anchor:new window.google.maps.Point(24,48)}});const C=new window.google.maps.InfoWindow({content:`
            <div class="p-3">
              <h3 class="font-bold text-gray-900 mb-1">Our Office</h3>
              <p class="text-sm text-gray-600">Genesis Estate, Aboru</p>
              <p class="text-sm text-gray-600">Iyanu Ipaja, Lagos, Nigeria</p>
            </div>
          `}),R=new window.google.maps.Marker({position:F,map:it.getMap()});R.addListener("click",()=>{C.open(it.getMap(),R)})}k.current=!0,g(!0),console.log(" Map initialized successfully")}catch(p){console.error(" Map initialization error:",p),x(p instanceof Error?p.message:"Failed to load map")}},[]);c.useEffect(()=>{const S=setTimeout(()=>{y()},1e3);return()=>{clearTimeout(S)}},[y]);const f=[{icon:ot,title:"Phone",detail:"+234 806 998 0777",description:"Mon-Fri from 8am to 5pm",link:"tel:+2348069980777",gradient:"from-blue-500 to-blue-600"},{icon:ut,title:"Email",detail:"support@homeheroes.help",description:"We'll respond within 24 hours",link:"mailto:support@homeheroes.help",gradient:"from-purple-500 to-purple-600"},{icon:We,title:"Office",detail:"Genesis Estate, Aboru",description:"Iyanu Ipaja, Lagos, Nigeria",link:"https://maps.google.com/?q=6.5675,3.2565",gradient:"from-green-500 to-green-600"},{icon:ns,title:"Live Chat",detail:"Chat with our team",description:"Available 24/7 for urgent matters",link:"#",gradient:"from-orange-500 to-orange-600"}],T=[{question:"How quickly will I get a response?",answer:"We aim to respond to all inquiries within 24 hours during business days. Urgent matters are prioritized and typically receive responses within 2-4 hours."},{question:"Can I schedule a call with your team?",answer:"Yes! Simply mention your preferred time in the message form, and our team will reach out to confirm a convenient time for both parties."},{question:"Do you offer customer support in multiple languages?",answer:"Currently, we offer support in English. However, we're working on expanding our language support to better serve our diverse customer base."},{question:"What information should I include in my message?",answer:"Please include your account details (if applicable), a clear description of your inquiry or issue, and any relevant screenshots or documents that might help us assist you better."}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(ao,{scrollY:t}),e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-600 text-white py-20 contactus mt-14",children:e.jsxs("div",{className:"max-w-7xl md:h-[500px] mx-auto px-4 sm:px-6 lg:px-8 text-center flex flex-col justify-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Get In Touch"}),e.jsx("p",{className:"text-xl md:text-2xl text-green-50 max-w-3xl mx-auto text-gray-500",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((S,p)=>{const C=S.icon;return e.jsxs("a",{href:S.link,className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-green-100",children:[e.jsx("div",{className:`bg-gradient-to-br ${S.gradient} w-14 h-14 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(C,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:S.title}),e.jsx("p",{className:"text-green-600 font-semibold mb-2",children:S.detail}),e.jsx("p",{className:"text-gray-600 text-sm",children:S.description})]},p)})})})}),e.jsx("section",{ref:a,className:"py-20 bg-gradient-to-br from-gray-50 to-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:`transition-all duration-1000 ${r?"opacity-100 translate-x-0":"opacity-0 -translate-x-10"}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Contact Form"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Send Us a Message"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Fill out the form below and our team will get back to you shortly."}),e.jsxs("div",{className:"space-y-6 bg-white rounded-2xl p-8 shadow-lg border-2 border-green-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",name:"name",value:l.name,onChange:b,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",value:l.email,onChange:b,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:b,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all",placeholder:"+234 123 456 7890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Subject *"}),e.jsx("input",{type:"text",name:"subject",value:l.subject,onChange:b,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all",placeholder:"How can we help?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Message *"}),e.jsx("textarea",{name:"message",value:l.message,onChange:b,rows:5,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all resize-none",placeholder:"Tell us more about your inquiry..."})]}),e.jsx("button",{onClick:j,disabled:i==="sending",className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-xl font-bold text-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i==="sending"?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(Na,{className:"w-5 h-5"}),"Send Message"]})}),i==="success"&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 text-green-700 px-4 py-3 rounded-xl flex items-center gap-2",children:[e.jsx(gr,{className:"w-5 h-5"}),"Message sent successfully! We'll get back to you soon."]}),i==="error"&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5"}),"Please fill in all required fields."]})]})]}),e.jsxs("div",{className:`transition-all duration-1000 delay-300 ${r?"opacity-100 translate-x-0":"opacity-0 translate-x-10"}`,children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Why Us"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why Contact Us?"}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-green-100 hover:shadow-xl transition-all",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mr-4",children:e.jsx(gr,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Expert Support"}),e.jsx("p",{className:"text-gray-600",children:"Our dedicated support team has years of experience and is ready to help with any questions or concerns."})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-green-100 hover:shadow-xl transition-all",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mr-4",children:e.jsx(gr,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Quick Response"}),e.jsx("p",{className:"text-gray-600",children:"We prioritize your inquiries and aim to respond within 24 hours during business days."})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-green-100 hover:shadow-xl transition-all",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mr-4",children:e.jsx(gr,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Personalized Solutions"}),e.jsx("p",{className:"text-gray-600",children:"Every inquiry is unique. We provide tailored solutions that meet your specific needs."})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-green-100 hover:shadow-xl transition-all",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mr-4",children:e.jsx(gr,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Secure & Private"}),e.jsx("p",{className:"text-gray-600",children:"Your information is protected with industry-standard security measures and kept confidential."})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(Ie,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Business Hours"})]}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Monday - Friday:"}),e.jsx("span",{className:"font-semibold",children:"8:00 AM - 5:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Saturday:"}),e.jsx("span",{className:"font-semibold",children:"9:00 AM - 2:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sunday:"}),e.jsx("span",{className:"font-semibold",children:"Closed"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"* Emergency support available 24/7 for urgent matters"})]})]})]})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"FAQ"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900",children:"Frequently Asked Questions"})]}),e.jsx("div",{className:"space-y-6",children:T.map((S,p)=>e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white border-2 border-green-100 rounded-2xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5 text-green-600"}),S.question]}),e.jsx("p",{className:"text-gray-600",children:S.answer})]},p))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Location"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Find Us"})]}),e.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl border-2 border-green-100",children:[!h&&!u&&e.jsx("div",{className:"h-96 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading map..."})]})}),u&&e.jsx("div",{className:"h-96 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center max-w-md px-4",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Map temporarily unavailable"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:u}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Our Location:"}),e.jsx("p",{className:"text-gray-600",children:"6, Sam Iyamu , Genesis Estate, Aboru"}),e.jsx("p",{className:"text-gray-600",children:"Lagos, Nigeria"}),e.jsx("a",{href:"https://maps.google.com/?q=6.5244,3.3792",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-green-600 hover:text-green-700 font-medium",children:"View on Google Maps "})]})]})}),e.jsx("div",{ref:E,className:`w-full h-96 ${!h||u?"hidden":"block"}`,style:{minHeight:"384px"}})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-green-100 text-center",children:[e.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform",children:e.jsx(We,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-xl",children:"Address"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"6, Sam Iyamu , Genesis Estate, Aboru"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Lagos, Nigeria"})]}),e.jsxs("div",{className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-green-100 text-center",children:[e.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform",children:e.jsx(gr,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-xl",children:"Parking"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Free parking available"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Ground floor & basement"})]}),e.jsxs("div",{className:"group bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-transparent hover:border-green-100 text-center",children:[e.jsx("div",{className:"bg-green-100 w-14 h-14 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform",children:e.jsx(gr,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-xl",children:"Public Transport"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Bus stop: 2 mins walk"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Metro: 5 mins walk"})]})]})]})}),e.jsx(lo,{}),e.jsx(oo,{})]})},Fb=()=>{const{pathname:t}=zt();return c.useEffect(()=>{["/","/services","/how-it-works"].includes(t)&&window.scrollTo(0,0)},[t]),null},Xc=()=>{try{const t=localStorage.getItem("authToken"),s=localStorage.getItem("userData");return!t||!s?null:{user:JSON.parse(s),authToken:t}}catch(t){return console.error("Error parsing user data:",t),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),null}},_h=t=>t==="provider"||t==="both"?"/provider/dashboard":"/customer",Vm=({children:t})=>{const s=Xc();return s?s.user.isEmailVerified?e.jsx(e.Fragment,{children:t}):e.jsx(gs,{to:"/verify-email",replace:!0}):e.jsx(gs,{to:"/login",replace:!0})},Rn=({children:t})=>{const s=Xc();if(s){if(!s.user.isEmailVerified)return e.jsx(gs,{to:"/verify-email",replace:!0});const r=_h(s.user.userType);return e.jsx(gs,{to:r,replace:!0})}return e.jsx(e.Fragment,{children:t})},_b=()=>{const t=Xc();if(!t)return e.jsx(gs,{to:"/login",replace:!0});if(!t.user.isEmailVerified)return e.jsx(gs,{to:"/verify-email",replace:!0});const s=_h(t.user.userType);return e.jsx(gs,{to:s,replace:!0})};function Db(){return e.jsxs(df,{children:[e.jsx(Fb,{}),e.jsx("div",{className:"App",children:e.jsxs(Gc,{children:[e.jsx(Be,{path:"/",element:e.jsx(Rn,{children:e.jsx(Gf,{})})}),e.jsx(Be,{path:"/services",element:e.jsx(Rn,{children:e.jsx(Mb,{})})}),e.jsx(Be,{path:"/contact-us",element:e.jsx(Rn,{children:e.jsx(Bb,{})})}),e.jsx(Be,{path:"/how-it-works",element:e.jsx(Rn,{children:e.jsx(Lb,{})})}),e.jsx(Be,{path:"/waitlist",element:e.jsx(Rn,{children:e.jsx(hb,{})})}),e.jsx(Be,{path:"/provider-login",element:e.jsx(Yf,{})}),e.jsx(Be,{path:"/login",element:e.jsx($b,{})}),e.jsx(Be,{path:"/verify-email",element:e.jsx(Kf,{})}),e.jsx(Be,{path:"/dashboard",element:e.jsx(_b,{})}),e.jsx(Be,{path:"/customer/*",element:e.jsx(Vm,{children:e.jsx(xb,{})})}),e.jsx(Be,{path:"/provider/*",element:e.jsx(Vm,{children:e.jsx(Rb,{})})}),e.jsx(Be,{path:"*",element:e.jsx(gs,{to:"/",replace:!0})})]})})]})}rh(document.getElementById("root")).render(e.jsx(Db,{}));
